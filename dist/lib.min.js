/*
Copyright (c) 2012 https://github.com/monai/

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(a,e){var d=function f(){a.console&&a.console.log&&a.console.log.apply?a.console.log.apply(a.console,arguments):(f.output.push(b.array.toArray(arguments).join(", ")),a.clearTimeout(f.time),f.time=a.setTimeout(function(){var b=f.output.join("\r\n");f.output=[];alert(b)},1E3));return arguments[0]},b={log:d,inspect:function(f){var b=[],a;for(a in f)b.push(a+": "+f[a]);return b.join("\r\n")},window:a,document:a&&a.document,isReady:!1,isDOMReady:!1,ready:function(f,a){f===e?(b.isReady=!0,b.event.dispatch(b.document,
"libReady"),b.event.remove(b.document,"libReady")):"function"==typeof f&&(!b.isReady&&!a?b.event.add(b.document,"libReady",b.bind(f,b.window)):!b.isDOMReady&&a?b.event.add(b.document,"DOMReady",b.bind(f,b.window)):f())},extend:function(f){for(var b,a=0,d=arguments.length;++a<d;)for(b in arguments[a])f[b]=arguments[a][b];return f},bind:function(f,b){return"bind"in f?f.bind(b):function(){return f.apply(b,arguments)}},guid:function(f){if(!f)return++b.guid.id;f.__guid||(f.__guid=b.guid.id++);return f.__guid}};
b.log.output=[];b.guid.id=1;a.lib||(a.lib=b);a.log||(a.log=d)})(window);
(function(a,e){a.util={getType:function(a){var b=Object.prototype,c=b.toString.call(a);if(null===a)return"null";if(a===e)return"undefined";if(!0===a||!1===a)return"boolean";if("[object Array]"==c)return"Array";if("[object Arguments]"==c||b.hasOwnProperty.call(a,"callee"))return"Arguments";if("[object Function]"==c)return"Function";if("[object String]"==c)return"String";if("[object Number]"==c)return"Number";if("[object Date]"==c)return"Date";if("[object RegExp]"==c)return"RegExp";if("object"==typeof a)return this.getFunctionName(a.constructor)},
isObject:function(a){return a===Object(a)},isArray:function(a){return"Array"==this.getType(a)},isArguments:function(a){return"Arguments"==this.getType(a)},isFunction:function(a){return"Function"==this.getType(a)},isString:function(a){return"String"==this.getType(a)},isNumber:function(a){return"Number"==this.getType(a)},isDate:function(a){return"Date"==this.getType(a)},isRegExp:function(a){return"RegExp"==this.getType(a)},getFunctionName:function(a){if(this.isFunction(a)){if(/^function (\S+?)\(/.test(a.toString()))return RegExp.$1}else return null},
inherits:function(a,b){a.superConstructor=b;if(Object.create)a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});else{var c=function(){};c.prototype=b.prototype;a.prototype=new c}}}})(lib);
(function(a){function e(d,b){if(this==a.util)return new e(d,b);this.name=d;this.endTime=this.startTime=null;(b||"undefined"==typeof b)&&this.start()}a.extend(e.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var e=this.stop();a.log(this.name+": "+e+"ms")}});a.util.Benchmark=e})(lib);
(function(a,e){function d(f,b){if(this==a.util)return new d(f,b);this.__guid=a.guid();this._bound={};1==arguments.length&&a.dom.isTypeOf(b,a.dom.ELEMENT_NODE)&&(b=f,f=e);this.value=f;b&&(this._element=b,this._eventName="__bindableChange"+this.__guid)}function b(b,a){for(var e in this._bound)c.call(this,e,b,a)}function c(b,c,e){b=this._bound[b];a.util.isArray(b.target)?b.target[0][b.target[1]]=c:b.target.call(this,c,e)}a.extend(d.prototype,{dispose:function(){this.unbind()},toString:function(){return"[object Bindable]"},
valueOf:function(){return this.get()},get:function(){return this.value},set:function(f){var c=this.value;this.value=f;this._element?a.event.dispatch(this._element,this._eventName,{value:this.value,oldValue:c}):a.bind(b,this)(this.value,c);return this},bind:function(b,e){var d=a.guid(),g={id:d,target:null,proxy:null};b&&"string"==typeof e?g.target=[b,e]:a.util.isFunction(b)&&(g.target=b);this._bound[d]=g;this._element&&(g.proxy=a.bind(function(b){a.bind(c,this)(d,b.value,b.oldValue)},this),a.event.add(this._element,
this._eventName,g.proxy))},unbind:function(b,c){var e=this._bound,d;for(d in e){var j=e[d].target;if((j=j===b||a.util.isArray(j)&&j[0]===b&&j[1]===c)||!b)this._element&&a.event.remove(this._element,this._eventName,this._bound[d].proxy),delete e[d];if(j)break}}});a.util.Bindable=d})(lib);
(function(a){a.object={keys:function(a){if("keys"in Object)return Object.keys(a);var d=[],b;for(b in a)d.push(b);return d},createFromTemplate:function(a,d){var d=d?d:{},b=a.split(".");(function f(b,a){b[a[0]]||(b[a[0]]={});1<a.length&&f(b[a[0]],a.splice(1))})(d,b);return d},subtract:function(a,d){var b={},c;for(c in a)"undefined"==typeof d[c]&&(b[c]=a[c]);return b}}})(lib);
(function(a){a.array={toArray:function(a){var d=[];try{d=Array.prototype.slice.call(a,0)}catch(b){for(var c=0,f=a.length;c<f;c++)d[c]=a[c]}return d},indexOf:function(e,d){for(var b=0,c=e.length;b<c;b++)if(a.util.isArray(d)?this.isEqual(e[b],d):e[b]===d)return b;return-1},lastIndexOf:function(e,d){for(var b=e.length-1;0<=b;b--)if(a.util.isArray(d)?this.isEqual(e[b],d):e[b]===d)return b;return-1},inArray:function(a,d){return-1<this.indexOf(a,d)?!0:!1},forEach:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+
" is not a function");if("forEach"in e)e.forEach(d,b||a.window);else for(var c=0,f=e.length;c<f;c++)d.call(b||a.window,e[c],c,e)},every:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("every"in e)return e.every(d,b||a.window);for(var c=0,f=e.length;c<f;c++)if(c in e&&!d.call(b||a.window,e[c],c,e))return!1;return!0},some:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("some"in e)return e.some(d,b||a.window);for(var c=0,f=
e.length;c<f;c++)if(c in e&&d.call(b||a.window,e[c],c,e))return!0;return!1},filter:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("filter"in e)return e.filter(d,b||a.window);for(var c=[],f=0,h=e.length;f<h;f++)f in e&&d.call(b||a.window,e[f],f,e)&&c.push(e[f]);return c},map:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("map"in e)return e.map(d,b||a.window);for(var c=e.length,f=Array(c),h=0;h<c;h++)h in e&&(f[h]=d.call(b||
a.window,e[h],h,e));return f},reduce:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduce"in e)return Array.prototype.reduce.apply(e,b?[d,b]:[d]);var c=e.length,f="undefined"==typeof b;if(0==c&&f)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,b=f?b:e[h++];h<c;h++)h in e&&(b=d.call(a.window,b,e[h],h,e));return b},reduceRight:function(e,d,b){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduceRight"in
e)return Array.prototype.reduceRight.apply(e,b?[d,b]:[d]);var c=e.length,f="undefined"==typeof b;if(0==c&&f)throw new TypeError("Reduce of empty array with no initial value");c-=1;for(b=f?b:e[c--];0<=c;c--)c in e&&(b=d.call(a.window,b,e[c],c,e));return b},isEqual:function(a){for(var d=!0,b=a.length,c=1,f=arguments.length;c<f;c++){if(b!=arguments[c].length)return!1;for(var h=0;h<b;h++)if(a[h]instanceof Array||arguments[c][h]instanceof Array)if(a[h]instanceof Array&&arguments[c][h]instanceof Array){if(d=
this.isEqual(a[h],arguments[c][h]),!d)break}else return!1;else if(d=a[h]==arguments[c][h],!d)break;if(!d)break}return d},flatten:function(a){return this.reduce(a,function(a,b){return a.concat(b)})},unique:function(e){return a.array.reduce(e,a.bind(function(a,b){this.inArray(a,b)||a.push(b);return a},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(e){var d=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(e,a.bind(function(b){return!this.inArray(d,
b)},this))},intersection:function(e){var d=this.toArray(arguments).slice(1);return this.filter(this.unique(e),a.bind(function(b){return this.every(d,a.bind(function(a){return 0<=this.indexOf(a,b)},this))},this))}}})(lib);
(function(a){a.string={trim:function(a){if("trim"in String)return String.trim(a);for(var a=a.replace(/^\s\s*/,""),d=a.length;/\s/.test(a.charAt(--d)););return a.slice(0,d+1)},trimLeft:function(a){return"trimLeft"in String?String.trimLeft(a):a.replace(/^\s\s*/,"")},trimRight:function(a){if("trimRight"in String)return String.trimRight(a);for(var d=a.length;/\s/.test(a.charAt(--d)););return a.slice(0,d+1)},padding:function(a,d,b){"string"!=typeof a&&(a=a.toString());var c=Math.abs(b);if(a.length>=c)return a;
for(var f=Array(c-a.length),h=0,i=f.length;h<i;h++)f[h]=d;c==b?f.push(a):f.unshift(a);return f.join("")},format:function(a,d){return a.replace(/\{(\d+)\}/g,function(b,a){return d[parseInt(a)]})},camelToDash:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}}})(lib);
(function(a){a.date={parseISOString:function(a){var d=Date.parse(a);if(!isNaN(d))return new Date(d);var a=a.match(/\d+/g),a=new Date(a[0],parseInt(a[1],10)-1,a[2],a[3],a[4],a[5],a[6]),b=(new Date).getTimezoneOffset(),d=Math.abs(b),b=d==b?-1:1,c=(d-d%60)/60,d=d-60*c;a.setHours(a.getHours()+c*b);a.setMinutes(a.getMinutes()+d*b);return a},toISOString:function(e){return"toISOString"in e?e.toISOString():e.getUTCFullYear()+"-"+a.util.padding(e.getUTCMonth()+1,0,2)+"-"+a.util.padding(e.getUTCDate(),0,2)+
"T"+a.util.padding(e.getUTCHours(),0,2)+":"+a.util.padding(e.getUTCMinutes(),0,2)+":"+a.util.padding(e.getUTCSeconds(),0,2)+"."+a.util.padding(e.getUTCMilliseconds(),0,3)+"Z"}}})(lib);
(function(a){a.JSON={parse:function(e){if(a.window.JSON&&"parse"in a.window.JSON)return a.window.JSON.parse(e);if("string"!=typeof e&&"undefined"!=typeof e)return e;if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/\"[^\"\\\n\r]*\"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return ("+e+")"))();throw new SyntaxError("Invalid JSON");},stringify:function(e){var d;if(a.window.JSON&&"stringify"in
a.window.JSON)return a.window.JSON.stringify(e);d=a.util.getType(e);if("Object"==d||"Array"==d)return(void 0)(e);throw new TypeError("Cannot stringify function to JSON");}}})(lib);
(function(a,e){a.dom={byId:function(b){return a.document.getElementById(b)},byTag:function(b,c){return(c||a.document).getElementsByTagName(b)},byQuery:function(b,c){return(c||a.document).querySelector(name)},byQueryAll:function(b,c){return(c||a.document).querySelectorAll(name)},byClass:function(b,c,f){"object"==typeof c&&"undefined"==typeof f&&(f=c,c=e);if(a.document.getElementsByClassName)for(var d=(f||a.document).getElementsByClassName(b),i=c?RegExp("\\b"+c+"\\b","i"):null,b=[],g=0;g<d.length;g++)(!i||
i.test(d[g].nodeName))&&b.push(d[g]);else if(c=c||"*",f=f||a.document,a.document.evaluate){for(var j=b.split(" "),i="",l="http://www.w3.org/1999/xhtml"===a.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,b=[],g=0;g<j.length;g++)i+="[contains(concat(' ', @class, ' '), ' "+j[g]+" ')]";try{d=a.document.evaluate(".//"+c+i,f,l,0,null)}catch(k){d=a.document.evaluate(".//"+c+i,f,null,0,null)}for(;g=d.iterateNext();)b.push(g)}else{j=b.split(" ");i=[];d="*"===c&&f.all?f.all:f.getElementsByTagName(c);
b=[];for(g=0;g<j.length;g++)i.push(RegExp("(^|\\s)"+j[g]+"(\\s|$)"));for(g=0;g<d.length;g++){c=!1;for(f=0;f<i.length&&!(c=i[f].test(d[g].className),!c);f++);c&&b.push(d[g])}}return b},parent:function(b,a,f){a=a&&RegExp("(^|\\s)"+a+"(\\s|$)");for(f=f&&f.toUpperCase();(b=b.parentNode)&&(a&&!a.test(b.className)||f&&f!=b.nodeName););return b},isChild:function(a,c){for(;a=a.parentNode;)if(a===c)return!0;return!1},prev:function(a,c,f){c=c&&RegExp("(^|\\s)"+c+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.previousSibling)&&
(1!=a.nodeType||c&&!c.test(a.className)||f&&f!=a.nodeName););return a},next:function(a,c,f){c=c&&RegExp("(^|\\s)"+c+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.nextSibling)&&(1!=a.nodeType||c&&!c.test(a.className)||f&&f!=a.nodeName););return a},create:function(b){var c=a.document.createElement("div");c.innerHTML=b;return this.remove(c.firstChild)},remove:function(a){var c=this.parent(a);return c&&c.removeChild(a)},before:function(a,c){var f=this.parent(c);return f&&f.insertBefore(a,c)},after:function(a,
c){var f=this.parent(c);return f&&f.insertBefore(a,c.nextSibling)},hasClass:function(a,c){return a.classList&&a.classList.contains?a.classList.contains(c):RegExp("(^|\\s)"+c+"(\\s|$)").test(a.className)},addClass:function(a,c){this.hasClass(a,c)||(a.classList&&a.classList.add?a.classList.add(c):a.className+=(a.className?" ":"")+c);return a},removeClass:function(a,c){a.classList&&a.classList.remove?a.classList.remove(c):a.className=a.className.replace(RegExp("(^|\\s)"+c+"(\\s|$)"),"$2");return a},
toggleClass:function(a,c){if(a.classList&&a.classList.toggle)a.classList.toggle(c);else return this.hasClass(a,c)?this.removeClass(a,c):this.addClass(a,c)},getStyle:function(b,c,f){var d=null,e=!1;a.window&&a.window.getComputedStyle?d=a.window.getComputedStyle(b,f||null)[c]:b.currentStyle?d=b.currentStyle[c]:(d=b.style[c],e=!0);return!d&&!e?b.style[c]:d},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,
DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(b){return!a.util.isObject(b)||!("nodeType"in b||"number"==typeof b.nodeType)?!1:0<b.nodeType&&13>b.nodeType},isTypeOf:function(a,c){if(this.isDOMNode(a)){for(var f=0,h=d.length;f<h;f++)if(a.nodeType==d[f][0]&&(c|d[f][1])==c)return!0;return!1}},dataset:{get:function(b,c){if(a.util.isArray(c)){var f={};a.array.forEach(c,function(c){f[c]=a.dom.dataset.get(b,c)});return f}if(b.dataset)return b.dataset[c];
c=a.string.camelToDash(c);return b.getAttribute("data-"+c)},set:function(b,c,f){b.dataset?b.dataset[c]=f:(c=a.string.camelToDash(c),b.setAttribute("data-"+c,f||""))},remove:function(b,c){b.dataset?delete b.dataset[c]:(c=a.string.camelToDash(c),b.removeAttribute("data-"+c))}}};var d=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(a){function e(d){if(this==a.dom)return new e(d);this.items=[];this.length=0;if(d)for(var d=a.array.toArray(d),b=0;b<d.length;b++)d[b].nodeType&&a.array.inArray([1,9],d[b].nodeType)&&(this.length=this.push(d[b]))}a.extend(e.prototype,{toString:function(){return this.items.join(", ")},valueOf:function(){return this},length:0,item:function(a){return this.items[a]},push:function(a){return this.length=this.items.push(a)},pop:function(){var a=this.items.pop();this.length=this.items.length;return a},
unshift:function(a){return this.length=this.items.unshift(a)},shift:function(){var a=this.items.shift();this.length=this.items.length;return a},reverse:function(){this.items.reverse();return this},sort:function(a){this.items.sort(a);return this},splice:function(){for(var d=Array.prototype.splice.apply(this.items,arguments),b=[],c=0;c<this.items.length;c++)this.items[c].nodeType&&a.array.inArray([1,9],this.items[c].nodeType)&&b.push(this.items[c]);this.items=b;this.length=this.items.length;return new e(d)},
concat:function(){for(var a=this.items,b=0;b<arguments.length;b++)if(arguments[b]instanceof e)for(var c=0;c<arguments[b].length;c++)a.push(arguments[b].item(c));return new e(a)},subtract:function(){for(var a=this.items,b=[],c=0;c<arguments.length;c++)if(arguments[c]instanceof e){for(var f=0;f<a.length;f++){for(var h=!1,i=0;i<arguments[c].length;i++)a[f]==arguments[c].item(i)&&(h=!0);h||b.push(a[f])}a=b;b=[]}return new e(a)},slice:function(a,b){var c=this.items.slice(a,b);return new e(c)},toArray:function(){for(var a=
Array(this.items.length),b=0;b<this.items.length;b++)a[b]=this.items[b];return a},forEach:function(d,b){a.array.forEach(this.items,d,b)},every:function(d,b){return a.array.every(this.items,d,b)},some:function(d,b){return a.array.some(this.items,d,b)},filter:function(d,b){return a.array.filter(this.items,d,b)},map:function(d,b){return a.array.map(this.items,d,b)},byTag:function(d){for(var b=[],c=0;c<this.items.length;c++)for(var f=a.dom.byTag(d,this.items[c]),h=0;h<f.length;h++)b.push(f[h]);return new e(b)},
byClass:function(d,b){for(var c=[],f=0;f<this.items.length;f++)for(var h=a.dom.byClass(d,b,this.items[f]),i=0;i<h.length;i++)c.push(h[i]);return new e(c)}});a.dom.NodeList=e})(lib);
(function(a){function e(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&b.nodeName&&a.toElement&&a.toElement.nodeName&&(a.relatedTarget=a.toElement==a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function d(a){for(var b="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
c,d=0;++d<arguments.length;)for(c in b)"undefined"!=typeof arguments[d][b[c]]&&(a[b[c]]=arguments[d][b[c]]);a.originalEvent=arguments[1];return a}function b(){if(c.w3c){var a=!1,b=document.createElement("div");b.addEventListener("DOMAttrModified",function(c){c&&c.target&&c.target===b&&(a=!0)},!1);b.style.display="none";return a}return!0}var c={add:function(b,c,i){var g=c.toLowerCase();this.initEventProperty(b,c);b.__events[c].callbacks[a.guid(i)]=i;this.w3c?b.addEventListener(c,i,!1):this.ie&&(b.__events[c].handle=
null,b.__events[c].IECallbacks=b.__events[c].IECallbacks||{keys:[],callbacks:[]},b.__events[c].hasAttribute=!1,b.__events[c].supported="object"==typeof b["on"+g]||"function"==typeof b["on"+g],b.__events[c].supported?(null!==b["on"+g]&&this.addIEAttributeEvent(b,c),g=a.bind(function(){var c="undefined"==typeof i.attributeEvent?e(a.window.event,b):e(a.window.event,null);return i.apply(b,[c])},this),b.__events[c].IECallbacks.keys.push(i.__guid),b.__events[c].IECallbacks.callbacks.push(g),b.attachEvent("on"+
c,g)):(b.__events[c].handle=function(a){this.event=d(this.event,a);this.event=e(this.event);return this.callback.apply(this.event.currentTarget,[this.event])},g=b==a.document?a.document.documentElement:b,"undefined"==typeof b.libEvent&&(b.libEvent=0,b!=g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(d){if("libEvent"==d.propertyName&&b.__events[c].handle.event&&b==b.__events[c].handle.event.currentTarget&&!1===b.__events[c].handle.dispatched)return b.__events[c].handle.dispatched=!0,a.bind(b.__events[c].handle,
b.__events[c].handle)(d)})))},initEventProperty:function(a,b){"undefined"==typeof a.__events&&(a.__events={});"undefined"==typeof a.__events[b]&&(a.__events[b]={});"undefined"==typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var c=b.toLowerCase(),d=a["on"+c];a["on"+c]=null;d.attributeEvent=!0;this.add(a,b,d)},remove:function(a,b,c){if("undefined"==typeof b)for(b in a.__events)this.remove(a,b);
if("object"==typeof a.__events&&"object"==typeof a.__events[b])if("function"==typeof c){if(this.w3c)a.removeEventListener(b,c,!1);else if(this.ie&&a.__events[b].supported){for(var d,e=a.__events[b].IECallbacks,l=c.__guid,k=0,o=e.keys.length;k<o;k++)if(e.keys[k]==l){d=e.callbacks[k];e.keys.splice(k,0);e.callbacks.splice(k,0);break}a.detachEvent("on"+b,d)}delete a.__events[b].callbacks[c.__guid]}else for(k in a.__events[b].callbacks)this.remove(a,b,a.__events[b].callbacks[k])},dispatch:function(a,b,
c){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,b,c);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,c);case this.types.html:return this.dispatchHTMLEvent(a,b,c);default:return this.dispatchUIEvent(a,b,c)}else if(this.ie)return this.dispatchIEEvent(a,b,c)},dispatchMouseEvent:function(b,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,
button:0,relatedTarget:null},j=a.object.subtract(d,e);a.extend(e,d||{});d=document.createEvent("MouseEvents");d.initMouseEvent(c,e.bubbles,e.cancelable,a.window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);a.extend(d,j);return b.dispatchEvent(d)},dispatchKeyboardEvent:function(b,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},j=a.object.subtract(d,
e);a.extend(e,d||{});d=document.createEvent("KeyboardEvent");"undefined"==typeof d.initKeyboardEvent&&d.initKeyEvent&&(d.initKeyboardEvent=d.initKeyEvent);d.initKeyboardEvent(c,e.bubbles,e.cancelable,a.window,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);a.extend(d,j);return b.dispatchEvent(d)},dispatchHTMLEvent:function(b,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0},j=a.object.subtract(d,e);a.extend(e,d||{});d=document.createEvent("HTMLEvents");d.initEvent(c,
e.bubbles,e.cancelable);a.extend(d,j);return b.dispatchEvent(d)},dispatchUIEvent:function(b,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:null},j=a.object.subtract(d,e);a.extend(e,d||{});d=document.createEvent("UIEvents");d.initUIEvent(c,e.bubbles,e.cancelable,a.window,e.detail);a.extend(d,j);return b.dispatchEvent(d)},dispatchIEEvent:function(b,c,d){var g=c.toLowerCase();if("undefined"==typeof b.__events)if("object"==typeof b["on"+g]||"function"==typeof b["on"+g])this.addIEAttributeEvent(b,
c);else return;if("undefined"!=typeof b.__events[c]){d=d||{};if(b.__events[c].supported)return g=document.createEventObject(),a.extend(g,d),b.fireEvent("on"+c,g);for(g=a.extend(d,{target:b,type:c,currentTarget:b});b;){if(b.__events&&b.__events[c])for(var j in b.__events[c].callbacks)"boolean"==typeof d.safe&&!0===d.safe?(b.__events[c].handle.callback=b.__events[c].callbacks[j],b.__events[c].handle.event=g,b.__events[c].handle.dispatched=!1,g.currentTarget==document?document.documentElement.libEvent++:
g.currentTarget.libEvent++):!1===b.__events[c].callbacks[j].call(b,e(g,b))&&(g.preventDefault(),g.stopPropagation());b=g.currentTarget=!g.cancelBubble&&b.parentNode}return!1!==g.returnValue}},w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};c.events={click:c.types.mouse,dblclick:c.types.mouse,mousedown:c.types.mouse,mouseenter:c.types.mouse,mouseleave:c.types.mouse,mouseup:c.types.mouse,mouseover:c.types.mouse,
mousemove:c.types.mouse,mouseout:c.types.mouse,keypress:c.types.keyboard,keydown:c.types.keyboard,keyup:c.types.keyboard,load:c.types.html,unload:c.types.html,abort:c.types.html,error:c.types.html,resize:c.types.html,scroll:c.types.html,select:c.types.html,change:c.types.html,submit:c.types.html,reset:c.types.html,focus:c.types.html,blur:c.types.html,DOMFocusIn:c.types.dom,DOMFocusOut:c.types.dom,DOMActivate:c.types.dom,DOMSubtreeModified:c.types.dom,DOMNodeInserted:c.types.dom,DOMNodeRemoved:c.types.dom,
DOMNodeRemovedFromDocument:c.types.dom,DOMNodeInsertedIntoDocument:c.types.dom,DOMAttrModified:c.types.dom,DOMCharacterDataModified:c.types.dom,mousewheel:c.types.wheel,DOMMouseScroll:c.types.wheel};a.event={add:a.bind(c.add,c),remove:a.bind(c.remove,c),dispatch:a.bind(c.dispatch,c),support:function(a){if("string"!=typeof a)return null;switch(a){case "DOMAttrModified":return b();default:return null}},compat:{DOMAttrModified:function(b,d){function e(){for(var a=b[g[0]],c=1;c<g.length;c++)a=a[g[c]];
return a}if(c.w3c){c.initEventProperty(b,"DOMAttrModified");"undefined"==typeof b.__events.DOMAttrModified.oldProperties&&(b.__events.DOMAttrModified.oldProperties={});var g=d.split("."),j=a.guid(),l=b.__events.DOMAttrModified.oldProperties[j]=e(),k=a.window.setInterval(function(){var g=e();l!==g&&(c.dispatch(b,"DOMAttrModified",{MODIFICATION:1,ADDITION:2,REMOVAL:3,attrChange:1,attrName:d,newValue:g,prevValue:l,compat:{stop:function(){a.window.clearInterval(k);delete b.__events.DOMAttrModified.oldProperties[j]}}}),
l=g)},15)}}}}})(lib);
(function(a){function e(){a.isDOMReady||(a.isDOMReady=!0,a.event.dispatch(document,"DOMReady",{safe:!0}),a.event.remove(a.document,"libReady"))}if(!a.isDOMReady)if("complete"==document.readyState)e();else if(!window.opera&&document.attachEvent)document.documentElement.doScroll&&window==top?function(){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}e()}():document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",
arguments.callee),e())});else if(document.readyState)(function(){/loaded|complete/.test(document.readyState)?e():setTimeout(arguments.callee,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);e()},!1);else throw Error("Unable to bind lib ready listener to document.");})(lib);
(function(a){a.dimensions={CONTENT:1,BORDER:2,get:function(){return{innerWidth:a.window.innerWidth||a.document.documentElement.offsetWidth,innerHeight:a.window.innerHeight||a.document.documentElement.offsetHeight,scrollWidth:null,scrollHeight:null,scrollX:a.window.scrollX||a.document.documentElement.scrollLeft,scrollY:a.window.scrollY||a.document.documentElement.scrollTop}},center:function(){},centerVertical:function(){},centerHorizontal:function(){}}})(lib);
if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){}
(function(a){a.tween={Bezier:function(a,d,b,c){var f=3*a,h=3*(b-a)-f,i=1-f-h,g=3*d,j=3*(c-d)-g,l=1-g-j;return function(a){for(var b=a,c=0,d;5>c;){d=b*(f+b*(h+b*i))-a;if(0.0010>Math.abs(d))break;b-=d/(f+b*(2*h+3*i*b));c++}a=b;return a*(g+a*(j+a*l))}},bezier:function(a,d,b,c){return new this.Bezier(a,d,b,c)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){return a.window.requestAnimationFrame||a.window.mozRequestAnimationFrame||
a.window.webkitRequestAnimationFrame||a.window.msRequestAnimationFrame||a.window.oRequestAnimationFrame},run:function(e,d,b,c,f,h){function i(){if(g){var c=+new Date-g,m=l(c/b),c=13>b-c?!0:!1,m=(d-e)*m,m=e+m,m=c?d:m;k&&f.call(this,m);c?(o&&h.call(this,m),n||a.window.clearInterval(j)):n&&n(i)}else g=+new Date,n&&n(i)}var g,j,l,k=a.util.isFunction(f),o=a.util.isFunction(h),n=this.getRequestAnimationFrame();l="string"==typeof c&&this.easing[c]?this.bezier.apply(this,this.easing[c]):a.util.isArray(c)&&
4==c.length?this.bezier.apply(this,c):this.bezier.apply(this,this.easing.ease);n?n(i):j=a.window.setInterval(i,13)}}})(lib);
(function(a){function e(b){this.__guid=a.guid();this.__bound={};if(a.dom.isTypeOf(b,a.dom.ELEMENT_NODE|a.dom.DOCUMENT_NODE)||b==a.window)this.element=b}function d(b){this.widgetConstructor=b;this.items=[];this.length=0;this.name=a.util.getFunctionName(this.widgetConstructor)}a.extend(e.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(b){var c=a.array.toArray(arguments);c.shift();c.shift();return this.apply(b,c)},apply:function(a,c){var d;try{return d=this.__bound[a],
d.apply(this,c)}catch(e){throw Error("method "+a+" isn't bound");}}});a.extend(d.prototype,{run:function(b,c){var d,b=a.util.isArray(b)?a.array.toArray(b):[b];a.array.forEach(b,a.bind(function(a){d=new this.widgetConstructor(a,c);d.element&&(d.element.__widgets={},d.element.__widgets[this.name]=d);this.items.push(d);this.length++},this));return d},create:function(b,c){!0!==b&&!1!=!!b&&1==arguments.length&&(c=b,b=!1);return b?new this.widgetConstructor(a.dom.create("<div>"),c):new this.widgetConstructor(null,
c)},destroy:function(b){for(var c=0,d=this.items.length;c<d;c++)if(!(b&&b!=this.items[c])){b.dispose();var e=a.util.getType(b);delete b.element.__widgets[e];this.items.splice(c,1);this.length--}},item:function(a){return this.items[a]||null},call:function(b,c){var d=a.array.toArray(arguments);d.shift();d.shift();return this.apply(b,c,d)},apply:function(b,c,d){return a.widget.get(b,this.name).apply(c,d)}});a.widget={Widget:e,create:function(b,c){a.util.inherits(b,e);a.extend(b.prototype,a.widget.helpers);
a.extend(b.prototype,c);return new d(b)},get:function(b,c){return a.dom.isTypeOf(b,a.dom.ELEMENT_NODE)&&b.__widgets?(c=c instanceof d?c.name:c,b.__widgets[c]||null):null}}})(lib);
(function(a){a.widget.helpers={};a.extend(a.widget.helpers,{_addEvent:function(e,d,b){var c=a.bind(b,this);this.__events||(this.__events=[]);this.__events.push([e,d,b,c]);a.event.add(e,d,c)},_removeEvent:function(e,d,b){a.array.forEach(this.__events,function(c,f,h){var i=!0;e&&(i=i&&e==c[0]);d&&(i=i&&d==c[1]);b&&(i=i&&b==c[2]);i&&(a.event.remove(c[0],c[1],c[3]),h.splice(f,0))})},_dispatchEvent:function(e,d){a.event.dispatch(this.element,e,d)}})})(lib);
(function(a){function e(b,c){if(this==a.widget)return new e(b,c);if(a.util.isObject(b)){this.__guid=a.guid();this._bound={};c&&a.dom.isTypeOf(c,a.dom.ELEMENT_NODE)&&(this._element=c,this._eventName="__modelChange"+this.__guid);for(var i in b){var g=this[i]=this._element?a.util.Bindable(b[i],this._element):a.util.Bindable(b[i]);g.name=i;g.model=this;g.bind(d)}}}function d(c,d){var e=this.model;e._element?a.event.dispatch(e._element,e._eventName,{value:c,oldValue:d,property:this.name}):b.call(e,c,d,
this.name)}function b(a,b,d){for(var e in this._bound)c.call(this,e,a,b,d)}function c(a,b,c,d){this._bound[a].target.call(this,b,c,d)}a.extend(e.prototype,{dispose:function(){this.unbind();for(var b in this)this[b]instanceof a.util.Bindable&&this[b].dispose()},bind:function(b){if(a.util.isFunction(b)){var d=a.guid(),b={id:d,target:b,proxy:null};this._bound[d]=b;this._element&&(b.proxy=a.bind(function(b){a.bind(c,this)(d,b.value,b.oldValue,b.property)},this),a.event.add(this._element,this._eventName,
b.proxy))}},unbind:function(b){var c=this._bound,d;for(d in c){var e=c[d].target==b;if(e||!b)this._element&&a.event.remove(this._element,this._eventName,this._bound[d].proxy),delete c[d];if(e)break}}});a.widget.Model=e})(lib);
