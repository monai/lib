/*! lib - A JavaScript Library - http://github.com/monai/lib | MIT license */

(function(undefined){'use strict';(function(c,b){function d(){try{c.console.log.apply(c.console,arguments)}catch(a){var e;d.output||(d.output=[]);e=Array.prototype.slice.call(arguments,0);e=e.join(", ");d.output.push(e);c.clearTimeout(d.timer);d.timer=c.setTimeout(function(){var a=d.output.join("\r\n");d.output=[];alert(a)},1E3)}}var a,e;e=[];a={log:d,inspect:function(a){var e=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.push([b,": ",a[b]].join(""));return e.join("\r\n")},window:c,document:c&&c.document,
isReady:!1,ready:function(a){if(a===b){this.isReady=!0;for(var a=0,d=e.length;a<d;a++)e[a].call(this.window);e.length=0}else"function"===typeof a&&(this.isReady?a.call(this.window):e.push(a))},extend:function(a){for(var e,b=0,d=arguments.length;++b<d;)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&(a[e]=arguments[b][e]);return a},bind:function(a,e){return"bind"in a?a.bind(e):function(){return a.apply(e,arguments)}},guid:function(e){a.guid.id||(a.guid.id=1);if(!e)return++a.guid.id;e.__guid||
(e.__guid=++a.guid.id);return e.__guid}};c.lib=a;c.log=d})(window);
(function(c,b){function d(a,e){this.thisConstructor=a;this.superConstructor=e}c.util={getType:function(a){var e,f;e=Object.prototype;f=e.toString.call(a);return a===b?"undefined":null===a?"null":!0===a||!1===a?"boolean":"string"===typeof a?"string":"number"===typeof a?"number":"[object Arguments]"===f||e.hasOwnProperty.call(a,"callee")?"Arguments":this.getConstructorName(a)},isObject:function(a){return a===Object(a)},isArray:function(a){return"Array"===this.getType(a)},isArguments:function(a){return"Arguments"===
this.getType(a)},isFunction:function(a){return"Function"===this.getType(a)},isString:function(a){return"String"===this.getType(a)},isNumber:function(a){return"Number"===this.getType(a)},isDate:function(a){return"Date"===this.getType(a)},isRegExp:function(a){return"RegExp"===this.getType(a)},getFunctionName:function(a){return/^function (\S+?)\(/m.test(a.toString())?RegExp.$1:b},getConstructorName:function(a){if(a&&a.constructor){var e,a=a.thisConstructor||a.constructor;e=this.getFunctionName(a);e===
b&&/\[object (\S+?)\]/.test(a.toString())&&(e=RegExp.$1);return e}return b},inherits:function(a,e){a.superConstructor=e;Object.create?a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0},superConstructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}):(d.prototype=e.prototype,a.prototype=new d(a,e))}}})(lib);
(function(c){function b(d,a){if(this===c.util)return new b(d,a);this.name=d;this.endTime=this.startTime=null;(a||"undefined"===typeof a)&&this.start()}c.extend(b.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var b=this.stop();c.log(this.name+": "+b+"ms")}});c.util.Benchmark=b})(lib);
(function(c){c.object={keys:function(b){var d;if("keys"in Object)return Object.keys(b);d=[];for(var a in b)b.hasOwnProperty(a)&&d.push(a);return d},createFromTemplate:function(b,d){var d=d?d:{},a=b.split(".");(function f(a,b){a[b[0]]||(a[b[0]]={});1<b.length&&f(a[b[0]],b.splice(1))})(d,a);return d},subtract:function(b,d){var a={},e;for(e in b)"undefined"===typeof d[e]&&(a[e]=b[e]);return a}}})(lib);
(function(c){c.array={toArray:function(b){var d=[];try{d=Array.prototype.slice.call(b,0)}catch(a){for(var e=0,f=b.length;e<f;e++)d[e]=b[e]}return d},indexOf:function(b,d,a){a=a||0;if("indexOf"in Array.prototype)return Array.prototype.indexOf.call(b,d,a);for(var e=b.length;a<e;a++)if(c.util.isArray(d)?this.isEqual(b[a],d):b[a]===d)return a;return-1},lastIndexOf:function(b,d,a){a=a||b.length;if("lastIndexOf"in Array.prototype)return Array.prototype.lastIndexOf.call(b,d,a);for(a=b.length-1;0<=a;a--)if(c.util.isArray(d)?
this.isEqual(b[a],d):b[a]===d)return a;return-1},inArray:function(b,d){return-1<this.indexOf(b,d)?!0:!1},forEach:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("forEach"in Array.prototype)Array.prototype.forEach.call(b,d,a||c.window);else for(var e=0,f=b.length;e<f;e++)d.call(a||c.window,b[e],e,b)},every:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("every"in Array.prototype)return Array.prototype.every.call(b,d,a||
c.window);for(var e=0,f=b.length;e<f;e++)if(e in b&&!d.call(a||c.window,b[e],e,b))return!1;return!0},some:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("some"in Array.prototype)return Array.prototype.some.call(b,d,a||c.window);for(var e=0,f=b.length;e<f;e++)if(e in b&&d.call(a||c.window,b[e],e,b))return!0;return!1},filter:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("filter"in Array.prototype)return Array.prototype.filter.call(b,
d,a||c.window);for(var e=[],f=0,h=b.length;f<h;f++)f in b&&d.call(a||c.window,b[f],f,b)&&e.push(b[f]);return e},map:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("map"in Array.prototype)return Array.prototype.map.call(b,d,a||c.window);for(var e=b.length,f=Array(e),h=0;h<e;h++)h in b&&(f[h]=d.call(a||c.window,b[h],h,b));return f},reduce:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("reduce"in Array.prototype)return Array.prototype.reduce.apply(b,
a?[d,a]:[d]);var e=b.length,f="undefined"===typeof a;if(0===e&&f)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,a=f?a:b[h++];h<e;h++)h in b&&(a=d.call(c.window,a,b[h],h,b));return a},reduceRight:function(b,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("reduceRight"in Array.prototype)return Array.prototype.reduceRight.apply(b,a?[d,a]:[d]);var e=b.length,f="undefined"===typeof a;if(0===e&&f)throw new TypeError("Reduce of empty array with no initial value");
e-=1;for(a=f?a:b[e--];0<=e;e--)e in b&&(a=d.call(c.window,a,b[e],e,b));return a},isEqual:function(b){for(var d=!0,a=b.length,e=1,f=arguments.length;e<f;e++){if(a!==arguments[e].length)return!1;for(var c=0;c<a;c++)if(b[c]instanceof Array||arguments[e][c]instanceof Array)if(b[c]instanceof Array&&arguments[e][c]instanceof Array){if(d=this.isEqual(b[c],arguments[e][c]),!d)break}else return!1;else if(d=b[c]===arguments[e][c],!d)break;if(!d)break}return d},flatten:function(b){return this.reduce(b,function(b,
a){return b.concat(a)})},unique:function(b){return c.array.reduce(b,c.bind(function(b,a){this.inArray(b,a)||b.push(a);return b},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(b){var d=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(b,c.bind(function(a){return!this.inArray(d,a)},this))},intersection:function(b){var d=this.toArray(arguments).slice(1);return this.filter(this.unique(b),c.bind(function(a){return this.every(d,
c.bind(function(e){return 0<=this.indexOf(e,a)},this))},this))}}})(lib);
(function(c){c.string={trim:function(b){if("trim"in String)return String.trim(b);for(var b=b.replace(/^\s\s*/,""),c=b.length;/\s/.test(b.charAt(--c)););return b.slice(0,c+1)},trimLeft:function(b){return"trimLeft"in String?String.trimLeft(b):b.replace(/^\s\s*/,"")},trimRight:function(b){if("trimRight"in String)return String.trimRight(b);for(var c=b.length;/\s/.test(b.charAt(--c)););return b.slice(0,c+1)},padding:function(b,c,a){"string"!==typeof b&&(b=b.toString());var e=Math.abs(a);if(b.length>=e)return b;
for(var f=Array(e-b.length),h=0,g=f.length;h<g;h++)f[h]=c;e===a?f.push(b):f.unshift(b);return f.join("")},format:function(b,c){return b.replace(/\{(\d+)\}/g,function(a,e){return c[parseInt(e,10)]})},camelToDash:function(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})},dashToCamel:function(b){return b.replace(/-(.)/g,function(b){return b[1].toUpperCase()})},capitalize:function(b){return b.charAt(0).toUpperCase()+b.slice(1)}}})(lib);
(function(c){c.date={parseISOString:function(b){var c=Date.parse(b);if(!isNaN(c))return new Date(c);var b=b.match(/\d+/g),b=new Date(b[0],parseInt(b[1],10)-1,b[2],b[3],b[4],b[5],b[6]),a=(new Date).getTimezoneOffset(),c=Math.abs(a),a=c===a?-1:1,e=(c-c%60)/60,c=c-60*e;b.setHours(b.getHours()+e*a);b.setMinutes(b.getMinutes()+c*a);return b},toISOString:function(b){return"toISOString"in b?b.toISOString():[b.getUTCFullYear(),"-",c.util.padding(b.getUTCMonth()+1,0,2),"-",c.util.padding(b.getUTCDate(),0,
2),"T",c.util.padding(b.getUTCHours(),0,2),":",c.util.padding(b.getUTCMinutes(),0,2),":",c.util.padding(b.getUTCSeconds(),0,2),".",c.util.padding(b.getUTCMilliseconds(),0,3),"Z"].join("")}}})(lib);
(function(c,b){c.dom={byId:function(a){return c.document.getElementById(a)},byTag:function(a,e){var f=(e||c.document).getElementsByTagName(a);return c.dom.NodeList(f)},byQuery:function(a,e){return(e||c.document).querySelector(a)},byQueryAll:function(a,e){var f=(e||c.document).querySelectorAll(a);return c.dom.NodeList(f)},byClass:function(a,e,f){var d,g;"object"===typeof e&&"undefined"===typeof f&&(f=e,e=b);if(c.document.getElementsByClassName){f=(f||c.document).getElementsByClassName(a);a=e&&e.toUpperCase();
d=[];for(e=0;e<f.length;e++)a&&a!==f[e].nodeName||d.push(f[e])}else{e=e||"*";f=f||c.document;g=a.split(" ");a=[];f="*"===e&&f.all?f.all:f.getElementsByTagName(e);d=[];for(e=0;e<g.length;e++)a.push(RegExp("(^|\\s)"+g[e]+"(\\s|$)"));for(e=0;e<f.length;e++){g=!1;for(var i=0;i<a.length&&!(g=a[i].test(f[e].className),!g);i++);g&&d.push(f[e])}}return c.dom.NodeList(d)},parent:function(a,e,f,b){"boolean"!==typeof a&&(b=f,f=e,e=a,a=!1);b=b&&b.toUpperCase();do if(a){if(!(f&&!this.hasClass(e,f)||b&&b!==e.nodeName))break}else a=
!0;while(e=e.parentNode);return e},isChild:function(a,e){for(;a=a.parentNode;)if(a===e)return!0;return!1},prev:function(a,e,b){for(b=b&&b.toUpperCase();(a=a.previousSibling)&&(1!==a.nodeType||e&&!this.hasClass(a,e)||b&&b!==a.nodeName););return a},next:function(a,e,b){for(b=b&&b.toUpperCase();(a=a.nextSibling)&&(1!==a.nodeType||e&&!this.hasClass(a,e)||b&&b!==a.nodeName););return a},create:function(a){var e=c.document.createElement("div");e.innerHTML=a;return this.remove(e.firstChild)},remove:function(a){var e=
a.parentNode;return e&&e.removeChild(a)},before:function(a,e){var b=e.parentNode;return b&&b.insertBefore(a,e)},after:function(a,e){var b=e.parentNode;return b&&b.insertBefore(a,e.nextSibling)},hasClass:function(a,e){return a.classList&&a.classList.contains?a.classList.contains(e):RegExp("(^|\\s)"+e+"(\\s|$)").test(a.className)},addClass:function(a,e){this.hasClass(a,e)||(a.classList&&a.classList.add?a.classList.add(e):a.className+=(a.className?" ":"")+e);return a},removeClass:function(a,e){this.hasClass(a,
e)&&(a.classList&&a.classList.remove?a.classList.remove(e):a.className=a.className.replace(RegExp("(^|\\s)"+e+"(\\s|$)"),"$2"));return a},toggleClass:function(a,e){if(a.classList&&a.classList.toggle)a.classList.toggle(e);else return this.hasClass(a,e)?this.removeClass(a,e):this.addClass(a,e)},getStyle:function(){return this.style.get.apply(this,arguments)},style:{get:function(a,e,b){var d=null,g=!1;c.window&&c.window.getComputedStyle?d=c.window.getComputedStyle(a,b||null)[e]:a.currentStyle?d=a.currentStyle[e]:
(d=a.style[e],g=!0);return!d&&!g?a.style[e]:d},set:function(a,e){var b,d;for(b in e)e.hasOwnProperty(b)&&(d=c.string.dashToCamel(b),a.style[d]=e[b])}},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return a&&a.nodeType&&0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,e){if(this.isDOMNode(a)){for(var b=
0,c=d.length;b<c;b++)if(a.nodeType===d[b][0]&&e&d[b][1])return!0;return!1}},dataset:{get:function(a,e){if(c.util.isArray(e)){var b={};c.array.forEach(e,function(e){b[e]=c.dom.dataset.get(a,e)});return b}if(a.dataset)return a.dataset[e];e=c.string.camelToDash(e);return a.getAttribute("data-"+e)},set:function(a,e,b){a.dataset?a.dataset[e]=b:(e=c.string.camelToDash(e),a.setAttribute("data-"+e,b||""))},remove:function(a,e){a.dataset?delete a.dataset[e]:(e=c.string.camelToDash(e),a.removeAttribute("data-"+
e))}}};var d=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(c){function b(d){if(this===c.dom)return new b(d);if(d)if(c.dom.isTypeOf(d,c.dom.ELEMENT_NODE|c.dom.DOCUMENT_NODE))this.push(d);else{if(d instanceof b)return d;d=c.array.toArray(d);c.array.forEach(d,c.bind(function(a){c.dom.isTypeOf(a,c.dom.ELEMENT_NODE|c.dom.DOCUMENT_NODE)&&this.push(a)},this))}}c.util.inherits(b,Array);c.extend(b.prototype,{toString:function(){return this.join(", ")},valueOf:function(){return this},item:function(b){return this[b]},concat:function(){var b=c.array.toArray(arguments);
c.array.forEach(b,c.bind(function(a){c.array.forEach(a,c.bind(function(a){this.push(a)},this))},this))},slice:function(){return new b(Array.prototype.slice.apply(this,arguments))},toArray:function(){return c.array.toArray(this)},indexOf:function(b,a){return c.array.indexOf(this,b,a)},lastIndexOf:function(b,a){return c.array.lastIndexOf(this,b,a)},inArray:function(b){return c.array.inArray(this,b)},forEach:function(b,a){c.array.forEach(this,b,a)},every:function(b,a){return c.array.every(this,b,a)},
some:function(b,a){return c.array.some(this,b,a)},filter:function(d,a){return new b(c.array.filter(this,d,a))},map:function(d,a){return new b(c.array.map(this,d,a))},reduce:function(b,a){return c.array.reduce(this,b,a)},reduceRight:function(b,a){return c.array.reduceRight(this,b,a)},byTag:function(d){var a=new b;this.forEach(function(e){a.concat(c.dom.byTag(d,e))});return a},byQuery:function(b){var a=null;this.forEach(function(e){a||(a=c.dom.byQuery(b,e))});return a},byQueryAll:function(d){var a=
new b;this.forEach(function(e){a.concat(c.dom.byQueryAll(d,e))});return a},byClass:function(d,a){var e=new b;this.forEach(function(b){e.concat(c.dom.byClass(d,a,b))});return e},find:function(b,a){var e,f;f=this;b&&(f=f.filter(function(a){return c.dom.hasClass(a,b)}));a&&(e=a&&a.toUpperCase(),f=f.filter(function(a){return e===a.nodeName}));return f}});c.dom.NodeList=b})(lib);
(function(c){function b(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&(b.nodeName&&a.toElement&&a.toElement.nodeName)&&(a.relatedTarget=a.toElement===a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function d(a){for(var b="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
c,d=0;++d<arguments.length;)for(c in b)"undefined"!==typeof arguments[d][b[c]]&&(a[b[c]]=arguments[d][b[c]]);a.originalEvent=arguments[1];return a}var a={add:function(a,f,h){var g=f.toLowerCase();this.initEventProperty(a,f);a.__events[f].callbacks[c.guid(h)]=h;this.w3c?a.addEventListener(f,h,!1):this.ie&&(a.__events[f].handle=null,a.__events[f].IECallbacks=a.__events[f].IECallbacks||{keys:[],callbacks:[]},a.__events[f].hasAttribute=!1,a.__events[f].supported="object"===typeof a["on"+g]||"function"===
typeof a["on"+g],a.__events[f].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,f),g=c.bind(function(){var f;f="undefined"===typeof h.attributeEvent?b(c.window.event,a):b(c.window.event,null);return h.apply(a,[f])},this),a.__events[f].IECallbacks.keys.push(h.__guid),a.__events[f].IECallbacks.callbacks.push(g),a.attachEvent("on"+f,g)):(a.__events[f].handle=function(a){this.event=d(this.event,a);this.event=b(this.event);return this.callback.apply(this.event.currentTarget,[this.event])},g=a===
c.document?c.document.documentElement:a,"undefined"===typeof a.libEvent&&(a.libEvent=0,a!==g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(b){if("libEvent"===b.propertyName&&a.__events[f].handle.event&&a===a.__events[f].handle.event.currentTarget&&!1===a.__events[f].handle.dispatched)return a.__events[f].handle.dispatched=!0,c.bind(a.__events[f].handle,a.__events[f].handle)(b)})))},initEventProperty:function(a,b){"undefined"===typeof a.__events&&(a.__events={});"undefined"===typeof a.__events[b]&&
(a.__events[b]={});"undefined"===typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var c=b.toLowerCase(),d=a["on"+c];a["on"+c]=null;d.attributeEvent=!0;this.add(a,b,d)},remove:function(a,b,c){var d,i;if("undefined"===typeof b)for(i in a.__events)a.__events.hasOwnProperty(i)&&this.remove(a,i);if("object"===typeof a.__events&&"object"===typeof a.__events[b])if("function"===typeof c){if(this.w3c)a.removeEventListener(b,
c,!1);else if(this.ie&&a.__events[b].supported){var k,j=a.__events[b].IECallbacks,l=c.__guid;d=0;for(i=j.keys.length;d<i;d++)if(j.keys[d]===l){k=j.callbacks[d];j.keys.splice(d,0);j.callbacks.splice(d,0);break}a.detachEvent("on"+b,k)}delete a.__events[b].callbacks[c.__guid]}else for(d in a.__events[b].callbacks)a.__events[b].callbacks.hasOwnProperty(d)&&this.remove(a,b,a.__events[b].callbacks[d])},dispatch:function(a,b,c){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,
b,c);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,c);case this.types.html:return this.dispatchHTMLEvent(a,b,c);case this.types.dom:break;case this.types.wheel:break;default:return this.dispatchUIEvent(a,b,c)}else if(this.ie)return this.dispatchIEEvent(a,b,c)},dispatchMouseEvent:function(a,b,d){var d="undefined"!==typeof d?d:{},g={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},i=c.object.subtract(d,
g);c.extend(g,d||{});d=document.createEvent("MouseEvents");d.initMouseEvent(b,g.bubbles,g.cancelable,c.window,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget);c.extend(d,i);return a.dispatchEvent(d)},dispatchKeyboardEvent:function(a,b,d){var d="undefined"!==typeof d?d:{},g={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},i=c.object.subtract(d,g);c.extend(g,d||{});d=document.createEvent("KeyboardEvent");
"undefined"===typeof d.initKeyboardEvent&&d.initKeyEvent&&(d.initKeyboardEvent=d.initKeyEvent);d.initKeyboardEvent(b,g.bubbles,g.cancelable,c.window,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.keyCode,g.charCode);c.extend(d,i);return a.dispatchEvent(d)},dispatchHTMLEvent:function(a,b,d){var d="undefined"!==typeof d?d:{},g={bubbles:!0,cancelable:!0},i=c.object.subtract(d,g);c.extend(g,d||{});d=document.createEvent("HTMLEvents");d.initEvent(b,g.bubbles,g.cancelable);c.extend(d,i);return a.dispatchEvent(d)},
dispatchUIEvent:function(a,b,d){var d="undefined"!==typeof d?d:{},g={bubbles:!0,cancelable:!0,detail:null},i=c.object.subtract(d,g);c.extend(g,d||{});d=document.createEvent("UIEvents");d.initUIEvent(b,g.bubbles,g.cancelable,c.window,g.detail);c.extend(d,i);return a.dispatchEvent(d)},dispatchIEEvent:function(a,d,h){var g;g=d.toLowerCase();if("undefined"===typeof a.__events)if("object"===typeof a["on"+g]||"function"===typeof a["on"+g])this.addIEAttributeEvent(a,d);else return;if("undefined"!==typeof a.__events[d]){h=
h||{};if(a.__events[d].supported)return g=document.createEventObject(),c.extend(g,h),a.fireEvent("on"+d,g);for(g=c.extend(h,{target:a,type:d,currentTarget:a});a;){if(a.__events&&a.__events[d])for(var i in a.__events[d].callbacks)"boolean"===typeof h.safe&&!0===h.safe?(a.__events[d].handle.callback=a.__events[d].callbacks[i],a.__events[d].handle.event=g,a.__events[d].handle.dispatched=!1,g.currentTarget===document?document.documentElement.libEvent++:g.currentTarget.libEvent++):!1===a.__events[d].callbacks[i].call(a,
b(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},preventDefault:function(a){a.preventDefault();return!1},w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};a.events={click:a.types.mouse,dblclick:a.types.mouse,mousedown:a.types.mouse,mouseenter:a.types.mouse,mouseleave:a.types.mouse,mouseup:a.types.mouse,mouseover:a.types.mouse,mousemove:a.types.mouse,
mouseout:a.types.mouse,keypress:a.types.keyboard,keydown:a.types.keyboard,keyup:a.types.keyboard,load:a.types.html,unload:a.types.html,abort:a.types.html,error:a.types.html,resize:a.types.html,scroll:a.types.html,select:a.types.html,change:a.types.html,submit:a.types.html,reset:a.types.html,focus:a.types.html,blur:a.types.html,DOMFocusIn:a.types.dom,DOMFocusOut:a.types.dom,DOMActivate:a.types.dom,DOMSubtreeModified:a.types.dom,DOMNodeInserted:a.types.dom,DOMNodeRemoved:a.types.dom,DOMNodeRemovedFromDocument:a.types.dom,
DOMNodeInsertedIntoDocument:a.types.dom,DOMAttrModified:a.types.dom,DOMCharacterDataModified:a.types.dom,mousewheel:a.types.wheel,DOMMouseScroll:a.types.wheel};c.event={add:c.bind(a.add,a),remove:c.bind(a.remove,a),dispatch:c.bind(a.dispatch,a),preventDefault:a.preventDefault}})(lib);
(function(c){c.dimensions={get:function(b){var c,a;c=this.scroll();if("undefined"===typeof b)return b=this.layoutViewport(),{innerWidth:b.width,innerHeight:b.height,scrollX:c.x,scrollY:c.y};if(b)return a=b.getBoundingClientRect(),{width:a.width||b.offsetWidth,height:a.height||b.offsetHeight,left:a.left+c.x,top:a.top+c.y,right:a.right+c.x,bottom:a.bottom+c.y}},normalize:function(b,c){var a,e,f,h;a="x"in c?c.x:c.left;e="y"in c?c.y:c.top;if("x"in b&&"y"in b)return{x:b.x-a,y:b.y-e};a=b.left-a;e=b.top-
e;f=b.width;h=b.height;return{left:a,top:e,right:a+f,bottom:e+h,width:f,height:h}},padding:function(b){return this.getPropertyDimensions(b,"padding-{0}")},border:function(b){return this.getPropertyDimensions(b,"border-{0}-width")},margin:function(b){return this.getPropertyDimensions(b,"margin-{0}")},getPropertyDimensions:function(b,d){var a,e,f,h,g;f=["left","top","right","bottom"];g={};a=0;for(e=f.length;a<e;a++)h=f[a],g[h]=parseInt(c.dom.getStyle(b,c.string.format(d,[h])),10);return g},layoutViewport:function(){return{width:c.document.documentElement.clientWidth||
document.body.clientWidth,height:c.document.documentElement.clientHeight||document.body.clientHeight}},visualViewport:function(){return{width:c.window.innerWidth||document.documentElement.offsetWidth,height:c.window.innerHeight||document.documentElement.offsetHeight}},scroll:function(){return{x:c.window.scrollX||c.document.documentElement.scrollLeft,y:c.window.scrollY||c.document.documentElement.scrollTop}}}})(lib);
(function(c,b){var d,a;d=["ms","moz","webkit","o"];a=0;c.tween={Bezier:function(a,b,c,d){var i=3*a,k=3*(c-a)-i,j=1-i-k,l=3*b,n=3*(d-b)-l,p=1-l-n;return function(a){for(var b=a,e=0,c;5>e;){c=b*(i+b*(k+b*j))-a;if(0.001>Math.abs(c))break;b-=c/(i+b*(2*k+3*j*b));e++}a=b;return a*(l+a*(n+a*p))}},bezier:function(a,b,c,d){return new this.Bezier(a,b,c,d)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){var b;
b=c.window.requestAnimationFrame;for(var f=0;f<d.length&&!b;f++)b=c.window[d[f]+"RequestAnimationFrame"];return b?b:function(b){var e,d,f;e=(new Date).getTime();d=Math.max(0,16-(e-a));f=c.window.setTimeout(function(){b(e+d)},d);a=e+d;return f}},getCancelAnimationFrame:function(){var a;a=c.window.cancelAnimationFrame;for(var b=0;b<d.length&&!a;b++)a=c.window[d[b]+"CancelAnimationFrame"]||c.window[d[b]+"CancelRequestAnimationFrame"];return a?a:function(a){c.window.clearTimeout(a)}},run:function(a,d,
h,g,i,k){var j,l,n,p,q,m;n=c.util.isFunction(i);p=c.util.isFunction(k);q=this.getRequestAnimationFrame();m=!1;l="string"===typeof g&&this.easing[g]?this.bezier.apply(this,this.easing[g]):c.util.isArray(g)&&4===g.length?this.bezier.apply(this,g):this.bezier.apply(this,this.easing.ease);(function r(){var c,g,s;j?(c=+new Date,g=c-j,c=l(g/h),g=13>h-g?!0:!1,c*=d-a,c=a+c,c=g?d:c,g?p&&k.call(this,c):(m||(s=q(r)),n&&(m=i.call(this,c,s),m=b===m?!1:!m))):(j=+new Date,q(r))})()}}})(lib);
(function(c){function b(a){this.__guid=c.guid();this.__bound={};if(c.dom.isTypeOf(a,c.dom.ELEMENT_NODE|c.dom.DOCUMENT_NODE)||a===c.window)this.element=a}function d(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=c.util.getFunctionName(this.widgetConstructor)}c.extend(b.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(a){var b=c.array.toArray(arguments);b.shift();return this.apply(a,b)},apply:function(a,b){var c=this.__bound[a];if(c)return c.apply(this,
b);throw Error("method "+a+" is not bound");}});c.extend(d.prototype,{run:function(a,b){var d,a=c.dom.isTypeOf(a,c.dom.ELEMENT_NODE|c.dom.DOCUMENT_NODE)||a===c.window?[a]:a?c.array.toArray(a):[];c.array.forEach(a,c.bind(function(a){d=new this.widgetConstructor(a,b);this.elementize(d,a);this.items.push(d);this.length++},this));return d},create:function(a,b){!0!==a&&(!1!==a&&1===arguments.length)&&(b=a,a=!1);var d;if(a){var h=c.dom.create("<div>");d=new this.widgetConstructor(h,b);this.elementize(d,
h)}else d=new this.widgetConstructor(null,b);this.items.push(d);this.length++;return d},destroy:function(a){for(var b=0,d=this.items.length;b<d;b++)if(a===this.items[b]){a.dispose();var h=c.util.getType(a);a.element&&a.element.__widgets&&delete a.element.__widgets[h];this.items.splice(b,1);this.length--}},elementize:function(a){a.element.__widgets||(a.element.__widgets={});a.element.__widgets[this.name]=a},item:function(a){return this.items[a]||null},call:function(a,b){var d=c.array.toArray(arguments);
d.shift();c.util.isFunction(b)?d.shift():(b&&d.push(b),b=null);return this.apply(a,b,d)},apply:function(a,b,d){return"string"===typeof a&&!b?this.widgetConstructor[a].apply(this,d):c.widget.get(a,this.name).apply(b,d)}});c.widget={Widget:b,create:function(a,e){1===arguments.length&&c.util.isObject(a)&&(e=a,a=e.constructor,delete e.constructor);c.util.inherits(a,b);c.extend(a.prototype,c.widget.helpers);c.extend(a.prototype,e);return new d(a)},get:function(a,b){return c.dom.isTypeOf(a,c.dom.ELEMENT_NODE)&&
a.__widgets?(b=b instanceof d?b.name:b,a.__widgets[b]||null):null}}})(lib);
(function(c){c.widget.helpers={};c.extend(c.widget.helpers,{_addEvent:function(b,d,a){var e=c.bind(a,this);this.__events||(this.__events=[]);this.__events.push([b,d,a,e]);c.event.add(b,d,e)},_removeEvent:function(b,d,a){if(this.__events){var e=this.__events;c.array.forEach(e,function(f,h){var g=!0;b&&(g=g&&b===f[0]);d&&(g=g&&d===f[1]);a&&(g=g&&a===f[2]);g&&(c.event.remove(f[0],f[1],f[3]),e[h]=null)});this.__events=c.array.filter(e,function(a){return null!==a})}},_dispatchEvent:function(b,d){c.event.dispatch(this.element,
b,d)},_dispose:function(){this._removeEvent();"__events"in this&&delete this.__events;delete this.element},_elementize:function(b){var d=c.util.getType(this);b.__widgets||(b.__widgets={});b.__widgets[d]||(b.__widgets[d]=this,this.element=b)}})})(lib);}).call(this);
