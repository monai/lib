/*! lib - A JavaScript Library - http://github.com/monai/lib | MIT license */

(function(undefined){'use strict';(function(b,e){var d=function f(){b.console&&b.console.log&&b.console.log.apply?b.console.log.apply(b.console,arguments):(f.output||(f.output=[]),f.output.push(a.array.toArray(arguments).join(", ")),b.clearTimeout(f.time),f.time=b.setTimeout(function(){var a=f.output.join("\r\n");f.output=[];alert(a)},1E3));return arguments[0]},a={log:d,inspect:function(a){var e=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.push(b+": "+a[b]);return e.join("\r\n")},window:b,document:b&&
b.document,isReady:!1,isDOMReady:!1,ready:function(f,b){f===e?(a.isReady=!0,a.event.dispatch(a.document,"libReady"),a.event.remove(a.document,"libReady")):"function"===typeof f&&(!a.isReady&&!b?a.event.add(a.document,"libReady",a.bind(f,a.window)):!a.isDOMReady&&b?a.event.add(a.document,"DOMReady",a.bind(f,a.window)):f())},extend:function(a){for(var b,e=0,d=arguments.length;++e<d;)for(b in arguments[e])arguments[e].hasOwnProperty(b)&&(a[b]=arguments[e][b]);return a},bind:function(a,b){return"bind"in
a?a.bind(b):function(){return a.apply(b,arguments)}},guid:function(f){a.guid.id||(a.guid.id=1);if(!f)return++a.guid.id;f.__guid||(f.__guid=a.guid.id++);return f.__guid}};b.lib=a;b.log=d})(window);
(function(b,e){function d(a,c){this.thisConstructor=a;this.superConstructor=c}b.util={getType:function(a){var c,f;c=Object.prototype;f=c.toString.call(a);if(null===a)return"null";if(a===e)return"undefined";if(!0===a||!1===a)return"boolean";if("[object Array]"===f)return"Array";if("[object Arguments]"===f||c.hasOwnProperty.call(a,"callee"))return"Arguments";if("[object Function]"===f)return"Function";if("[object String]"===f)return"String";if("[object Number]"===f)return"Number";if("[object Date]"===
f)return"Date";if("[object RegExp]"===f)return"RegExp";if("object"===typeof a)return this.getConstructorName(a)},isObject:function(a){return a===Object(a)},isArray:function(a){return"Array"===this.getType(a)},isArguments:function(a){return"Arguments"===this.getType(a)},isFunction:function(a){return"Function"===this.getType(a)},isString:function(a){return"String"===this.getType(a)},isNumber:function(a){return"Number"===this.getType(a)},isDate:function(a){return"Date"===this.getType(a)},isRegExp:function(a){return"RegExp"===
this.getType(a)},getFunctionName:function(a){return this.isFunction(a)&&/^function (\S+?)\(/m.test(a.toString())?RegExp.$1:e},getConstructorName:function(a){if(a!==e&&a.constructor){var c,a=a.thisConstructor||a.constructor;c=this.getFunctionName(a);c===e&&/\[object (\S+?)\]/.test(a.toString())&&(c=RegExp.$1);return c}return e},inherits:function(a,c){a.superConstructor=c;Object.create?a.prototype=Object.create(c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0},superConstructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}}):(d.prototype=c.prototype,a.prototype=new d(a,c))}}})(lib);(function(b){function e(d,a){if(this===b.util)return new e(d,a);this.name=d;this.endTime=this.startTime=null;(a||"undefined"===typeof a)&&this.start()}b.extend(e.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var e=this.stop();b.log(this.name+": "+e+"ms")}});b.util.Benchmark=e})(lib);
(function(b){b.object={keys:function(b){var d;if("keys"in Object)return Object.keys(b);d=[];for(var a in b)b.hasOwnProperty(a)&&d.push(a);return d},createFromTemplate:function(b,d){var d=d?d:{},a=b.split(".");(function f(a,b){a[b[0]]||(a[b[0]]={});1<b.length&&f(a[b[0]],b.splice(1))})(d,a);return d},subtract:function(b,d){var a={},c;for(c in b)"undefined"===typeof d[c]&&(a[c]=b[c]);return a}}})(lib);
(function(b){b.array={toArray:function(b){var d=[];try{d=Array.prototype.slice.call(b,0)}catch(a){for(var c=0,f=b.length;c<f;c++)d[c]=b[c]}return d},indexOf:function(e,d,a){a=a||0;if("indexOf"in Array.prototype)return Array.prototype.indexOf.call(e,d,a);for(var c=e.length;a<c;a++)if(b.util.isArray(d)?this.isEqual(e[a],d):e[a]===d)return a;return-1},lastIndexOf:function(e,d,a){a=a||e.length;if("lastIndexOf"in Array.prototype)return Array.prototype.lastIndexOf.call(e,d,a);for(a=e.length-1;0<=a;a--)if(b.util.isArray(d)?
this.isEqual(e[a],d):e[a]===d)return a;return-1},inArray:function(b,d){return-1<this.indexOf(b,d)?!0:!1},forEach:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("forEach"in Array.prototype)Array.prototype.forEach.call(e,d,a||b.window);else for(var c=0,f=e.length;c<f;c++)d.call(a||b.window,e[c],c,e)},every:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("every"in Array.prototype)return Array.prototype.every.call(e,d,a||
b.window);for(var c=0,f=e.length;c<f;c++)if(c in e&&!d.call(a||b.window,e[c],c,e))return!1;return!0},some:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("some"in Array.prototype)return Array.prototype.some.call(e,d,a||b.window);for(var c=0,f=e.length;c<f;c++)if(c in e&&d.call(a||b.window,e[c],c,e))return!0;return!1},filter:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("filter"in Array.prototype)return Array.prototype.filter.call(e,
d,a||b.window);for(var c=[],f=0,g=e.length;f<g;f++)f in e&&d.call(a||b.window,e[f],f,e)&&c.push(e[f]);return c},map:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("map"in Array.prototype)return Array.prototype.map.call(e,d,a||b.window);for(var c=e.length,f=Array(c),g=0;g<c;g++)g in e&&(f[g]=d.call(a||b.window,e[g],g,e));return f},reduce:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("reduce"in Array.prototype)return Array.prototype.reduce.apply(e,
a?[d,a]:[d]);var c=e.length,f="undefined"===typeof a;if(0===c&&f)throw new TypeError("Reduce of empty array with no initial value");for(var g=0,a=f?a:e[g++];g<c;g++)g in e&&(a=d.call(b.window,a,e[g],g,e));return a},reduceRight:function(e,d,a){if("function"!==typeof d)throw new TypeError(d+" is not a function");if("reduceRight"in Array.prototype)return Array.prototype.reduceRight.apply(e,a?[d,a]:[d]);var c=e.length,f="undefined"===typeof a;if(0===c&&f)throw new TypeError("Reduce of empty array with no initial value");
c-=1;for(a=f?a:e[c--];0<=c;c--)c in e&&(a=d.call(b.window,a,e[c],c,e));return a},isEqual:function(b){for(var d=!0,a=b.length,c=1,f=arguments.length;c<f;c++){if(a!==arguments[c].length)return!1;for(var g=0;g<a;g++)if(b[g]instanceof Array||arguments[c][g]instanceof Array)if(b[g]instanceof Array&&arguments[c][g]instanceof Array){if(d=this.isEqual(b[g],arguments[c][g]),!d)break}else return!1;else if(d=b[g]===arguments[c][g],!d)break;if(!d)break}return d},flatten:function(b){return this.reduce(b,function(b,
a){return b.concat(a)})},unique:function(e){return b.array.reduce(e,b.bind(function(b,a){this.inArray(b,a)||b.push(a);return b},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(e){var d=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(e,b.bind(function(a){return!this.inArray(d,a)},this))},intersection:function(e){var d=this.toArray(arguments).slice(1);return this.filter(this.unique(e),b.bind(function(a){return this.every(d,
b.bind(function(c){return 0<=this.indexOf(c,a)},this))},this))}}})(lib);
(function(b){b.string={trim:function(b){if("trim"in String)return String.trim(b);for(var b=b.replace(/^\s\s*/,""),d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},trimLeft:function(b){return"trimLeft"in String?String.trimLeft(b):b.replace(/^\s\s*/,"")},trimRight:function(b){if("trimRight"in String)return String.trimRight(b);for(var d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},padding:function(b,d,a){"string"!==typeof b&&(b=b.toString());var c=Math.abs(a);if(b.length>=c)return b;
for(var f=Array(c-b.length),g=0,h=f.length;g<h;g++)f[g]=d;c===a?f.push(b):f.unshift(b);return f.join("")},format:function(b,d){return b.replace(/\{(\d+)\}/g,function(a,c){return d[parseInt(c,10)]})},camelToDash:function(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})},dashToCamel:function(b){return b.replace(/-(.)/g,function(b){return b[1].toUpperCase()})},capitalize:function(b){return b.charAt(0).toUpperCase()+b.slice(1)}}})(lib);
(function(b){b.date={parseISOString:function(b){var d=Date.parse(b);if(!isNaN(d))return new Date(d);var b=b.match(/\d+/g),b=new Date(b[0],parseInt(b[1],10)-1,b[2],b[3],b[4],b[5],b[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d===a?-1:1,c=(d-d%60)/60,d=d-60*c;b.setHours(b.getHours()+c*a);b.setMinutes(b.getMinutes()+d*a);return b},toISOString:function(e){return"toISOString"in e?e.toISOString():[e.getUTCFullYear(),"-",b.util.padding(e.getUTCMonth()+1,0,2),"-",b.util.padding(e.getUTCDate(),0,
2),"T",b.util.padding(e.getUTCHours(),0,2),":",b.util.padding(e.getUTCMinutes(),0,2),":",b.util.padding(e.getUTCSeconds(),0,2),".",b.util.padding(e.getUTCMilliseconds(),0,3),"Z"].join("")}}})(lib);
(function(){var b={}.toString,e,d,a="function"===typeof define&&define.amd,c="object"==typeof exports&&exports,f='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',g,h,j,r,l,s,t,m,q,u,A,v,i,y,n=new Date(-0xc782b5b800cec),w,B,z;try{n=-109252==n.getUTCFullYear()&&0===n.getUTCMonth()&&1==n.getUTCDate()&&10==n.getUTCHours()&&37==n.getUTCMinutes()&&6==n.getUTCSeconds()&&708==n.getUTCMilliseconds()}catch(C){}n||(w=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,c){return B[c]+365*
(a-1970)+w((a-1969+(c=+(1<c)))/4)-w((a-1901+c)/100)+w((a-1601+c)/400)});a||c?(a&&define("json",c={}),"object"==typeof JSON&&JSON&&(c.stringify=JSON.stringify,c.parse=JSON.parse)):c=this.JSON||(this.JSON={});if(a="function"==typeof c.stringify&&!z){(n=function(){return 1}).toJSON=n;try{a="0"===c.stringify(0)&&"0"===c.stringify(new Number)&&'""'==c.stringify(new String)&&void 0===c.stringify(b)&&void 0===c.stringify(void 0)&&void 0===c.stringify()&&"1"===c.stringify(n)&&"[1]"==c.stringify([n])&&"[null]"==
c.stringify([void 0])&&"null"==c.stringify(null)&&"[null,null,null]"==c.stringify([void 0,b,null])&&c.stringify({result:[n,!0,!1,null,"\x00\b\n\f\r\t"]})==f&&"1"===c.stringify(null,n)&&"[\n 1,\n 2\n]"==c.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c.stringify(new Date(-1))}catch(D){a=!1}}if("function"==
typeof c.parse)try{if(0===c.parse("0")&&!c.parse(!1)&&(n=c.parse(f),l=5==n.A.length&&1==n.A[0])){try{l=!c.parse('"\t"')}catch(E){}if(l)try{l=1!=c.parse("01")}catch(F){}}}catch(G){l=!1}n=f=null;if(!a||!l){if(!(e={}.hasOwnProperty))e=function(a){var c={},f;(c.__proto__=null,c.__proto__={toString:1},c).toString!=b?e=function(a){var c=this.__proto__,a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(f=c.constructor,e=function(a){var c=(this.constructor||f).prototype;return a in this&&!(a in
c&&this[a]===c[a])});c=null;return e.call(this,a)};d=function(a,c){var f=0,d,g,h;(d=function(){this.valueOf=0}).prototype.valueOf=0;g=new d;for(h in g)e.call(g,h)&&f++;d=g=null;f?f=2==f?function(a,c){var f={},d="[object Function]"==b.call(a),g;for(g in a)!(d&&"prototype"==g)&&(!e.call(f,g)&&(f[g]=1)&&e.call(a,g))&&c(g)}:function(a,c){var f="[object Function]"==b.call(a),g,d;for(g in a)!(f&&"prototype"==g)&&(e.call(a,g)&&!(d="constructor"===g))&&c(g);(d||e.call(a,g="constructor"))&&c(g)}:(g="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
f=function(a,c){var f="[object Function]"==b.call(a),d;for(d in a)!(f&&"prototype"==d)&&e.call(a,d)&&c(d);for(f=g.length;d=g[--f];e.call(a,d)&&c(d));});return f(a,c)};a||(g={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},h=function(a,c){return("000000"+(c||0)).slice(-a)},j=function(a){for(var c='"',b=0,f;f=a.charAt(b);b++)c+=-1<'\\"\b\f\n\r\t'.indexOf(f)?g[f]:" ">f?"\\u00"+h(2,f.charCodeAt(0).toString(16)):f;return c+'"'},r=function(a,c,f,g,i,x,n){var k=c[a],p,l,m,q,
u,s,y,v,t;if("object"==typeof k&&k)if(p=b.call(k),"[object Date]"==p&&!e.call(k,"toJSON"))if(k>-1/0&&k<1/0){if(z){m=w(k/864E5);for(p=w(m/365.2425)+1970-1;z(p+1,0)<=m;p++);for(l=w((m-z(p,0))/30.42);z(p,l+1)<=m;l++);m=1+m-z(p,l);q=(k%864E5+864E5)%864E5;u=w(q/36E5)%24;s=w(q/6E4)%60;y=w(q/1E3)%60;q%=1E3}else p=k.getUTCFullYear(),l=k.getUTCMonth(),m=k.getUTCDate(),u=k.getUTCHours(),s=k.getUTCMinutes(),y=k.getUTCSeconds(),q=k.getUTCMilliseconds();k=(0>=p||1E4<=p?(0>p?"-":"+")+h(6,0>p?-p:p):h(4,p))+"-"+
h(2,l+1)+"-"+h(2,m)+"T"+h(2,u)+":"+h(2,s)+":"+h(2,y)+"."+h(3,q)+"Z"}else k=null;else if("function"==typeof k.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||e.call(k,"toJSON")))k=k.toJSON(a);f&&(k=f.call(c,a,k));if(null===k)return"null";p=b.call(k);if("[object Boolean]"==p)return""+k;if("[object Number]"==p)return k>-1/0&&k<1/0?""+k:"null";if("[object String]"==p)return j(k);if("object"==typeof k){for(a=n.length;a--;)if(n[a]===k)throw TypeError();n.push(k);v=[];c=x;x+=i;
if("[object Array]"==p){l=0;for(a=k.length;l<a;t||(t=!0),l++)p=r(l,k,f,g,i,x,n),v.push(void 0===p?"null":p);return t?i?"[\n"+x+v.join(",\n"+x)+"\n"+c+"]":"["+v.join(",")+"]":"[]"}d(g||k,function(a){var c=r(a,k,f,g,i,x,n);void 0!==c&&v.push(j(a)+":"+(i?" ":"")+c);t||(t=!0)});return t?i?"{\n"+x+v.join(",\n"+x)+"\n"+c+"}":"{"+v.join(",")+"}":"{}"}},c.stringify=function(a,c,f){var g,d,e,h,i,j;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==b.call(c))d=c;else if("[object Array]"==
b.call(c)){e={};h=0;for(i=c.length;h<i;j=c[h++],("[object String]"==b.call(j)||"[object Number]"==b.call(j))&&(e[j]=1));}if(f)if("[object Number]"==b.call(f)){if(0<(f-=f%1)){g="";for(10<f&&(f=10);g.length<f;g+=" ");}}else"[object String]"==b.call(f)&&(g=10>=f.length?f:f.slice(0,10));return r("",(j={},j[""]=a,j),d,e,g,"",[])});l||(s=String.fromCharCode,t={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},m=function(){i=y=null;throw SyntaxError();},q=function(){for(var a=y,c=a.length,b,
f,g,d,e;i<c;)if(b=a.charAt(i),-1<"\t\r\n ".indexOf(b))i++;else{if(-1<"{}[]:,".indexOf(b))return i++,b;if('"'==b){f="@";for(i++;i<c;)if(b=a.charAt(i)," ">b)m();else if("\\"==b)if(b=a.charAt(++i),-1<'\\"/btnfr'.indexOf(b))f+=t[b],i++;else if("u"==b){g=++i;for(d=i+4;i<d;i++)b=a.charAt(i),"0"<=b&&"9">=b||("a"<=b&&"f">=b||"A"<=b&&"F">=b)||m();f+=s("0x"+a.slice(g,i))}else m();else{if('"'==b)break;f+=b;i++}if('"'==a.charAt(i))return i++,f}else{g=i;"-"==b&&(e=!0,b=a.charAt(++i));if("0"<=b&&"9">=b){for("0"==
b&&(b=a.charAt(i+1),"0"<=b&&"9">=b)&&m();i<c&&(b=a.charAt(i),"0"<=b&&"9">=b);i++);if("."==a.charAt(i)){for(d=++i;d<c&&(b=a.charAt(d),"0"<=b&&"9">=b);d++);d==i&&m();i=d}b=a.charAt(i);if("e"==b||"E"==b){b=a.charAt(++i);("+"==b||"-"==b)&&i++;for(d=i;d<c&&(b=a.charAt(d),"0"<=b&&"9">=b);d++);d==i&&m();i=d}return+a.slice(g,i)}e&&m();if("true"==a.slice(i,i+4))return i+=4,!0;if("false"==a.slice(i,i+5))return i+=5,!1;if("null"==a.slice(i,i+4))return i+=4,null}m()}return"$"},u=function(a){var c,b;"$"==a&&m();
if("string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(c=[];;b||(b=!0)){a=q();if("]"==a)break;b&&(","==a?(a=q(),"]"==a&&m()):m());","==a&&m();c.push(u(a))}return c}if("{"==a){for(c={};;b||(b=!0)){a=q();if("}"==a)break;b&&(","==a?(a=q(),"}"==a&&m()):m());(","==a||"string"!=typeof a||"@"!=a.charAt(0)||":"!=q())&&m();c[a.slice(1)]=u(q())}return c}m()}return a},v=function(a,c,b){b=A(a,c,b);void 0===b?delete a[c]:a[c]=b},A=function(a,c,f){var g=a[c],e;if("object"==typeof g&&g)if("[object Array]"==
b.call(g))for(e=g.length;e--;)v(g,e,f);else d(g,function(a){v(g,a,f)});return f.call(a,c,g)},c.parse=function(a,c){i=0;y=a;var f=u(q());"$"!=q()&&m();i=y=null;return c&&"[object Function]"==b.call(c)?A((n={},n[""]=f,n),"",c):f})}}).call(lib);
(function(b,e){b.dom={byId:function(a){return b.document.getElementById(a)},byTag:function(a,c){var f=(c||b.document).getElementsByTagName(a);return b.dom.NodeList(f)},byQuery:function(a,c){return(c||b.document).querySelector(a)},byQueryAll:function(a,c){var f=(c||b.document).querySelectorAll(a);return b.dom.NodeList(f)},byClass:function(a,c,f){var g,d,j,r,l;"object"===typeof c&&"undefined"===typeof f&&(f=c,c=e);if(b.document.getElementsByClassName){d=(f||b.document).getElementsByClassName(a);j=c&&
c.toUpperCase();a=[];for(g=0;g<d.length;g++)j&&j!==d[g].nodeName||a.push(d[g])}else if(c=c||"*",f=f||b.document,b.document.evaluate){r=a.split(" ");j="";l="http://www.w3.org/1999/xhtml"===b.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null;a=[];for(g=0;g<r.length;g++)j+="[contains(concat(' ', @class, ' '), ' "+r[g]+" ')]";try{d=b.document.evaluate(".//"+c+j,f,l,0,null)}catch(s){d=b.document.evaluate(".//"+c+j,f,null,0,null)}for(;g=d.iterateNext();)a.push(g)}else{r=a.split(" ");
j=[];d="*"===c&&f.all?f.all:f.getElementsByTagName(c);a=[];for(g=0;g<r.length;g++)j.push(RegExp("(^|\\s)"+r[g]+"(\\s|$)"));for(g=0;g<d.length;g++){c=!1;for(f=0;f<j.length&&!(c=j[f].test(d[g].className),!c);f++);c&&a.push(d[g])}}return b.dom.NodeList(a)},parent:function(a,c,b,d){"boolean"!==typeof a&&(d=b,b=c,c=a,a=!1);d=d&&d.toUpperCase();do if(a){if(!(b&&!this.hasClass(c,b)||d&&d!==c.nodeName))break}else a=!0;while(c=c.parentNode);return c},isChild:function(a,c){for(;a=a.parentNode;)if(a===c)return!0;
return!1},prev:function(a,c,b){for(b=b&&b.toUpperCase();(a=a.previousSibling)&&(1!==a.nodeType||c&&!this.hasClass(a,c)||b&&b!==a.nodeName););return a},next:function(a,c,b){for(b=b&&b.toUpperCase();(a=a.nextSibling)&&(1!==a.nodeType||c&&!this.hasClass(a,c)||b&&b!==a.nodeName););return a},create:function(a){var c=b.document.createElement("div");c.innerHTML=a;return this.remove(c.firstChild)},remove:function(a){var c=this.parent(a);return c&&c.removeChild(a)},before:function(a,c){var b=this.parent(c);
return b&&b.insertBefore(a,c)},after:function(a,c){var b=this.parent(c);return b&&b.insertBefore(a,c.nextSibling)},hasClass:function(a,c){return a.classList&&a.classList.contains?a.classList.contains(c):RegExp("(^|\\s)"+c+"(\\s|$)").test(a.className)},addClass:function(a,c){this.hasClass(a,c)||(a.classList&&a.classList.add?a.classList.add(c):a.className+=(a.className?" ":"")+c);return a},removeClass:function(a,c){this.hasClass(a,c)&&(a.classList&&a.classList.remove?a.classList.remove(c):a.className=
a.className.replace(RegExp("(^|\\s)"+c+"(\\s|$)"),"$2"));return a},toggleClass:function(a,c){if(a.classList&&a.classList.toggle)a.classList.toggle(c);else return this.hasClass(a,c)?this.removeClass(a,c):this.addClass(a,c)},getStyle:function(){return this.style.get.apply(this,arguments)},style:{get:function(a,c,f){var d=null,e=!1;b.window&&b.window.getComputedStyle?d=b.window.getComputedStyle(a,f||null)[c]:a.currentStyle?d=a.currentStyle[c]:(d=a.style[c],e=!0);return!d&&!e?a.style[c]:d},set:function(a,
c){var f,d;for(f in c)c.hasOwnProperty(f)&&(d=b.string.dashToCamel(f),a.style[d]=c[f])}},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return a&&a.nodeType&&0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,c){if(this.isDOMNode(a)){for(var b=0,g=d.length;b<g;b++)if(a.nodeType===d[b][0]&&
c&d[b][1])return!0;return!1}},dataset:{get:function(a,c){if(b.util.isArray(c)){var f={};b.array.forEach(c,function(c){f[c]=b.dom.dataset.get(a,c)});return f}if(a.dataset)return a.dataset[c];c=b.string.camelToDash(c);return a.getAttribute("data-"+c)},set:function(a,c,f){a.dataset?a.dataset[c]=f:(c=b.string.camelToDash(c),a.setAttribute("data-"+c,f||""))},remove:function(a,c){a.dataset?delete a.dataset[c]:(c=b.string.camelToDash(c),a.removeAttribute("data-"+c))}}};var d=[[1,1],[2,2],[3,4],[4,8],[5,
16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(b){function e(d){if(this===b.dom)return new e(d);if(d)if(b.dom.isTypeOf(d,b.dom.ELEMENT_NODE|b.dom.DOCUMENT_NODE))this.push(d);else{if(d instanceof e)return d;d=b.array.toArray(d);b.array.forEach(d,b.bind(function(a){b.dom.isTypeOf(a,b.dom.ELEMENT_NODE|b.dom.DOCUMENT_NODE)&&this.push(a)},this))}}b.util.inherits(e,Array);b.extend(e.prototype,{toString:function(){return this.join(", ")},valueOf:function(){return this},item:function(b){return this[b]},concat:function(){var d=b.array.toArray(arguments);
b.array.forEach(d,b.bind(function(a){b.array.forEach(a,b.bind(function(a){this.push(a)},this))},this))},slice:function(){return new e(Array.prototype.slice.apply(this,arguments))},toArray:function(){return b.array.toArray(this)},indexOf:function(d,a){return b.array.indexOf(this,d,a)},lastIndexOf:function(d,a){return b.array.lastIndexOf(this,d,a)},inArray:function(d){return b.array.inArray(this,d)},forEach:function(d,a){b.array.forEach(this,d,a)},every:function(d,a){return b.array.every(this,d,a)},
some:function(d,a){return b.array.some(this,d,a)},filter:function(d,a){return new e(b.array.filter(this,d,a))},map:function(d,a){return new e(b.array.map(this,d,a))},reduce:function(d,a){return b.array.reduce(this,d,a)},reduceRight:function(d,a){return b.array.reduceRight(this,d,a)},byTag:function(d){var a=new e;this.forEach(function(c){a.concat(b.dom.byTag(d,c))});return a},byQuery:function(d){var a=null;this.forEach(function(c){a||(a=b.dom.byQuery(d,c))});return a},byQueryAll:function(d){var a=
new e;this.forEach(function(c){a.concat(b.dom.byQueryAll(d,c))});return a},byClass:function(d,a){var c=new e;this.forEach(function(f){c.concat(b.dom.byClass(d,a,f))});return c},find:function(d,a){var c,f;f=this;d&&(f=f.filter(function(a){return b.dom.hasClass(a,d)}));a&&(c=a&&a.toUpperCase(),f=f.filter(function(a){return c===a.nodeName}));return f}});b.dom.NodeList=e})(lib);
(function(b){function e(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&(b.nodeName&&a.toElement&&a.toElement.nodeName)&&(a.relatedTarget=a.toElement===a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function d(a){for(var b="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
d,e=0;++e<arguments.length;)for(d in b)"undefined"!==typeof arguments[e][b[d]]&&(a[b[d]]=arguments[e][b[d]]);a.originalEvent=arguments[1];return a}var a={add:function(a,f,g){var h=f.toLowerCase();this.initEventProperty(a,f);a.__events[f].callbacks[b.guid(g)]=g;this.w3c?a.addEventListener(f,g,!1):this.ie&&(a.__events[f].handle=null,a.__events[f].IECallbacks=a.__events[f].IECallbacks||{keys:[],callbacks:[]},a.__events[f].hasAttribute=!1,a.__events[f].supported="object"===typeof a["on"+h]||"function"===
typeof a["on"+h],a.__events[f].supported?(null!==a["on"+h]&&this.addIEAttributeEvent(a,f),h=b.bind(function(){var f;f="undefined"===typeof g.attributeEvent?e(b.window.event,a):e(b.window.event,null);return g.apply(a,[f])},this),a.__events[f].IECallbacks.keys.push(g.__guid),a.__events[f].IECallbacks.callbacks.push(h),a.attachEvent("on"+f,h)):(a.__events[f].handle=function(a){this.event=d(this.event,a);this.event=e(this.event);return this.callback.apply(this.event.currentTarget,[this.event])},h=a===
b.document?b.document.documentElement:a,"undefined"===typeof a.libEvent&&(a.libEvent=0,a!==h&&(h.libEvent=0)),h.attachEvent("onpropertychange",function(d){if("libEvent"===d.propertyName&&a.__events[f].handle.event&&a===a.__events[f].handle.event.currentTarget&&!1===a.__events[f].handle.dispatched)return a.__events[f].handle.dispatched=!0,b.bind(a.__events[f].handle,a.__events[f].handle)(d)})))},initEventProperty:function(a,b){"undefined"===typeof a.__events&&(a.__events={});"undefined"===typeof a.__events[b]&&
(a.__events[b]={});"undefined"===typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var d=b.toLowerCase(),e=a["on"+d];a["on"+d]=null;e.attributeEvent=!0;this.add(a,b,e)},remove:function(a,b,d){var e,j;if("undefined"===typeof b)for(j in a.__events)a.__events.hasOwnProperty(j)&&this.remove(a,j);if("object"===typeof a.__events&&"object"===typeof a.__events[b])if("function"===typeof d){if(this.w3c)a.removeEventListener(b,
d,!1);else if(this.ie&&a.__events[b].supported){var r,l=a.__events[b].IECallbacks,s=d.__guid;e=0;for(j=l.keys.length;e<j;e++)if(l.keys[e]===s){r=l.callbacks[e];l.keys.splice(e,0);l.callbacks.splice(e,0);break}a.detachEvent("on"+b,r)}delete a.__events[b].callbacks[d.__guid]}else for(e in a.__events[b].callbacks)a.__events[b].callbacks.hasOwnProperty(e)&&this.remove(a,b,a.__events[b].callbacks[e])},dispatch:function(a,b,d){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,
b,d);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,d);case this.types.html:return this.dispatchHTMLEvent(a,b,d);case this.types.dom:break;case this.types.wheel:break;default:return this.dispatchUIEvent(a,b,d)}else if(this.ie)return this.dispatchIEEvent(a,b,d)},dispatchMouseEvent:function(a,d,e){var e="undefined"!==typeof e?e:{},h={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},j=b.object.subtract(e,
h);b.extend(h,e||{});e=document.createEvent("MouseEvents");e.initMouseEvent(d,h.bubbles,h.cancelable,b.window,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget);b.extend(e,j);return a.dispatchEvent(e)},dispatchKeyboardEvent:function(a,d,e){var e="undefined"!==typeof e?e:{},h={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},j=b.object.subtract(e,h);b.extend(h,e||{});e=document.createEvent("KeyboardEvent");
"undefined"===typeof e.initKeyboardEvent&&e.initKeyEvent&&(e.initKeyboardEvent=e.initKeyEvent);e.initKeyboardEvent(d,h.bubbles,h.cancelable,b.window,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.keyCode,h.charCode);b.extend(e,j);return a.dispatchEvent(e)},dispatchHTMLEvent:function(a,d,e){var e="undefined"!==typeof e?e:{},h={bubbles:!0,cancelable:!0},j=b.object.subtract(e,h);b.extend(h,e||{});e=document.createEvent("HTMLEvents");e.initEvent(d,h.bubbles,h.cancelable);b.extend(e,j);return a.dispatchEvent(e)},
dispatchUIEvent:function(a,d,e){var e="undefined"!==typeof e?e:{},h={bubbles:!0,cancelable:!0,detail:null},j=b.object.subtract(e,h);b.extend(h,e||{});e=document.createEvent("UIEvents");e.initUIEvent(d,h.bubbles,h.cancelable,b.window,h.detail);b.extend(e,j);return a.dispatchEvent(e)},dispatchIEEvent:function(a,d,g){var h;h=d.toLowerCase();if("undefined"===typeof a.__events)if("object"===typeof a["on"+h]||"function"===typeof a["on"+h])this.addIEAttributeEvent(a,d);else return;if("undefined"!==typeof a.__events[d]){g=
g||{};if(a.__events[d].supported)return h=document.createEventObject(),b.extend(h,g),a.fireEvent("on"+d,h);for(h=b.extend(g,{target:a,type:d,currentTarget:a});a;){if(a.__events&&a.__events[d])for(var j in a.__events[d].callbacks)"boolean"===typeof g.safe&&!0===g.safe?(a.__events[d].handle.callback=a.__events[d].callbacks[j],a.__events[d].handle.event=h,a.__events[d].handle.dispatched=!1,h.currentTarget===document?document.documentElement.libEvent++:h.currentTarget.libEvent++):!1===a.__events[d].callbacks[j].call(a,
e(h,a))&&(h.preventDefault(),h.stopPropagation());a=h.currentTarget=!h.cancelBubble&&a.parentNode}return!1!==h.returnValue}},preventDefault:function(a){a.preventDefault();return!1},w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};a.events={click:a.types.mouse,dblclick:a.types.mouse,mousedown:a.types.mouse,mouseenter:a.types.mouse,mouseleave:a.types.mouse,mouseup:a.types.mouse,mouseover:a.types.mouse,mousemove:a.types.mouse,
mouseout:a.types.mouse,keypress:a.types.keyboard,keydown:a.types.keyboard,keyup:a.types.keyboard,load:a.types.html,unload:a.types.html,abort:a.types.html,error:a.types.html,resize:a.types.html,scroll:a.types.html,select:a.types.html,change:a.types.html,submit:a.types.html,reset:a.types.html,focus:a.types.html,blur:a.types.html,DOMFocusIn:a.types.dom,DOMFocusOut:a.types.dom,DOMActivate:a.types.dom,DOMSubtreeModified:a.types.dom,DOMNodeInserted:a.types.dom,DOMNodeRemoved:a.types.dom,DOMNodeRemovedFromDocument:a.types.dom,
DOMNodeInsertedIntoDocument:a.types.dom,DOMAttrModified:a.types.dom,DOMCharacterDataModified:a.types.dom,mousewheel:a.types.wheel,DOMMouseScroll:a.types.wheel};b.event={add:b.bind(a.add,a),remove:b.bind(a.remove,a),dispatch:b.bind(a.dispatch,a),preventDefault:a.preventDefault}})(lib);
(function(b){function e(){b.isDOMReady||(b.isDOMReady=!0,b.event.dispatch(document,"DOMReady",{safe:!0}),b.event.remove(b.document,"libReady"))}if(!b.isDOMReady)if("complete"===document.readyState)e();else if(!window.opera&&document.attachEvent)document.documentElement.doScroll&&window===top?function a(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(a,0);return}e()}():document.attachEvent("onreadystatechange",function c(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",
c),e())});else if(document.readyState)(function f(){/loaded|complete/.test(document.readyState)?e():setTimeout(f,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function g(){document.removeEventListener("DOMContentLoaded",g,!1);e()},!1);else throw Error("Unable to bind lib ready listener to document.");})(lib);
(function(b){b.dimensions={get:function(b){var d,a;d=this.scroll();if("undefined"===typeof b)return b=this.layoutViewport(),{innerWidth:b.width,innerHeight:b.height,scrollX:d.x,scrollY:d.y};if(b)return a=b.getBoundingClientRect(),{width:a.width||b.offsetWidth,height:a.height||b.offsetHeight,left:a.left+d.x,top:a.top+d.y,right:a.right+d.x,bottom:a.bottom+d.y}},normalize:function(b,d){var a,c,f,g;a=b.left-d.left;c=b.top-d.top;f=b.width;g=b.height;return{left:a,top:c,right:a+f,bottom:c+g,width:f,height:g}},
padding:function(b){return this.getPropertyDimensions(b,"padding-{0}")},border:function(b){return this.getPropertyDimensions(b,"border-{0}-width")},margin:function(b){return this.getPropertyDimensions(b,"margin-{0}")},getPropertyDimensions:function(e,d){var a,c,f,g,h;f=["left","top","right","bottom"];h={};a=0;for(c=f.length;a<c;a++)g=f[a],h[g]=parseInt(b.dom.getStyle(e,b.string.format(d,[g])),10);return h},layoutViewport:function(){return{width:b.document.documentElement.clientWidth||document.body.clientWidth,
height:b.document.documentElement.clientHeight||document.body.clientHeight}},visualViewport:function(){return{width:b.window.innerWidth||document.documentElement.offsetWidth,height:b.window.innerHeight||document.documentElement.offsetHeight}},scroll:function(){return{x:b.window.scrollX||b.document.documentElement.scrollLeft,y:b.window.scrollY||b.document.documentElement.scrollTop}}}})(lib);if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$13){}
(function(b,e){var d,a;d=["ms","moz","webkit","o"];a=0;b.tween={Bezier:function(a,b,d,e){var j=3*a,r=3*(d-a)-j,l=1-j-r,s=3*b,t=3*(e-b)-s,m=1-s-t;return function(a){for(var b=a,c=0,d;5>c;){d=b*(j+b*(r+b*l))-a;if(0.001>Math.abs(d))break;b-=d/(j+b*(2*r+3*l*b));c++}a=b;return a*(s+a*(t+a*m))}},bezier:function(a,b,d,e){return new this.Bezier(a,b,d,e)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){var c;
c=b.window.requestAnimationFrame;for(var f=0;f<d.length&&!c;f++)c=b.window[d[f]+"RequestAnimationFrame"];return c?c:function(c){var d,f,e;d=(new Date).getTime();f=Math.max(0,16-(d-a));e=b.window.setTimeout(function(){c(d+f)},f);a=d+f;return e}},getCancelAnimationFrame:function(){var a;a=b.window.cancelAnimationFrame;for(var f=0;f<d.length&&!a;f++)a=b.window[d[f]+"CancelAnimationFrame"]||b.window[d[f]+"CancelRequestAnimationFrame"];return a?a:function(a){b.window.clearTimeout(a)}},run:function(a,d,
g,h,j,r){var l,s,t,m,q,u;t=b.util.isFunction(j);m=b.util.isFunction(r);q=this.getRequestAnimationFrame();u=!1;s="string"===typeof h&&this.easing[h]?this.bezier.apply(this,this.easing[h]):b.util.isArray(h)&&4===h.length?this.bezier.apply(this,h):this.bezier.apply(this,this.easing.ease);(function v(){var b,h,n;l?(b=+new Date,h=b-l,b=s(h/g),h=13>g-h?!0:!1,b*=d-a,b=a+b,b=h?d:b,h?m&&r.call(this,b):(u||(n=q(v)),t&&(u=j.call(this,b,n),u=e===u?!1:!u))):(l=+new Date,q(v))})()}}})(lib);
(function(b){function e(a){this.__guid=b.guid();this.__bound={};if(b.dom.isTypeOf(a,b.dom.ELEMENT_NODE|b.dom.DOCUMENT_NODE)||a===b.window)this.element=a}function d(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=b.util.getFunctionName(this.widgetConstructor)}b.extend(e.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(a){var c=b.array.toArray(arguments);c.shift();return this.apply(a,c)},apply:function(a,b){var d=this.__bound[a];if(d)return d.apply(this,
b);throw Error("method "+a+" is not bound");}});b.extend(d.prototype,{run:function(a,c){var d,a=b.dom.isTypeOf(a,b.dom.ELEMENT_NODE|b.dom.DOCUMENT_NODE)||a===b.window?[a]:a?b.array.toArray(a):[];b.array.forEach(a,b.bind(function(a){d=new this.widgetConstructor(a,c);this.elementize(d,a);this.items.push(d);this.length++},this));return d},create:function(a,c){!0!==a&&(!1!==a&&1===arguments.length)&&(c=a,a=!1);var d;if(a){var e=b.dom.create("<div>");d=new this.widgetConstructor(e,c);this.elementize(d,
e)}else d=new this.widgetConstructor(null,c);this.items.push(d);this.length++;return d},destroy:function(a){for(var c=0,d=this.items.length;c<d;c++)if(a===this.items[c]){a.dispose();var e=b.util.getType(a);a.element&&a.element.__widgets&&delete a.element.__widgets[e];this.items.splice(c,1);this.length--}},elementize:function(a){a.element.__widgets||(a.element.__widgets={});a.element.__widgets[this.name]=a},item:function(a){return this.items[a]||null},call:function(a,c){var d=b.array.toArray(arguments);
d.shift();b.util.isFunction(c)?d.shift():(c&&d.push(c),c=null);return this.apply(a,c,d)},apply:function(a,c,d){return"string"===typeof a&&!c?this.widgetConstructor[a].apply(this,d):b.widget.get(a,this.name).apply(c,d)}});b.widget={Widget:e,create:function(a,c){1===arguments.length&&b.util.isObject(a)&&(c=a,a=c.constructor,delete c.constructor);b.util.inherits(a,e);b.extend(a.prototype,b.widget.helpers);b.extend(a.prototype,c);return new d(a)},get:function(a,c){return b.dom.isTypeOf(a,b.dom.ELEMENT_NODE)&&
a.__widgets?(c=c instanceof d?c.name:c,a.__widgets[c]||null):null}}})(lib);
(function(b){b.widget.helpers={};b.extend(b.widget.helpers,{_addEvent:function(e,d,a){var c=b.bind(a,this);this.__events||(this.__events=[]);this.__events.push([e,d,a,c]);b.event.add(e,d,c)},_removeEvent:function(e,d,a){if(this.__events){var c=this.__events;b.array.forEach(c,function(f,g){var h=!0;e&&(h=h&&e===f[0]);d&&(h=h&&d===f[1]);a&&(h=h&&a===f[2]);h&&(b.event.remove(f[0],f[1],f[3]),c[g]=null)});this.__events=b.array.filter(c,function(a){return null!==a})}},_dispatchEvent:function(e,d){b.event.dispatch(this.element,
e,d)},_dispose:function(){this._removeEvent();"__events"in this&&delete this.__events;delete this.element},_elementize:function(e){var d=b.util.getType(this);e.__widgets||(e.__widgets={});e.__widgets[d]||(e.__widgets[d]=this,this.element=e)}})})(lib);}).call(this);
