/*! lib - A JavaScript Library - http://github.com/monai/lib | MIT license */

(function(undefined){'use strict';(function(d,b){function c(){try{d.console.log.apply(d.console,arguments)}catch(a){var e;c.output||(c.output=[]);e=Array.prototype.slice.call(arguments,0);e=e.join(", ");c.output.push(e);d.clearTimeout(c.timer);c.timer=d.setTimeout(function(){var a=c.output.join("\r\n");c.output=[];alert(a)},1E3)}}var a,e;e=[];a={log:c,inspect:function(a){var e=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.push([b,": ",a[b]].join(""));return e.join("\r\n")},window:d,document:d&&d.document,
isReady:!1,ready:function(a){if(a===b){this.isReady=!0;for(var a=0,c=e.length;a<c;a++)e[a].call(this.window);e.length=0}else"function"===typeof a&&(this.isReady?a.call(this.window):e.push(a))},extend:function(a){for(var e,b=0,c=arguments.length;++b<c;)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&(a[e]=arguments[b][e]);return a},bind:function(a,e){return"bind"in a?a.bind(e):function(){return a.apply(e,arguments)}},guid:function(e){a.guid.id||(a.guid.id=1);if(!e)return++a.guid.id;e.__guid||
(e.__guid=a.guid.id++);return e.__guid}};d.lib=a;d.log=c})(window);
(function(d,b){function c(a,e){this.thisConstructor=a;this.superConstructor=e}d.util={getType:function(a){var e,f;e=Object.prototype;f=e.toString.call(a);if(null===a)return"null";if(a===b)return"undefined";if(!0===a||!1===a)return"boolean";if("[object Array]"===f)return"Array";if("[object Arguments]"===f||e.hasOwnProperty.call(a,"callee"))return"Arguments";if("[object Function]"===f)return"Function";if("[object String]"===f)return"String";if("[object Number]"===f)return"Number";if("[object Date]"===
f)return"Date";if("[object RegExp]"===f)return"RegExp";if("object"===typeof a)return this.getConstructorName(a)},isObject:function(a){return a===Object(a)},isArray:function(a){return"Array"===this.getType(a)},isArguments:function(a){return"Arguments"===this.getType(a)},isFunction:function(a){return"Function"===this.getType(a)},isString:function(a){return"String"===this.getType(a)},isNumber:function(a){return"Number"===this.getType(a)},isDate:function(a){return"Date"===this.getType(a)},isRegExp:function(a){return"RegExp"===
this.getType(a)},getFunctionName:function(a){return this.isFunction(a)&&/^function (\S+?)\(/m.test(a.toString())?RegExp.$1:b},getConstructorName:function(a){if(a!==b&&a.constructor){var e,a=a.thisConstructor||a.constructor;e=this.getFunctionName(a);e===b&&/\[object (\S+?)\]/.test(a.toString())&&(e=RegExp.$1);return e}return b},inherits:function(a,e){a.superConstructor=e;Object.create?a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0},superConstructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}):(c.prototype=e.prototype,a.prototype=new c(a,e))}}})(lib);(function(d){function b(c,a){if(this===d.util)return new b(c,a);this.name=c;this.endTime=this.startTime=null;(a||"undefined"===typeof a)&&this.start()}d.extend(b.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var b=this.stop();d.log(this.name+": "+b+"ms")}});d.util.Benchmark=b})(lib);
(function(d){d.object={keys:function(b){var c;if("keys"in Object)return Object.keys(b);c=[];for(var a in b)b.hasOwnProperty(a)&&c.push(a);return c},createFromTemplate:function(b,c){var c=c?c:{},a=b.split(".");(function f(a,b){a[b[0]]||(a[b[0]]={});1<b.length&&f(a[b[0]],b.splice(1))})(c,a);return c},subtract:function(b,c){var a={},e;for(e in b)"undefined"===typeof c[e]&&(a[e]=b[e]);return a}}})(lib);
(function(d){d.array={toArray:function(b){var c=[];try{c=Array.prototype.slice.call(b,0)}catch(a){for(var e=0,f=b.length;e<f;e++)c[e]=b[e]}return c},indexOf:function(b,c,a){a=a||0;if("indexOf"in Array.prototype)return Array.prototype.indexOf.call(b,c,a);for(var e=b.length;a<e;a++)if(d.util.isArray(c)?this.isEqual(b[a],c):b[a]===c)return a;return-1},lastIndexOf:function(b,c,a){a=a||b.length;if("lastIndexOf"in Array.prototype)return Array.prototype.lastIndexOf.call(b,c,a);for(a=b.length-1;0<=a;a--)if(d.util.isArray(c)?
this.isEqual(b[a],c):b[a]===c)return a;return-1},inArray:function(b,c){return-1<this.indexOf(b,c)?!0:!1},forEach:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("forEach"in Array.prototype)Array.prototype.forEach.call(b,c,a||d.window);else for(var e=0,f=b.length;e<f;e++)c.call(a||d.window,b[e],e,b)},every:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("every"in Array.prototype)return Array.prototype.every.call(b,c,a||
d.window);for(var e=0,f=b.length;e<f;e++)if(e in b&&!c.call(a||d.window,b[e],e,b))return!1;return!0},some:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("some"in Array.prototype)return Array.prototype.some.call(b,c,a||d.window);for(var e=0,f=b.length;e<f;e++)if(e in b&&c.call(a||d.window,b[e],e,b))return!0;return!1},filter:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("filter"in Array.prototype)return Array.prototype.filter.call(b,
c,a||d.window);for(var e=[],f=0,h=b.length;f<h;f++)f in b&&c.call(a||d.window,b[f],f,b)&&e.push(b[f]);return e},map:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("map"in Array.prototype)return Array.prototype.map.call(b,c,a||d.window);for(var e=b.length,f=Array(e),h=0;h<e;h++)h in b&&(f[h]=c.call(a||d.window,b[h],h,b));return f},reduce:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("reduce"in Array.prototype)return Array.prototype.reduce.apply(b,
a?[c,a]:[c]);var e=b.length,f="undefined"===typeof a;if(0===e&&f)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,a=f?a:b[h++];h<e;h++)h in b&&(a=c.call(d.window,a,b[h],h,b));return a},reduceRight:function(b,c,a){if("function"!==typeof c)throw new TypeError(c+" is not a function");if("reduceRight"in Array.prototype)return Array.prototype.reduceRight.apply(b,a?[c,a]:[c]);var e=b.length,f="undefined"===typeof a;if(0===e&&f)throw new TypeError("Reduce of empty array with no initial value");
e-=1;for(a=f?a:b[e--];0<=e;e--)e in b&&(a=c.call(d.window,a,b[e],e,b));return a},isEqual:function(b){for(var c=!0,a=b.length,e=1,f=arguments.length;e<f;e++){if(a!==arguments[e].length)return!1;for(var d=0;d<a;d++)if(b[d]instanceof Array||arguments[e][d]instanceof Array)if(b[d]instanceof Array&&arguments[e][d]instanceof Array){if(c=this.isEqual(b[d],arguments[e][d]),!c)break}else return!1;else if(c=b[d]===arguments[e][d],!c)break;if(!c)break}return c},flatten:function(b){return this.reduce(b,function(b,
a){return b.concat(a)})},unique:function(b){return d.array.reduce(b,d.bind(function(b,a){this.inArray(b,a)||b.push(a);return b},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(b){var c=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(b,d.bind(function(a){return!this.inArray(c,a)},this))},intersection:function(b){var c=this.toArray(arguments).slice(1);return this.filter(this.unique(b),d.bind(function(a){return this.every(c,
d.bind(function(e){return 0<=this.indexOf(e,a)},this))},this))}}})(lib);
(function(d){d.string={trim:function(b){if("trim"in String)return String.trim(b);for(var b=b.replace(/^\s\s*/,""),d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},trimLeft:function(b){return"trimLeft"in String?String.trimLeft(b):b.replace(/^\s\s*/,"")},trimRight:function(b){if("trimRight"in String)return String.trimRight(b);for(var d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},padding:function(b,d,a){"string"!==typeof b&&(b=b.toString());var e=Math.abs(a);if(b.length>=e)return b;
for(var f=Array(e-b.length),h=0,g=f.length;h<g;h++)f[h]=d;e===a?f.push(b):f.unshift(b);return f.join("")},format:function(b,d){return b.replace(/\{(\d+)\}/g,function(a,e){return d[parseInt(e,10)]})},camelToDash:function(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})},dashToCamel:function(b){return b.replace(/-(.)/g,function(b){return b[1].toUpperCase()})},capitalize:function(b){return b.charAt(0).toUpperCase()+b.slice(1)}}})(lib);
(function(d){d.date={parseISOString:function(b){var d=Date.parse(b);if(!isNaN(d))return new Date(d);var b=b.match(/\d+/g),b=new Date(b[0],parseInt(b[1],10)-1,b[2],b[3],b[4],b[5],b[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d===a?-1:1,e=(d-d%60)/60,d=d-60*e;b.setHours(b.getHours()+e*a);b.setMinutes(b.getMinutes()+d*a);return b},toISOString:function(b){return"toISOString"in b?b.toISOString():[b.getUTCFullYear(),"-",d.util.padding(b.getUTCMonth()+1,0,2),"-",d.util.padding(b.getUTCDate(),0,
2),"T",d.util.padding(b.getUTCHours(),0,2),":",d.util.padding(b.getUTCMinutes(),0,2),":",d.util.padding(b.getUTCSeconds(),0,2),".",d.util.padding(b.getUTCMilliseconds(),0,3),"Z"].join("")}}})(lib);
(function(d,b){d.dom={byId:function(a){return d.document.getElementById(a)},byTag:function(a,e){var f=(e||d.document).getElementsByTagName(a);return d.dom.NodeList(f)},byQuery:function(a,e){return(e||d.document).querySelector(a)},byQueryAll:function(a,e){var f=(e||d.document).querySelectorAll(a);return d.dom.NodeList(f)},byClass:function(a,e,f){var c,g,i,j,k;"object"===typeof e&&"undefined"===typeof f&&(f=e,e=b);if(d.document.getElementsByClassName){g=(f||d.document).getElementsByClassName(a);i=e&&
e.toUpperCase();a=[];for(c=0;c<g.length;c++)i&&i!==g[c].nodeName||a.push(g[c])}else if(e=e||"*",f=f||d.document,d.document.evaluate){j=a.split(" ");i="";k="http://www.w3.org/1999/xhtml"===d.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null;a=[];for(c=0;c<j.length;c++)i+="[contains(concat(' ', @class, ' '), ' "+j[c]+" ')]";try{g=d.document.evaluate(".//"+e+i,f,k,0,null)}catch(l){g=d.document.evaluate(".//"+e+i,f,null,0,null)}for(;c=g.iterateNext();)a.push(c)}else{j=a.split(" ");
i=[];g="*"===e&&f.all?f.all:f.getElementsByTagName(e);a=[];for(c=0;c<j.length;c++)i.push(RegExp("(^|\\s)"+j[c]+"(\\s|$)"));for(c=0;c<g.length;c++){e=!1;for(f=0;f<i.length&&!(e=i[f].test(g[c].className),!e);f++);e&&a.push(g[c])}}return d.dom.NodeList(a)},parent:function(a,e,f,b){"boolean"!==typeof a&&(b=f,f=e,e=a,a=!1);b=b&&b.toUpperCase();do if(a){if(!(f&&!this.hasClass(e,f)||b&&b!==e.nodeName))break}else a=!0;while(e=e.parentNode);return e},isChild:function(a,e){for(;a=a.parentNode;)if(a===e)return!0;
return!1},prev:function(a,e,b){for(b=b&&b.toUpperCase();(a=a.previousSibling)&&(1!==a.nodeType||e&&!this.hasClass(a,e)||b&&b!==a.nodeName););return a},next:function(a,e,b){for(b=b&&b.toUpperCase();(a=a.nextSibling)&&(1!==a.nodeType||e&&!this.hasClass(a,e)||b&&b!==a.nodeName););return a},create:function(a){var e=d.document.createElement("div");e.innerHTML=a;return this.remove(e.firstChild)},remove:function(a){var e=a.parentNode;return e&&e.removeChild(a)},before:function(a,e){var b=e.parentNode;return b&&
b.insertBefore(a,e)},after:function(a,e){var b=e.parentNode;return b&&b.insertBefore(a,e.nextSibling)},hasClass:function(a,e){return a.classList&&a.classList.contains?a.classList.contains(e):RegExp("(^|\\s)"+e+"(\\s|$)").test(a.className)},addClass:function(a,e){this.hasClass(a,e)||(a.classList&&a.classList.add?a.classList.add(e):a.className+=(a.className?" ":"")+e);return a},removeClass:function(a,e){this.hasClass(a,e)&&(a.classList&&a.classList.remove?a.classList.remove(e):a.className=a.className.replace(RegExp("(^|\\s)"+
e+"(\\s|$)"),"$2"));return a},toggleClass:function(a,e){if(a.classList&&a.classList.toggle)a.classList.toggle(e);else return this.hasClass(a,e)?this.removeClass(a,e):this.addClass(a,e)},getStyle:function(){return this.style.get.apply(this,arguments)},style:{get:function(a,e,b){var c=null,g=!1;d.window&&d.window.getComputedStyle?c=d.window.getComputedStyle(a,b||null)[e]:a.currentStyle?c=a.currentStyle[e]:(c=a.style[e],g=!0);return!c&&!g?a.style[e]:c},set:function(a,e){var b,c;for(b in e)e.hasOwnProperty(b)&&
(c=d.string.dashToCamel(b),a.style[c]=e[b])}},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return a&&a.nodeType&&0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,e){if(this.isDOMNode(a)){for(var b=0,d=c.length;b<d;b++)if(a.nodeType===c[b][0]&&e&c[b][1])return!0;return!1}},dataset:{get:function(a,
e){if(d.util.isArray(e)){var b={};d.array.forEach(e,function(e){b[e]=d.dom.dataset.get(a,e)});return b}if(a.dataset)return a.dataset[e];e=d.string.camelToDash(e);return a.getAttribute("data-"+e)},set:function(a,e,b){a.dataset?a.dataset[e]=b:(e=d.string.camelToDash(e),a.setAttribute("data-"+e,b||""))},remove:function(a,e){a.dataset?delete a.dataset[e]:(e=d.string.camelToDash(e),a.removeAttribute("data-"+e))}}};var c=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,
2048]]})(lib);
(function(d){function b(c){if(this===d.dom)return new b(c);if(c)if(d.dom.isTypeOf(c,d.dom.ELEMENT_NODE|d.dom.DOCUMENT_NODE))this.push(c);else{if(c instanceof b)return c;c=d.array.toArray(c);d.array.forEach(c,d.bind(function(a){d.dom.isTypeOf(a,d.dom.ELEMENT_NODE|d.dom.DOCUMENT_NODE)&&this.push(a)},this))}}d.util.inherits(b,Array);d.extend(b.prototype,{toString:function(){return this.join(", ")},valueOf:function(){return this},item:function(b){return this[b]},concat:function(){var b=d.array.toArray(arguments);
d.array.forEach(b,d.bind(function(a){d.array.forEach(a,d.bind(function(a){this.push(a)},this))},this))},slice:function(){return new b(Array.prototype.slice.apply(this,arguments))},toArray:function(){return d.array.toArray(this)},indexOf:function(b,a){return d.array.indexOf(this,b,a)},lastIndexOf:function(b,a){return d.array.lastIndexOf(this,b,a)},inArray:function(b){return d.array.inArray(this,b)},forEach:function(b,a){d.array.forEach(this,b,a)},every:function(b,a){return d.array.every(this,b,a)},
some:function(b,a){return d.array.some(this,b,a)},filter:function(c,a){return new b(d.array.filter(this,c,a))},map:function(c,a){return new b(d.array.map(this,c,a))},reduce:function(b,a){return d.array.reduce(this,b,a)},reduceRight:function(b,a){return d.array.reduceRight(this,b,a)},byTag:function(c){var a=new b;this.forEach(function(e){a.concat(d.dom.byTag(c,e))});return a},byQuery:function(b){var a=null;this.forEach(function(e){a||(a=d.dom.byQuery(b,e))});return a},byQueryAll:function(c){var a=
new b;this.forEach(function(e){a.concat(d.dom.byQueryAll(c,e))});return a},byClass:function(c,a){var e=new b;this.forEach(function(b){e.concat(d.dom.byClass(c,a,b))});return e},find:function(b,a){var e,f;f=this;b&&(f=f.filter(function(a){return d.dom.hasClass(a,b)}));a&&(e=a&&a.toUpperCase(),f=f.filter(function(a){return e===a.nodeName}));return f}});d.dom.NodeList=b})(lib);
(function(d){function b(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&(b.nodeName&&a.toElement&&a.toElement.nodeName)&&(a.relatedTarget=a.toElement===a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function c(a){for(var b="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
d,c=0;++c<arguments.length;)for(d in b)"undefined"!==typeof arguments[c][b[d]]&&(a[b[d]]=arguments[c][b[d]]);a.originalEvent=arguments[1];return a}var a={add:function(a,f,h){var g=f.toLowerCase();this.initEventProperty(a,f);a.__events[f].callbacks[d.guid(h)]=h;this.w3c?a.addEventListener(f,h,!1):this.ie&&(a.__events[f].handle=null,a.__events[f].IECallbacks=a.__events[f].IECallbacks||{keys:[],callbacks:[]},a.__events[f].hasAttribute=!1,a.__events[f].supported="object"===typeof a["on"+g]||"function"===
typeof a["on"+g],a.__events[f].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,f),g=d.bind(function(){var f;f="undefined"===typeof h.attributeEvent?b(d.window.event,a):b(d.window.event,null);return h.apply(a,[f])},this),a.__events[f].IECallbacks.keys.push(h.__guid),a.__events[f].IECallbacks.callbacks.push(g),a.attachEvent("on"+f,g)):(a.__events[f].handle=function(a){this.event=c(this.event,a);this.event=b(this.event);return this.callback.apply(this.event.currentTarget,[this.event])},g=a===
d.document?d.document.documentElement:a,"undefined"===typeof a.libEvent&&(a.libEvent=0,a!==g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(b){if("libEvent"===b.propertyName&&a.__events[f].handle.event&&a===a.__events[f].handle.event.currentTarget&&!1===a.__events[f].handle.dispatched)return a.__events[f].handle.dispatched=!0,d.bind(a.__events[f].handle,a.__events[f].handle)(b)})))},initEventProperty:function(a,b){"undefined"===typeof a.__events&&(a.__events={});"undefined"===typeof a.__events[b]&&
(a.__events[b]={});"undefined"===typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var d=b.toLowerCase(),c=a["on"+d];a["on"+d]=null;c.attributeEvent=!0;this.add(a,b,c)},remove:function(a,b,d){var c,i;if("undefined"===typeof b)for(i in a.__events)a.__events.hasOwnProperty(i)&&this.remove(a,i);if("object"===typeof a.__events&&"object"===typeof a.__events[b])if("function"===typeof d){if(this.w3c)a.removeEventListener(b,
d,!1);else if(this.ie&&a.__events[b].supported){var j,k=a.__events[b].IECallbacks,l=d.__guid;c=0;for(i=k.keys.length;c<i;c++)if(k.keys[c]===l){j=k.callbacks[c];k.keys.splice(c,0);k.callbacks.splice(c,0);break}a.detachEvent("on"+b,j)}delete a.__events[b].callbacks[d.__guid]}else for(c in a.__events[b].callbacks)a.__events[b].callbacks.hasOwnProperty(c)&&this.remove(a,b,a.__events[b].callbacks[c])},dispatch:function(a,b,d){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,
b,d);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,d);case this.types.html:return this.dispatchHTMLEvent(a,b,d);case this.types.dom:break;case this.types.wheel:break;default:return this.dispatchUIEvent(a,b,d)}else if(this.ie)return this.dispatchIEEvent(a,b,d)},dispatchMouseEvent:function(a,b,c){var c="undefined"!==typeof c?c:{},g={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},i=d.object.subtract(c,
g);d.extend(g,c||{});c=document.createEvent("MouseEvents");c.initMouseEvent(b,g.bubbles,g.cancelable,d.window,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget);d.extend(c,i);return a.dispatchEvent(c)},dispatchKeyboardEvent:function(a,b,c){var c="undefined"!==typeof c?c:{},g={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},i=d.object.subtract(c,g);d.extend(g,c||{});c=document.createEvent("KeyboardEvent");
"undefined"===typeof c.initKeyboardEvent&&c.initKeyEvent&&(c.initKeyboardEvent=c.initKeyEvent);c.initKeyboardEvent(b,g.bubbles,g.cancelable,d.window,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.keyCode,g.charCode);d.extend(c,i);return a.dispatchEvent(c)},dispatchHTMLEvent:function(a,b,c){var c="undefined"!==typeof c?c:{},g={bubbles:!0,cancelable:!0},i=d.object.subtract(c,g);d.extend(g,c||{});c=document.createEvent("HTMLEvents");c.initEvent(b,g.bubbles,g.cancelable);d.extend(c,i);return a.dispatchEvent(c)},
dispatchUIEvent:function(a,b,c){var c="undefined"!==typeof c?c:{},g={bubbles:!0,cancelable:!0,detail:null},i=d.object.subtract(c,g);d.extend(g,c||{});c=document.createEvent("UIEvents");c.initUIEvent(b,g.bubbles,g.cancelable,d.window,g.detail);d.extend(c,i);return a.dispatchEvent(c)},dispatchIEEvent:function(a,c,h){var g;g=c.toLowerCase();if("undefined"===typeof a.__events)if("object"===typeof a["on"+g]||"function"===typeof a["on"+g])this.addIEAttributeEvent(a,c);else return;if("undefined"!==typeof a.__events[c]){h=
h||{};if(a.__events[c].supported)return g=document.createEventObject(),d.extend(g,h),a.fireEvent("on"+c,g);for(g=d.extend(h,{target:a,type:c,currentTarget:a});a;){if(a.__events&&a.__events[c])for(var i in a.__events[c].callbacks)"boolean"===typeof h.safe&&!0===h.safe?(a.__events[c].handle.callback=a.__events[c].callbacks[i],a.__events[c].handle.event=g,a.__events[c].handle.dispatched=!1,g.currentTarget===document?document.documentElement.libEvent++:g.currentTarget.libEvent++):!1===a.__events[c].callbacks[i].call(a,
b(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},preventDefault:function(a){a.preventDefault();return!1},w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};a.events={click:a.types.mouse,dblclick:a.types.mouse,mousedown:a.types.mouse,mouseenter:a.types.mouse,mouseleave:a.types.mouse,mouseup:a.types.mouse,mouseover:a.types.mouse,mousemove:a.types.mouse,
mouseout:a.types.mouse,keypress:a.types.keyboard,keydown:a.types.keyboard,keyup:a.types.keyboard,load:a.types.html,unload:a.types.html,abort:a.types.html,error:a.types.html,resize:a.types.html,scroll:a.types.html,select:a.types.html,change:a.types.html,submit:a.types.html,reset:a.types.html,focus:a.types.html,blur:a.types.html,DOMFocusIn:a.types.dom,DOMFocusOut:a.types.dom,DOMActivate:a.types.dom,DOMSubtreeModified:a.types.dom,DOMNodeInserted:a.types.dom,DOMNodeRemoved:a.types.dom,DOMNodeRemovedFromDocument:a.types.dom,
DOMNodeInsertedIntoDocument:a.types.dom,DOMAttrModified:a.types.dom,DOMCharacterDataModified:a.types.dom,mousewheel:a.types.wheel,DOMMouseScroll:a.types.wheel};d.event={add:d.bind(a.add,a),remove:d.bind(a.remove,a),dispatch:d.bind(a.dispatch,a),preventDefault:a.preventDefault}})(lib);
(function(d){d.dimensions={get:function(b){var c,a;c=this.scroll();if("undefined"===typeof b)return b=this.layoutViewport(),{innerWidth:b.width,innerHeight:b.height,scrollX:c.x,scrollY:c.y};if(b)return a=b.getBoundingClientRect(),{width:a.width||b.offsetWidth,height:a.height||b.offsetHeight,left:a.left+c.x,top:a.top+c.y,right:a.right+c.x,bottom:a.bottom+c.y}},normalize:function(b,c){var a,e,d,h;a="x"in c?c.x:c.left;e="y"in c?c.y:c.top;if("x"in b&&"y"in b)return{x:b.x-a,y:b.y-e};a=b.left-a;e=b.top-
e;d=b.width;h=b.height;return{left:a,top:e,right:a+d,bottom:e+h,width:d,height:h}},padding:function(b){return this.getPropertyDimensions(b,"padding-{0}")},border:function(b){return this.getPropertyDimensions(b,"border-{0}-width")},margin:function(b){return this.getPropertyDimensions(b,"margin-{0}")},getPropertyDimensions:function(b,c){var a,e,f,h,g;f=["left","top","right","bottom"];g={};a=0;for(e=f.length;a<e;a++)h=f[a],g[h]=parseInt(d.dom.getStyle(b,d.string.format(c,[h])),10);return g},layoutViewport:function(){return{width:d.document.documentElement.clientWidth||
document.body.clientWidth,height:d.document.documentElement.clientHeight||document.body.clientHeight}},visualViewport:function(){return{width:d.window.innerWidth||document.documentElement.offsetWidth,height:d.window.innerHeight||document.documentElement.offsetHeight}},scroll:function(){return{x:d.window.scrollX||d.document.documentElement.scrollLeft,y:d.window.scrollY||d.document.documentElement.scrollTop}}}})(lib);
(function(d,b){var c,a;c=["ms","moz","webkit","o"];a=0;d.tween={Bezier:function(a,b,c,d){var i=3*a,j=3*(c-a)-i,k=1-i-j,l=3*b,n=3*(d-b)-l,p=1-l-n;return function(a){for(var b=a,e=0,c;5>e;){c=b*(i+b*(j+b*k))-a;if(0.001>Math.abs(c))break;b-=c/(i+b*(2*j+3*k*b));e++}a=b;return a*(l+a*(n+a*p))}},bezier:function(a,b,c,d){return new this.Bezier(a,b,c,d)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){var b;
b=d.window.requestAnimationFrame;for(var f=0;f<c.length&&!b;f++)b=d.window[c[f]+"RequestAnimationFrame"];return b?b:function(b){var e,c,f;e=(new Date).getTime();c=Math.max(0,16-(e-a));f=d.window.setTimeout(function(){b(e+c)},c);a=e+c;return f}},getCancelAnimationFrame:function(){var a;a=d.window.cancelAnimationFrame;for(var b=0;b<c.length&&!a;b++)a=d.window[c[b]+"CancelAnimationFrame"]||d.window[c[b]+"CancelRequestAnimationFrame"];return a?a:function(a){d.window.clearTimeout(a)}},run:function(a,c,
h,g,i,j){var k,l,n,p,q,m;n=d.util.isFunction(i);p=d.util.isFunction(j);q=this.getRequestAnimationFrame();m=!1;l="string"===typeof g&&this.easing[g]?this.bezier.apply(this,this.easing[g]):d.util.isArray(g)&&4===g.length?this.bezier.apply(this,g):this.bezier.apply(this,this.easing.ease);(function r(){var d,g,s;k?(d=+new Date,g=d-k,d=l(g/h),g=13>h-g?!0:!1,d*=c-a,d=a+d,d=g?c:d,g?p&&j.call(this,d):(m||(s=q(r)),n&&(m=i.call(this,d,s),m=b===m?!1:!m))):(k=+new Date,q(r))})()}}})(lib);
(function(d){function b(a){this.__guid=d.guid();this.__bound={};if(d.dom.isTypeOf(a,d.dom.ELEMENT_NODE|d.dom.DOCUMENT_NODE)||a===d.window)this.element=a}function c(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=d.util.getFunctionName(this.widgetConstructor)}d.extend(b.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(a){var b=d.array.toArray(arguments);b.shift();return this.apply(a,b)},apply:function(a,b){var c=this.__bound[a];if(c)return c.apply(this,
b);throw Error("method "+a+" is not bound");}});d.extend(c.prototype,{run:function(a,b){var c,a=d.dom.isTypeOf(a,d.dom.ELEMENT_NODE|d.dom.DOCUMENT_NODE)||a===d.window?[a]:a?d.array.toArray(a):[];d.array.forEach(a,d.bind(function(a){c=new this.widgetConstructor(a,b);this.elementize(c,a);this.items.push(c);this.length++},this));return c},create:function(a,b){!0!==a&&(!1!==a&&1===arguments.length)&&(b=a,a=!1);var c;if(a){var h=d.dom.create("<div>");c=new this.widgetConstructor(h,b);this.elementize(c,
h)}else c=new this.widgetConstructor(null,b);this.items.push(c);this.length++;return c},destroy:function(a){for(var b=0,c=this.items.length;b<c;b++)if(a===this.items[b]){a.dispose();var h=d.util.getType(a);a.element&&a.element.__widgets&&delete a.element.__widgets[h];this.items.splice(b,1);this.length--}},elementize:function(a){a.element.__widgets||(a.element.__widgets={});a.element.__widgets[this.name]=a},item:function(a){return this.items[a]||null},call:function(a,b){var c=d.array.toArray(arguments);
c.shift();d.util.isFunction(b)?c.shift():(b&&c.push(b),b=null);return this.apply(a,b,c)},apply:function(a,b,c){return"string"===typeof a&&!b?this.widgetConstructor[a].apply(this,c):d.widget.get(a,this.name).apply(b,c)}});d.widget={Widget:b,create:function(a,e){1===arguments.length&&d.util.isObject(a)&&(e=a,a=e.constructor,delete e.constructor);d.util.inherits(a,b);d.extend(a.prototype,d.widget.helpers);d.extend(a.prototype,e);return new c(a)},get:function(a,b){return d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&
a.__widgets?(b=b instanceof c?b.name:b,a.__widgets[b]||null):null}}})(lib);
(function(d){d.widget.helpers={};d.extend(d.widget.helpers,{_addEvent:function(b,c,a){var e=d.bind(a,this);this.__events||(this.__events=[]);this.__events.push([b,c,a,e]);d.event.add(b,c,e)},_removeEvent:function(b,c,a){if(this.__events){var e=this.__events;d.array.forEach(e,function(f,h){var g=!0;b&&(g=g&&b===f[0]);c&&(g=g&&c===f[1]);a&&(g=g&&a===f[2]);g&&(d.event.remove(f[0],f[1],f[3]),e[h]=null)});this.__events=d.array.filter(e,function(a){return null!==a})}},_dispatchEvent:function(b,c){d.event.dispatch(this.element,
b,c)},_dispose:function(){this._removeEvent();"__events"in this&&delete this.__events;delete this.element},_elementize:function(b){var c=d.util.getType(this);b.__widgets||(b.__widgets={});b.__widgets[c]||(b.__widgets[c]=this,this.element=b)}})})(lib);}).call(this);
