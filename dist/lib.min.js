/*
Copyright (c) 2012 https://github.com/monai/

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(b,e){var d=function f(){b.console&&b.console.log&&b.console.log.apply?b.console.log.apply(b.console,arguments):(f.output.push(a.array.toArray(arguments).join(", ")),b.clearTimeout(f.time),f.time=b.setTimeout(function(){var a=f.output.join("\r\n");f.output=[];alert(a)},1E3));return arguments[0]},a={log:d,inspect:function(f){var a=[],d;for(d in f)a.push(d+": "+f[d]);return a.join("\r\n")},window:b,document:b&&b.document,isReady:!1,isDOMReady:!1,ready:function(f,d){f===e?(a.isReady=!0,a.event.dispatch(a.document,
"libReady"),a.event.remove(a.document,"libReady")):"function"==typeof f&&(!a.isReady&&!d?a.event.add(a.document,"libReady",a.bind(f,a.window)):!a.isDOMReady&&d?a.event.add(a.document,"DOMReady",a.bind(f,a.window)):f())},extend:function(f){for(var a,d=0,b=arguments.length;++d<b;)for(a in arguments[d])f[a]=arguments[d][a];return f},bind:function(f,a){return"bind"in f?f.bind(a):function(){return f.apply(a,arguments)}},guid:function(f){if(!f)return++a.guid.id;f.__guid||(f.__guid=a.guid.id++);return f.__guid}};
a.log.output=[];a.guid.id=1;b.lib||(b.lib=a);b.log||(b.log=d)})(window);
(function(b,e){b.util={getType:function(d){var a=Object.prototype,c=a.toString.call(d);if(null===d)return"null";if(d===e)return"undefined";if(!0===d||!1===d)return"boolean";if("[object Array]"==c)return"Array";if("[object Arguments]"==c||a.hasOwnProperty.call(d,"callee"))return"Arguments";if("[object Function]"==c)return"Function";if("[object String]"==c)return"String";if("[object Number]"==c)return"Number";if("[object Date]"==c)return"Date";if("[object RegExp]"==c)return"RegExp";if("object"==typeof d)return this.getFunctionName(d.constructor)},
isObject:function(d){return d===Object(d)},isArray:function(d){return"Array"==this.getType(d)},isArguments:function(d){return"Arguments"==this.getType(d)},isFunction:function(d){return"Function"==this.getType(d)},isString:function(d){return"String"==this.getType(d)},isNumber:function(d){return"Number"==this.getType(d)},isDate:function(d){return"Date"==this.getType(d)},isRegExp:function(d){return"RegExp"==this.getType(d)},getFunctionName:function(d){if(this.isFunction(d)){if(/^function (\S+?)\(/.test(d.toString()))return RegExp.$1}else return null},
inherits:function(d,a){d.superConstructor=a;if(Object.create)d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});else{var c=function(){};c.prototype=a.prototype;d.prototype=new c}}}})(lib);
(function(b){function e(d,a){if(this==b.util)return new e(d,a);this.name=d;this.endTime=this.startTime=null;(a||"undefined"==typeof a)&&this.start()}b.extend(e.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var d=this.stop();b.log(this.name+": "+d+"ms")}});b.util.Benchmark=e})(lib);
(function(b,e){function d(f,a){if(this==b.util)return new d(f,a);this.__guid=b.guid();this._bound={};1==arguments.length&&b.dom.isTypeOf(a,b.dom.ELEMENT_NODE)&&(a=f,f=e);this.value=f;a&&(this._element=a,this._eventName="__bindableChange"+this.__guid)}function a(f,a){for(var d in this._bound)c.call(this,d,f,a)}function c(f,a,c){f=this._bound[f];b.util.isArray(f.target)?f.target[0][f.target[1]]=a:f.target.call(this,a,c)}b.extend(d.prototype,{dispose:function(){this.unbind()},toString:function(){return"[object Bindable]"},
valueOf:function(){return this.get()},get:function(){return this.value},set:function(f){var c=this.value;this.value=f;this._element?b.event.dispatch(this._element,this._eventName,{value:this.value,oldValue:c}):b.bind(a,this)(this.value,c);return this},bind:function(f,a){var d=b.guid(),e={id:d,target:null,proxy:null};f&&"string"==typeof a?e.target=[f,a]:b.util.isFunction(f)&&(e.target=f);this._bound[d]=e;this._element&&(e.proxy=b.bind(function(f){b.bind(c,this)(d,f.value,f.oldValue)},this),b.event.add(this._element,
this._eventName,e.proxy))},unbind:function(f,a){var c=this._bound,d;for(d in c){var e=c[d].target;if((e=e===f||b.util.isArray(e)&&e[0]===f&&e[1]===a)||!f)this._element&&b.event.remove(this._element,this._eventName,this._bound[d].proxy),delete c[d];if(e)break}}});b.util.Bindable=d})(lib);
(function(b){b.object={keys:function(b){if("keys"in Object)return Object.keys(b);var d=[],a;for(a in b)d.push(a);return d},createFromTemplate:function(b,d){var d=d?d:{},a=b.split(".");(function f(a,d){a[d[0]]||(a[d[0]]={});1<d.length&&f(a[d[0]],d.splice(1))})(d,a);return d},subtract:function(b,d){var a={},c;for(c in b)"undefined"==typeof d[c]&&(a[c]=b[c]);return a}}})(lib);
(function(b){b.array={toArray:function(b){var d=[];try{d=Array.prototype.slice.call(b,0)}catch(a){for(var c=0,f=b.length;c<f;c++)d[c]=b[c]}return d},indexOf:function(e,d){for(var a=0,c=e.length;a<c;a++)if(b.util.isArray(d)?this.isEqual(e[a],d):e[a]===d)return a;return-1},lastIndexOf:function(e,d){for(var a=e.length-1;0<=a;a--)if(b.util.isArray(d)?this.isEqual(e[a],d):e[a]===d)return a;return-1},inArray:function(b,d){return-1<this.indexOf(b,d)?!0:!1},forEach:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+
" is not a function");if("forEach"in e)e.forEach(d,a||b.window);else for(var c=0,f=e.length;c<f;c++)d.call(a||b.window,e[c],c,e)},every:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("every"in e)return e.every(d,a||b.window);for(var c=0,f=e.length;c<f;c++)if(c in e&&!d.call(a||b.window,e[c],c,e))return!1;return!0},some:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("some"in e)return e.some(d,a||b.window);for(var c=0,f=
e.length;c<f;c++)if(c in e&&d.call(a||b.window,e[c],c,e))return!0;return!1},filter:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("filter"in e)return e.filter(d,a||b.window);for(var c=[],f=0,h=e.length;f<h;f++)f in e&&d.call(a||b.window,e[f],f,e)&&c.push(e[f]);return c},map:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("map"in e)return e.map(d,a||b.window);for(var c=e.length,f=Array(c),h=0;h<c;h++)h in e&&(f[h]=d.call(a||
b.window,e[h],h,e));return f},reduce:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduce"in e)return Array.prototype.reduce.apply(e,a?[d,a]:[d]);var c=e.length,f="undefined"==typeof a;if(0==c&&f)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,a=f?a:e[h++];h<c;h++)h in e&&(a=d.call(b.window,a,e[h],h,e));return a},reduceRight:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduceRight"in
e)return Array.prototype.reduceRight.apply(e,a?[d,a]:[d]);var c=e.length,f="undefined"==typeof a;if(0==c&&f)throw new TypeError("Reduce of empty array with no initial value");c-=1;for(a=f?a:e[c--];0<=c;c--)c in e&&(a=d.call(b.window,a,e[c],c,e));return a},isEqual:function(b){for(var d=!0,a=b.length,c=1,f=arguments.length;c<f;c++){if(a!=arguments[c].length)return!1;for(var h=0;h<a;h++)if(b[h]instanceof Array||arguments[c][h]instanceof Array)if(b[h]instanceof Array&&arguments[c][h]instanceof Array){if(d=
this.isEqual(b[h],arguments[c][h]),!d)break}else return!1;else if(d=b[h]==arguments[c][h],!d)break;if(!d)break}return d},flatten:function(b){return this.reduce(b,function(d,a){return d.concat(a)})},unique:function(e){return b.array.reduce(e,b.bind(function(d,a){this.inArray(d,a)||d.push(a);return d},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(e){var d=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(e,b.bind(function(a){return!this.inArray(d,
a)},this))},intersection:function(e){var d=this.toArray(arguments).slice(1);return this.filter(this.unique(e),b.bind(function(a){return this.every(d,b.bind(function(c){return 0<=this.indexOf(c,a)},this))},this))}}})(lib);
(function(b){b.string={trim:function(b){if("trim"in String)return String.trim(b);for(var b=b.replace(/^\s\s*/,""),d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},trimLeft:function(b){return"trimLeft"in String?String.trimLeft(b):b.replace(/^\s\s*/,"")},trimRight:function(b){if("trimRight"in String)return String.trimRight(b);for(var d=b.length;/\s/.test(b.charAt(--d)););return b.slice(0,d+1)},padding:function(b,d,a){"string"!=typeof b&&(b=b.toString());var c=Math.abs(a);if(b.length>=c)return b;
for(var f=Array(c-b.length),h=0,j=f.length;h<j;h++)f[h]=d;c==a?f.push(b):f.unshift(b);return f.join("")},format:function(b,d){return b.replace(/\{(\d+)\}/g,function(a,c){return d[parseInt(c)]})},camelToDash:function(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})}}})(lib);
(function(b){b.date={parseISOString:function(b){var d=Date.parse(b);if(!isNaN(d))return new Date(d);var b=b.match(/\d+/g),b=new Date(b[0],parseInt(b[1],10)-1,b[2],b[3],b[4],b[5],b[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d==a?-1:1,c=(d-d%60)/60,d=d-60*c;b.setHours(b.getHours()+c*a);b.setMinutes(b.getMinutes()+d*a);return b},toISOString:function(e){return"toISOString"in e?e.toISOString():e.getUTCFullYear()+"-"+b.util.padding(e.getUTCMonth()+1,0,2)+"-"+b.util.padding(e.getUTCDate(),0,2)+
"T"+b.util.padding(e.getUTCHours(),0,2)+":"+b.util.padding(e.getUTCMinutes(),0,2)+":"+b.util.padding(e.getUTCSeconds(),0,2)+"."+b.util.padding(e.getUTCMilliseconds(),0,3)+"Z"}}})(lib);
(function(b){b.JSON={parse:function(b){if(JSON&&"parse"in JSON)return JSON.parse(b);if("string"!=typeof b&&"undefined"!=typeof b)return b;if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/\"[^\"\\\n\r]*\"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return ("+b+")"))();throw new SyntaxError("Invalid JSON");},stringify:function(e){function d(a){var f,h,e;"array"==b.util.getType(a)?(f="[",h="]",
e=!1):(f="{",h="}",e=!0);f=[f];var g=1,k,l=!1,m;for(m in a)if(k=b.util.getType(a[m]),"undefined"!=k)switch(l&&(f[g++]=","),l=!0,e&&(f[g++]='"',f[g++]=m,f[g++]='"',f[g++]=":"),k){case "Function":throw new TypeError("Cannot stringify function to JSON");default:f[g++]='"';f[g++]=a[m];f[g++]='"';break;case "Number":case "Boolean":f[g++]=a[m];break;case "Object":case "Array":f[g++]=d(a[m]);break;case "null":f[g++]=null}f[g++]=h;return f.join("")}var a=b.util.getType(e);if("Object"==a||"Array"==a)return d(e);
throw new TypeError("Cannot stringify function to JSON");}}})(lib);
(function(b,e){b.dom={byId:function(a){return b.document.getElementById(a)},byTag:function(a,c){return(c||b.document).getElementsByTagName(a)},byQuery:function(a,c){return(c||b.document).querySelector(name)},byQueryAll:function(a,c){return(c||b.document).querySelectorAll(name)},byClass:function(a,c,f){"object"==typeof c&&"undefined"==typeof f&&(f=c,c=e);if(b.document.getElementsByClassName)for(var d=(f||b.document).getElementsByClassName(a),j=c?RegExp("\\b"+c+"\\b","i"):null,a=[],g=0;g<d.length;g++)(!j||
j.test(d[g].nodeName))&&a.push(d[g]);else if(c=c||"*",f=f||b.document,b.document.evaluate){for(var k=a.split(" "),j="",l="http://www.w3.org/1999/xhtml"===b.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,a=[],g=0;g<k.length;g++)j+="[contains(concat(' ', @class, ' '), ' "+k[g]+" ')]";try{d=b.document.evaluate(".//"+c+j,f,l,0,null)}catch(m){d=b.document.evaluate(".//"+c+j,f,null,0,null)}for(;g=d.iterateNext();)a.push(g)}else{k=a.split(" ");j=[];d="*"===c&&f.all?f.all:f.getElementsByTagName(c);
a=[];for(g=0;g<k.length;g++)j.push(RegExp("(^|\\s)"+k[g]+"(\\s|$)"));for(g=0;g<d.length;g++){c=!1;for(f=0;f<j.length&&!(c=j[f].test(d[g].className),!c);f++);c&&a.push(d[g])}}return a},parent:function(a,c,f){c=c&&RegExp("(^|\\s)"+c+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.parentNode)&&(c&&!c.test(a.className)||f&&f!=a.nodeName););return a},isChild:function(a,c){for(;a=a.parentNode;)if(a===c)return!0;return!1},prev:function(a,c,f){c=c&&RegExp("(^|\\s)"+c+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.previousSibling)&&
(1!=a.nodeType||c&&!c.test(a.className)||f&&f!=a.nodeName););return a},next:function(a,c,f){c=c&&RegExp("(^|\\s)"+c+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.nextSibling)&&(1!=a.nodeType||c&&!c.test(a.className)||f&&f!=a.nodeName););return a},create:function(a){var c=b.document.createElement("div");c.innerHTML=a;return this.remove(c.firstChild)},remove:function(a){var c=this.parent(a);return c&&c.removeChild(a)},before:function(a,c){var f=this.parent(c);return f&&f.insertBefore(a,c)},after:function(a,
c){var f=this.parent(c);return f&&f.insertBefore(a,c.nextSibling)},hasClass:function(a,c){return a.classList&&a.classList.contains?a.classList.contains(c):RegExp("(^|\\s)"+c+"(\\s|$)").test(a.className)},addClass:function(a,c){this.hasClass(a,c)||(a.classList&&a.classList.add?a.classList.add(c):a.className+=(a.className?" ":"")+c);return a},removeClass:function(a,c){a.classList&&a.classList.remove?a.classList.remove(c):a.className=a.className.replace(RegExp("(^|\\s)"+c+"(\\s|$)"),"$2");return a},
toggleClass:function(a,c){if(a.classList&&a.classList.toggle)a.classList.toggle(c);else return this.hasClass(a,c)?this.removeClass(a,c):this.addClass(a,c)},getStyle:function(a,c,f){var d=null,e=!1;b.window&&b.window.getComputedStyle?d=b.window.getComputedStyle(a,f||null)[c]:a.currentStyle?d=a.currentStyle[c]:(d=a.style[c],e=!0);return!d&&!e?a.style[c]:d},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,
DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return!b.util.isObject(a)||!("nodeType"in a||"number"==typeof a.nodeType)?!1:0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,c){if(this.isDOMNode(a)){for(var f=0,b=d.length;f<b;f++)if(a.nodeType==d[f][0]&&(c|d[f][1])==c)return!0;return!1}},dataset:{get:function(a,c){if(b.util.isArray(c)){var f={};b.array.forEach(c,function(c){f[c]=b.dom.dataset.get(a,c)});return f}if(a.dataset)return a.dataset[c];
c=b.string.camelToDash(c);return a.getAttribute("data-"+c)},set:function(a,c,f){a.dataset?a.dataset[c]=f:(c=b.string.camelToDash(c),a.setAttribute("data-"+c,f||""))},remove:function(a,c){a.dataset?delete a.dataset[c]:(c=b.string.camelToDash(c),a.removeAttribute("data-"+c))}}};var d=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(b){function e(d){if(this==b.dom)return new e(d);this.items=[];this.length=0;if(d)for(var d=b.array.toArray(d),a=0;a<d.length;a++)d[a].nodeType&&b.array.inArray([1,9],d[a].nodeType)&&(this.length=this.push(d[a]))}b.extend(e.prototype,{toString:function(){return this.items.join(", ")},valueOf:function(){return this},length:0,item:function(b){return this.items[b]},push:function(b){return this.length=this.items.push(b)},pop:function(){var b=this.items.pop();this.length=this.items.length;return b},
unshift:function(b){return this.length=this.items.unshift(b)},shift:function(){var b=this.items.shift();this.length=this.items.length;return b},reverse:function(){this.items.reverse();return this},sort:function(b){this.items.sort(b);return this},splice:function(){for(var d=Array.prototype.splice.apply(this.items,arguments),a=[],c=0;c<this.items.length;c++)this.items[c].nodeType&&b.array.inArray([1,9],this.items[c].nodeType)&&a.push(this.items[c]);this.items=a;this.length=this.items.length;return new e(d)},
concat:function(){for(var b=this.items,a=0;a<arguments.length;a++)if(arguments[a]instanceof e)for(var c=0;c<arguments[a].length;c++)b.push(arguments[a].item(c));return new e(b)},subtract:function(){for(var b=this.items,a=[],c=0;c<arguments.length;c++)if(arguments[c]instanceof e){for(var f=0;f<b.length;f++){for(var h=!1,j=0;j<arguments[c].length;j++)b[f]==arguments[c].item(j)&&(h=!0);h||a.push(b[f])}b=a;a=[]}return new e(b)},slice:function(b,a){var c=this.items.slice(b,a);return new e(c)},toArray:function(){for(var b=
Array(this.items.length),a=0;a<this.items.length;a++)b[a]=this.items[a];return b},forEach:function(d,a){b.array.forEach(this.items,d,a)},every:function(d,a){return b.array.every(this.items,d,a)},some:function(d,a){return b.array.some(this.items,d,a)},filter:function(d,a){return b.array.filter(this.items,d,a)},map:function(d,a){return b.array.map(this.items,d,a)},byTag:function(d){for(var a=[],c=0;c<this.items.length;c++)for(var f=b.dom.byTag(d,this.items[c]),h=0;h<f.length;h++)a.push(f[h]);return new e(a)},
byClass:function(d,a){for(var c=[],f=0;f<this.items.length;f++)for(var h=b.dom.byClass(d,a,this.items[f]),j=0;j<h.length;j++)c.push(h[j]);return new e(c)}});b.dom.NodeList=e})(lib);
(function(b){function e(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&b.nodeName&&a.toElement&&a.toElement.nodeName&&(a.relatedTarget=a.toElement==a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function d(a){for(var b="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
c,d=0;++d<arguments.length;)for(c in b)"undefined"!=typeof arguments[d][b[c]]&&(a[b[c]]=arguments[d][b[c]]);a.originalEvent=arguments[1];return a}function a(){if(c.w3c){var a=!1,b=document.createElement("div");b.addEventListener("DOMAttrModified",function(c){c&&c.target&&c.target===b&&(a=!0)},!1);b.style.display="none";return a}return!0}var c={add:function(a,c,j){var g=c.toLowerCase();this.initEventProperty(a,c);a.__events[c].callbacks[b.guid(j)]=j;this.w3c?a.addEventListener(c,j,!1):this.ie&&(a.__events[c].handle=
null,a.__events[c].IECallbacks={},a.__events[c].hasAttribute=!1,a.__events[c].supported="object"==typeof a["on"+g]||"function"==typeof a["on"+g],a.__events[c].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,c),g=b.bind(function(){var c="undefined"==typeof j.attributeEvent?e(b.window.event,a):e(b.window.event,null);return j.apply(a,[c])},this),a.__events[c].IECallbacks[j._guid]=g,a.attachEvent("on"+c,g)):(a.__events[c].handle=function(a){this.event=d(this.event,a);this.event=e(this.event);
return this.callback.apply(this.event.currentTarget,[this.event])},g=a==b.document?b.document.documentElement:a,"undefined"==typeof a.libEvent&&(a.libEvent=0,a!=g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(d){if("libEvent"==d.propertyName&&a.__events[c].handle.event&&a==a.__events[c].handle.event.currentTarget&&!1===a.__events[c].handle.dispatched)return a.__events[c].handle.dispatched=!0,b.bind(a.__events[c].handle,a.__events[c].handle)(d)})))},initEventProperty:function(a,b){"undefined"==
typeof a.__events&&(a.__events={});"undefined"==typeof a.__events[b]&&(a.__events[b]={});"undefined"==typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var c=b.toLowerCase(),d=a["on"+c];a["on"+c]=null;d.attributeEvent=!0;this.add(a,b,d)},remove:function(a,b,c){if("undefined"==typeof b)for(b in a.__events)this.remove(a,b);if("object"==typeof a.__events&&"object"==typeof a.__events[b])if("function"==
typeof c)this.w3c?a.removeEventListener(b,c,!1):this.ie&&a.__events[b].supported&&(a.detachEvent("on"+b,a.__events[b].IECallbacks[c.__guid]),delete a.__events[b].IECallbacks[c.__guid]),delete a.__events[b].callbacks[c.__guid];else for(i in a.__events[b].callbacks)this.remove(a,b,a.__events[b].callbacks[i])},dispatch:function(a,b,c){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,b,c);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,c);case this.types.html:return this.dispatchHTMLEvent(a,
b,c);default:return this.dispatchUIEvent(a,b,c)}else if(this.ie)return this.dispatchIEEvent(a,b,c)},dispatchMouseEvent:function(a,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},k=b.object.subtract(d,e);b.extend(e,d||{});d=document.createEvent("MouseEvents");d.initMouseEvent(c,e.bubbles,e.cancelable,b.window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,
e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);b.extend(d,k);return a.dispatchEvent(d)},dispatchKeyboardEvent:function(a,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},k=b.object.subtract(d,e);b.extend(e,d||{});d=document.createEvent("KeyboardEvent");"undefined"==typeof d.initKeyboardEvent&&d.initKeyEvent&&(d.initKeyboardEvent=d.initKeyEvent);d.initKeyboardEvent(c,e.bubbles,e.cancelable,b.window,e.ctrlKey,
e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);b.extend(d,k);return a.dispatchEvent(d)},dispatchHTMLEvent:function(a,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0},k=b.object.subtract(d,e);b.extend(e,d||{});d=document.createEvent("HTMLEvents");d.initEvent(c,e.bubbles,e.cancelable);b.extend(d,k);return a.dispatchEvent(d)},dispatchUIEvent:function(a,c,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:null},k=b.object.subtract(d,e);b.extend(e,d||{});d=
document.createEvent("UIEvents");d.initUIEvent(c,e.bubbles,e.cancelable,b.window,e.detail);b.extend(d,k);return a.dispatchEvent(d)},dispatchIEEvent:function(a,c,d){var g=c.toLowerCase();if("undefined"==typeof a.__events)if("object"==typeof a["on"+g]||"function"==typeof a["on"+g])this.addIEAttributeEvent(a,c);else return;if("undefined"!=typeof a.__events[c]){d=d||{};if(a.__events[c].supported)return g=document.createEventObject(),b.extend(g,d),a.fireEvent("on"+c,g);for(g=b.extend(d,{target:a,type:c,
currentTarget:a});a;){if(a.__events&&a.__events[c])for(var k in a.__events[c].callbacks)"boolean"==typeof d.safe&&!0===d.safe?(a.__events[c].handle.callback=a.__events[c].callbacks[k],a.__events[c].handle.event=g,a.__events[c].handle.dispatched=!1,g.currentTarget==document?document.documentElement.libEvent++:g.currentTarget.libEvent++):!1===a.__events[c].callbacks[k].call(a,e(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},
w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};c.events={click:c.types.mouse,dblclick:c.types.mouse,mousedown:c.types.mouse,mouseenter:c.types.mouse,mouseleave:c.types.mouse,mouseup:c.types.mouse,mouseover:c.types.mouse,mousemove:c.types.mouse,mouseout:c.types.mouse,keypress:c.types.keyboard,keydown:c.types.keyboard,keyup:c.types.keyboard,load:c.types.html,unload:c.types.html,abort:c.types.html,error:c.types.html,
resize:c.types.html,scroll:c.types.html,select:c.types.html,change:c.types.html,submit:c.types.html,reset:c.types.html,focus:c.types.html,blur:c.types.html,DOMFocusIn:c.types.dom,DOMFocusOut:c.types.dom,DOMActivate:c.types.dom,DOMSubtreeModified:c.types.dom,DOMNodeInserted:c.types.dom,DOMNodeRemoved:c.types.dom,DOMNodeRemovedFromDocument:c.types.dom,DOMNodeInsertedIntoDocument:c.types.dom,DOMAttrModified:c.types.dom,DOMCharacterDataModified:c.types.dom,mousewheel:c.types.wheel,DOMMouseScroll:c.types.wheel};
b.event={add:b.bind(c.add,c),remove:b.bind(c.remove,c),dispatch:b.bind(c.dispatch,c),support:function(b){if("string"!=typeof b)return null;switch(b){case "DOMAttrModified":return a();default:return null}},compat:{DOMAttrModified:function(a,d){function e(){for(var b=a[g[0]],c=1;c<g.length;c++)b=b[g[c]];return b}if(c.w3c){c.initEventProperty(a,"DOMAttrModified");"undefined"==typeof a.__events.DOMAttrModified.oldProperties&&(a.__events.DOMAttrModified.oldProperties={});var g=d.split("."),k=b.guid(),
l=a.__events.DOMAttrModified.oldProperties[k]=e(),m=b.window.setInterval(function(){var g=e();l!==g&&(c.dispatch(a,"DOMAttrModified",{MODIFICATION:1,ADDITION:2,REMOVAL:3,attrChange:1,attrName:d,newValue:g,prevValue:l,compat:{stop:function(){b.window.clearInterval(m);delete a.__events.DOMAttrModified.oldProperties[k]}}}),l=g)},15)}}}}})(lib);
(function(b){function e(){b.isDOMReady||(b.isDOMReady=!0,b.event.dispatch(document,"DOMReady",{safe:!0}),b.event.remove(b.document,"libReady"))}if(!b.isDOMReady)if("complete"==document.readyState)e();else if(!window.opera&&document.attachEvent)document.documentElement.doScroll&&window==top?function(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}e()}():document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",
arguments.callee),e())});else if(document.readyState)(function(){/loaded|complete/.test(document.readyState)?e():setTimeout(arguments.callee,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);e()},!1);else throw Error("Unable to bind lib ready listener to document.");})(lib);
(function(b){b.dimensions={CONTENT:1,BORDER:2,get:function(){return{innerWidth:b.window.innerWidth||b.document.documentElement.offsetWidth,innerHeight:b.window.innerHeight||b.document.documentElement.offsetHeight,scrollWidth:null,scrollHeight:null,scrollX:b.window.scrollX||b.document.documentElement.scrollLeft,scrollY:b.window.scrollY||b.document.documentElement.scrollTop}},center:function(){},centerVertical:function(){},centerHorizontal:function(){}}})(lib);
if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){}
(function(b){b.tween={Bezier:function(b,d,a,c){var f=3*b,h=3*(a-b)-f,j=1-f-h,g=3*d,k=3*(c-d)-g,l=1-g-k;return function(a){for(var b=a,c=0,d;5>c;){d=b*(f+b*(h+b*j))-a;if(0.0010>Math.abs(d))break;b-=d/(f+b*(2*h+3*j*b));c++}a=b;return a*(g+a*(k+a*l))}},bezier:function(b,d,a,c){return new this.Bezier(b,d,a,c)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){return b.window.requestAnimationFrame||b.window.mozRequestAnimationFrame||
b.window.webkitRequestAnimationFrame||b.window.msRequestAnimationFrame||b.window.oRequestAnimationFrame},run:function(e,d,a,c,f,h){function j(){if(g){var c=+new Date-g,n=l(c/a),c=13>a-c?!0:!1,n=(d-e)*n,n=e+n,n=c?d:n;m&&f.call(this,n);c?(p&&h.call(this,n),o||b.window.clearInterval(k)):o&&o(j)}else g=+new Date,o&&o(j)}var g,k,l,m=b.util.isFunction(f),p=b.util.isFunction(h),o=this.getRequestAnimationFrame();l="string"==typeof c&&this.easing[c]?this.bezier.apply(this,this.easing[c]):b.util.isArray(c)&&
4==c.length?this.bezier.apply(this,c):this.bezier.apply(this,this.easing.ease);o?o(j):k=b.window.setInterval(j,13)}}})(lib);
(function(b){function e(a){this.__guid=b.guid();this.__bound={};if(b.dom.isTypeOf(a,b.dom.ELEMENT_NODE|b.dom.DOCUMENT_NODE)||a==b.window)this.element=a,this.element.__widgets={},this.element.__widgets[b.util.getType(this)]=this}function d(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=b.util.getFunctionName(this.widgetConstructor)}b.extend(e.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(a){var c=b.array.toArray(arguments);c.shift();c.shift();
return this.apply(a,c)},apply:function(a,b){var d;try{return d=widget.__bound[a],d.apply(widget,b)}catch(e){throw Error("method "+a+" isn't bound");}}});b.extend(d.prototype,{run:function(a,c){var d,a=b.util.isArray(a)?b.array.toArray(a):[a];b.array.forEach(a,b.bind(function(a){d=new this.widgetConstructor(a,c);this.items.push(d);this.length++},this));return d},create:function(a,c){!0!==a&&!1!=!!a&&1==arguments.length&&(c=a,a=!1);return a?new this.widgetConstructor(b.dom.create("<div>"),c):new this.widgetConstructor(null,
c)},destroy:function(a){for(var c=0,d=this.items.length;c<d;c++)if(!(a&&a!=this.items[c])){a.dispose();var e=b.util.getType(a);delete a.element.__widgets[e];this.items.splice(c,1);this.length--}},item:function(a){return this.items[a]||null},call:function(a,c){var d=b.array.toArray(arguments);d.shift();d.shift();return this.apply(a,c,d)},apply:function(a,c,d){return b.widget.get(a,this.name).apply(c,d)}});b.widget={Widget:e,create:function(a,c){b.util.inherits(a,e);b.extend(a.prototype,c);return new d(a)},
get:function(a,c){return b.dom.isTypeOf(a,b.dom.ELEMENT_NODE)&&a.__widgets?(c=c instanceof d?c.name:c,a.__widgets[c]||null):null}}})(lib);
(function(b){function e(a,c){if(this==b.widget)return new e(a,c);if(b.util.isObject(a)){this.__guid=b.guid();this._bound={};c&&b.dom.isTypeOf(c,b.dom.ELEMENT_NODE)&&(this._element=c,this._eventName="__modelChange"+this.__guid);for(var j in a){var g=this[j]=this._element?b.util.Bindable(a[j],this._element):b.util.Bindable(a[j]);g.name=j;g.model=this;g.bind(d)}}}function d(c,d){var e=this.model;e._element?b.event.dispatch(e._element,e._eventName,{value:c,oldValue:d,property:this.name}):a.call(e,c,d,
this.name)}function a(a,b,d){for(var e in this._bound)c.call(this,e,a,b,d)}function c(a,b,c,d){this._bound[a].target.call(this,b,c,d)}b.extend(e.prototype,{dispose:function(){this.unbind();for(var a in this)this[a]instanceof b.util.Bindable&&this[a].dispose()},bind:function(a){if(b.util.isFunction(a)){var d=b.guid(),a={id:d,target:a,proxy:null};this._bound[d]=a;this._element&&(a.proxy=b.bind(function(a){b.bind(c,this)(d,a.value,a.oldValue,a.property)},this),b.event.add(this._element,this._eventName,
a.proxy))}},unbind:function(a){var c=this._bound,d;for(d in c){var e=c[d].target==a;if(e||!a)this._element&&b.event.remove(this._element,this._eventName,this._bound[d].proxy),delete c[d];if(e)break}}});b.widget.Model=e})(lib);
