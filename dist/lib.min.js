/*
Copyright (c) 2012 https://github.com/monai/

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(d){var c=navigator.userAgent.toLowerCase(),f=function e(){d.console&&d.console.log&&d.console.log.apply?d.console.log.apply(d.console,arguments):(e.output.push(a.array.toArray(arguments).join(", ")),d.clearTimeout(e.time),e.time=d.setTimeout(function(){var a=e.output.join("\r\n");e.output=[];alert(a)},1E3));return arguments[0]},a={log:f,inspect:function(e){var a=[],c;for(c in e)a.push(c+": "+e[c]);return a.join("\r\n")},window:d,document:d&&d.document,isReady:!1,isDOMReady:!1,ready:function(e,
c){!0===e?(a.isReady=!0,a.event.dispatch(a.document,"libReady"),a.event.remove(a.document,"libReady")):"function"==typeof e&&(!a.isReady&&!c?a.event.add(a.document,"libReady",a.bind(e,a.window)):!a.isDOMReady&&c?a.event.add(a.document,"DOMReady",a.bind(e,a.window)):e())},env:function(){var e=[0,NaN],h=(/opera[\s\/]([\w\.]+)/.exec(c)||e)[1],f=h?NaN:(/msie ([\w\.]+)/.exec(c)||e)[1],d=(/rv:([\w\.]+).*gecko\//.exec(c)||e)[1],j=(/applewebkit\/([\w\.]+)/.exec(c)||e)[1],e=(/khtml\/([\w\.]+)/.exec(c)||e)[1];
return{gecko:parseFloat(d),ie:parseFloat(f),opera:parseFloat(h),webkit:parseFloat(j),khtml:parseFloat(e),version:f||d||j||h||e,standardsMode:"BackCompat"!=a.document.compatMode&&(!f||6<=f)}},extend:function(e){for(var a,c=0,f=arguments.length;++c<f;)for(a in arguments[c])e[a]=arguments[c][a];return e},bind:function(e,a){return"bind"in e?e.bind(a):function(){return e.apply(a,arguments)}},guid:function(e){if(!e)return++a.guid.id;e.__guid||(e.__guid=a.guid.id++);return e.__guid}};a.log.output=[];a.guid.id=
1;d.lib||(d.lib=a);d.log||(d.log=f);(function(){function e(){a.isDOMReady||(a.isDOMReady=!0,a.event.dispatch(document,"DOMReady",{safe:!0}),a.event.remove(a.document,"libReady"))}if(!a.isDOMReady)if("complete"==document.readyState)e();else if(a.env.ie&&document.attachEvent)document.documentElement.doScroll&&d==top?function(){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}e()}():document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&
(document.detachEvent("onreadystatechange",arguments.callee),e())});else if(document.readyState)(function(){/loaded|complete/.test(document.readyState)?e():setTimeout(arguments.callee,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);e()},!1);else throw Error("Unable to bind lib ready listener to document.");})()})(window);
(function(d){d.util={getType:function(c){if(null===c)return"null";if("[object Function]"===Object.prototype.toString.call(c))return"Function";if("[object Array]"===Object.prototype.toString.call(c))return"Array";if("object"==typeof c)return this.getFunctionName(c.constructor)},isFunction:function(c){return"Function"==this.getType(c)},isArray:function(c){return"Array"==this.getType(c)},isObject:function(c){return"Object"==this.getType(c)},getFunctionName:function(c){if(this.isFunction(c)){if(/^function (\S+?)\(/.test(c.toString()))return RegExp.$1}else return null},
inherits:function(c,f){c.superConstructor=f;if(Object.create)c.prototype=Object.create(f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});else{var a=function(){};a.prototype=f.prototype;c.prototype=new a}}}})(lib);
(function(d){function c(f,a){if(this==d.util)return new c(f,a);this.name=f;this.endTime=this.startTime=null;(a||"undefined"==typeof a)&&this.start()}d.extend(c.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var c=this.stop();d.log(this.name+": "+c+"ms")}});d.util.Benchmark=c})(lib);
(function(d){function c(f){if(this==d.util)return new c(f);this.__guid=d.guid();this._callbacks=[];this.value=f}d.extend(c.prototype,{get:function(){return this.value},set:function(c){var a=this.value;this.value=c;d.array.forEach(this._callbacks,d.bind(function(b){b(this.value,a)},this));return this},addListener:function(c){d.util.isFunction(c)&&this._callbacks.push(c)},removeListener:function(c){if(c){if(d.util.isFunction(c))for(var a=this._callbacks,b=0,e=a.length;b<e;b++)if(a[b]===c){a.splice(b,
1);break}}else this.callbacks=[]}});d.util.Bindable=c})(lib);(function(d){d.object={keys:function(c){if("keys"in Object)return Object.keys(c);var f=[],a;for(a in c)f.push(a);return f},createFromTemplate:function(c,f){var f=f?f:{},a=c.split(".");(function e(a,c){a[c[0]]||(a[c[0]]={});1<c.length&&e(a[c[0]],c.splice(1))})(f,a);return f},subtract:function(c,f){var a={},b;for(b in c)"undefined"==typeof f[b]&&(a[b]=c[b]);return a}}})(lib);
(function(d){d.array={toArray:function(c){var f=[];try{f=Array.prototype.slice.call(c,0)}catch(a){for(var b=0,e=c.length;b<e;b++)f[b]=c[b]}return f},inArray:function(c,f){for(var a=0,b=c.length;a<b;a++)if(c[a]===f)return!0;return!1},forEach:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("forEach"in c)c.forEach(f,a||d.window);else for(var b=0,e=c.length;b<e;b++)f.call(a||d.window,c[b],b,c)},every:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+
" is not a function");if("every"in c)return c.every(f,a||d.window);for(var b=0,e=c.length;b<e;b++)if(b in c&&!f.call(a||d.window,c[b],b,c))return!1;return!0},some:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("some"in c)return c.some(f,a||d.window);for(var b=0,e=c.length;b<e;b++)if(b in c&&f.call(a||d.window,c[b],b,c))return!0;return!1},filter:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("filter"in c)return c.filter(f,
a||d.window);for(var b=[],e=0,h=c.length;e<h;e++)e in c&&f.call(a||d.window,c[e],e,c)&&b.push(c[e]);return b},map:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("map"in c)return c.map(f,a||d.window);for(var b=c.length,e=Array(b),h=0;h<b;h++)h in c&&(e[h]=f.call(a||d.window,c[h],h,c));return e},reduce:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("reduce"in c)return c.reduce(f,a);var b=c.length,e="undefined"==typeof a;
if(0==b&&e)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,a=e?a:c[h++];h<b;h++)h in c&&(a=f.call(d.window,a,c[h],h,c));return a},reduceRight:function(c,f,a){if("function"!=typeof f)throw new TypeError(f+" is not a function");if("reduceRight"in c)return c.reduceRight(f,a);var b=c.length,e="undefined"==typeof a;if(0==b&&e)throw new TypeError("Reduce of empty array with no initial value");b-=1;for(a=e?a:c[b--];0<=b;b--)b in c&&(a=f.call(d.window,a,c[b],b,c));return a},
equal:function(c){for(var f=!0,a=c.length,b=1,e=arguments.length;b<e;b++){if(a!=arguments[b].length)return!1;for(var h=0;h<a;h++)if(c[h]instanceof Array||arguments[b][h]instanceof Array)if(c[h]instanceof Array&&arguments[b][h]instanceof Array){if(f=this.equal(c[h],arguments[b][h]),!f)break}else return!1;else if(f=c[h]==arguments[b][h],!f)break;if(!f)break}return f},subtract:function(c){for(var f=c,a=[],b=[],e=1,h=arguments.length;e<h;e++)if(arguments[e]instanceof Array)for(var d=0,g=arguments[e].length;d<
g;d++)b.push(arguments[e][d]);else b.push(arguments[e]);e=0;for(g=b.length;e<g;e++){d=0;for(h=f.length;d<h;d++)b[e]instanceof Array?this.equal(f[d],b[e])||a.push(f[d]):f[d]!=b[e]&&a.push(f[d]);f=a;a=[]}return f},intersect:function(c){for(var d=c,a=1,b=arguments.length;a<b;a++)var e=this.subtract(c,arguments[a]),d=this.subtract(d,e);return d}}})(lib);
(function(d){d.string={trim:function(c){if("trim"in String)return String.trim(c);for(var c=c.replace(/^\s\s*/,""),d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},trimLeft:function(c){return"trimLeft"in String?String.trimLeft(c):c.replace(/^\s\s*/,"")},trimRight:function(c){if("trimRight"in String)return String.trimRight(c);for(var d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},padding:function(c,d,a){"string"!=typeof c&&(c=c.toString());var b=Math.abs(a);if(c.length>=b)return c;
for(var e=Array(b-c.length),h=0,k=e.length;h<k;h++)e[h]=d;b==a?e.push(c):e.unshift(c);return e.join("")},format:function(c,d){return c.replace(/\{(\d+)\}/g,function(a,b){return d[parseInt(b)]})}}})(lib);
(function(d){d.date={parseISOString:function(c){var d=Date.parse(c);if(!isNaN(d))return new Date(d);var c=c.match(/\d+/g),c=new Date(c[0],parseInt(c[1],10)-1,c[2],c[3],c[4],c[5],c[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d==a?-1:1,b=(d-d%60)/60,d=d-60*b;c.setHours(c.getHours()+b*a);c.setMinutes(c.getMinutes()+d*a);return c},toISOString:function(c){return"toISOString"in c?c.toISOString():c.getUTCFullYear()+"-"+d.util.padding(c.getUTCMonth()+1,0,2)+"-"+d.util.padding(c.getUTCDate(),0,2)+
"T"+d.util.padding(c.getUTCHours(),0,2)+":"+d.util.padding(c.getUTCMinutes(),0,2)+":"+d.util.padding(c.getUTCSeconds(),0,2)+"."+d.util.padding(c.getUTCMilliseconds(),0,3)+"Z"}}})(lib);
(function(d){d.JSON={parse:function(c){if(JSON&&"parse"in JSON)return JSON.parse(c);if("string"!=typeof c&&"undefined"!=typeof c)return c;if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/\"[^\"\\\n\r]*\"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return ("+c+")"))();throw new SyntaxError("Invalid JSON");},stringify:function(c){function f(a){var e,c,k;"array"==d.util.getType(a)?(e="[",c="]",
k=!1):(e="{",c="}",k=!0);e=[e];var g=1,j,l=!1,m;for(m in a)if(j=d.util.getType(a[m]),"undefined"!=j)switch(l&&(e[g++]=","),l=!0,k&&(e[g++]='"',e[g++]=m,e[g++]='"',e[g++]=":"),j){case "Function":throw new TypeError("Cannot stringify function to JSON");default:e[g++]='"';e[g++]=a[m];e[g++]='"';break;case "Number":case "Boolean":e[g++]=a[m];break;case "Object":case "Array":e[g++]=f(a[m]);break;case "null":e[g++]=null}e[g++]=c;return e.join("")}var a=d.util.getType(c);if("Object"==a||"Array"==a)return f(c);
throw new TypeError("Cannot stringify function to JSON");}}})(lib);
(function(d,c){d.dom={byId:function(a){return d.document.getElementById(a)},byTag:function(a,b){return(b||d.document).getElementsByTagName(a)},byClass:function(a,b,e){"object"==typeof b&&"undefined"==typeof e&&(e=b,b=c);if(d.document.getElementsByClassName)for(var h=(e||d.document).getElementsByClassName(a),f=b?RegExp("\\b"+b+"\\b","i"):null,a=[],g=0;g<h.length;g++)(!f||f.test(h[g].nodeName))&&a.push(h[g]);else if(b=b||"*",e=e||d.document,d.document.evaluate){for(var j=a.split(" "),f="",l="http://www.w3.org/1999/xhtml"===
d.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,a=[],g=0;g<j.length;g++)f+="[contains(concat(' ', @class, ' '), ' "+j[g]+" ')]";try{h=d.document.evaluate(".//"+b+f,e,l,0,null)}catch(m){h=d.document.evaluate(".//"+b+f,e,null,0,null)}for(;g=h.iterateNext();)a.push(g)}else{j=a.split(" ");f=[];h="*"===b&&e.all?e.all:e.getElementsByTagName(b);a=[];for(g=0;g<j.length;g++)f.push(RegExp("(^|\\s)"+j[g]+"(\\s|$)"));for(g=0;g<h.length;g++){b=!1;for(e=0;e<f.length&&!(b=f[e].test(h[g].className),
!b);e++);b&&a.push(h[g])}}return a},parent:function(a,b,e){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(e=e&&e.toUpperCase();(a=a.parentNode)&&(b&&!b.test(a.className)||e&&e!=a.nodeName););return a},isChild:function(a,b){for(;a=a.parentNode;)if(a===b)return!0;return!1},prev:function(a,b,e){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(e=e&&e.toUpperCase();(a=a.previousSibling)&&(1!=a.nodeType||b&&!b.test(a.className)||e&&e!=a.nodeName););return a},next:function(a,b,e){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(e=
e&&e.toUpperCase();(a=a.nextSibling)&&(1!=a.nodeType||b&&!b.test(a.className)||e&&e!=a.nodeName););return a},create:function(a){var b=d.document.createElement("div");b.innerHTML=a;return this.remove(b.firstChild)},remove:function(a){var b=this.parent(a);return b&&b.removeChild(a)},before:function(a,b){var e=this.parent(b);return e&&e.insertBefore(a,b)},after:function(a,b){var e=this.parent(b);return e&&e.insertBefore(a,b.nextSibling)},hasClass:function(a,b){return a.classList&&a.classList.contains?
a.classList.contains(b):RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){this.hasClass(a,b)||(a.classList&&a.classList.add?a.classList.add(b):a.className+=(a.className?" ":"")+b);return a},removeClass:function(a,b){a.classList&&a.classList.remove?a.classList.remove(b):a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)"),"$2");return a},toggleClass:function(a,b){if(a.classList&&a.classList.toggle)a.classList.toggle(b);else return this.hasClass(a,b)?this.removeClass(a,
b):this.addClass(a,b)},getStyle:function(a,b,e){var c=null,f=!1;d.window&&d.window.getComputedStyle?c=d.window.getComputedStyle(a,e||null)[b]:a.currentStyle?c=a.currentStyle[b]:(c=a.style[b],f=!0);return!c&&!f?a.style[b]:c},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return!a&&!("nodeType"in
a||"number"==typeof a.nodeType)?!1:0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,b){if(this.isDOMNode(a)){for(var e=0,c=f.length;e<c;e++)if(a.nodeType==f[e][0]&&(b|f[e][1])==b)return!0;return!1}},dataset:{get:function(a,b){if(d.util.isArray(b)){var e={};d.array.forEach(b,function(b){e[b]=d.dom.dataset.get(a,b)});return e}return a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},set:function(a,b,e){a.dataset?a.dataset[b]=e:a.setAttribute("data-"+b,e||"")},remove:function(a,b){a.dataset?delete a.dataset[b]:
a.removeAttribute("data-"+b)}}};var f=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(d){function c(f){if(this==d.dom)return new c(f);this.items=[];this.length=0;if(f)for(var f=d.array.toArray(f),a=0;a<f.length;a++)f[a].nodeType&&d.array.inArray([1,9],f[a].nodeType)&&(this.length=this.push(f[a]))}d.extend(c.prototype,{toString:function(){return this.items.join(", ")},valueOf:function(){return this},length:0,item:function(c){return this.items[c]},push:function(c){return this.length=this.items.push(c)},pop:function(){var c=this.items.pop();this.length=this.items.length;return c},
unshift:function(c){return this.length=this.items.unshift(c)},shift:function(){var c=this.items.shift();this.length=this.items.length;return c},reverse:function(){this.items.reverse();return this},sort:function(c){this.items.sort(c);return this},splice:function(){for(var f=Array.prototype.splice.apply(this.items,arguments),a=[],b=0;b<this.items.length;b++)this.items[b].nodeType&&d.array.inArray([1,9],this.items[b].nodeType)&&a.push(this.items[b]);this.items=a;this.length=this.items.length;return new c(f)},
concat:function(){for(var d=this.items,a=0;a<arguments.length;a++)if(arguments[a]instanceof c)for(var b=0;b<arguments[a].length;b++)d.push(arguments[a].item(b));return new c(d)},subtract:function(){for(var d=this.items,a=[],b=0;b<arguments.length;b++)if(arguments[b]instanceof c){for(var e=0;e<d.length;e++){for(var h=!1,k=0;k<arguments[b].length;k++)d[e]==arguments[b].item(k)&&(h=!0);h||a.push(d[e])}d=a;a=[]}return new c(d)},slice:function(d,a){var b=this.items.slice(d,a);return new c(b)},toArray:function(){for(var c=
Array(this.items.length),a=0;a<this.items.length;a++)c[a]=this.items[a];return c},forEach:function(c,a){d.array.forEach(this.items,c,a)},every:function(c,a){return d.array.every(this.items,c,a)},some:function(c,a){return d.array.some(this.items,c,a)},filter:function(c,a){return d.array.filter(this.items,c,a)},map:function(c,a){return d.array.map(this.items,c,a)},byTag:function(f){for(var a=[],b=0;b<this.items.length;b++)for(var e=d.dom.byTag(f,this.items[b]),h=0;h<e.length;h++)a.push(e[h]);return new c(a)},
byClass:function(f,a){for(var b=[],e=0;e<this.items.length;e++)for(var h=d.dom.byClass(f,a,this.items[e]),k=0;k<h.length;k++)b.push(h[k]);return new c(b)}});d.dom.NodeList=c})(lib);
(function(d){function c(a,b){a.target=a.target||a.srcElement;a.currentTarget=b&&b.nodeName?b:null===b?null:a.currentTarget;b&&b.nodeName&&a.toElement&&a.toElement.nodeName&&(a.relatedTarget=a.toElement==a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function f(a){for(var b="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
c,d=0;++d<arguments.length;)for(c in b)"undefined"!=typeof arguments[d][b[c]]&&(a[b[c]]=arguments[d][b[c]]);a.originalEvent=arguments[1];return a}function a(){if(b.w3c){var a=!1,c=document.createElement("div");c.addEventListener("DOMAttrModified",function(b){b&&b.target&&b.target===c&&(a=!0)},!1);c.style.display="none";return a}return!0}var b={add:function(a,b,k){var g=b.toLowerCase();this.initEventProperty(a,b);a.__events[b].callbacks[d.guid(k)]=k;this.w3c?a.addEventListener(b,k,!1):this.ie&&(a.__events[b].handle=
null,a.__events[b].IECallbacks={},a.__events[b].hasAttribute=!1,a.__events[b].supported="object"==typeof a["on"+g]||"function"==typeof a["on"+g],a.__events[b].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,b),g=d.bind(function(){var b="undefined"==typeof k.attributeEvent?c(d.window.event,a):c(d.window.event,null);return k.apply(a,[b])},this),a.__events[b].IECallbacks[k._guid]=g,a.attachEvent("on"+b,g)):(a.__events[b].handle=function(a){this.event=f(this.event,a);this.event=c(this.event);
return this.callback.apply(this.event.currentTarget,[this.event])},g=a==d.document?d.document.documentElement:a,"undefined"==typeof a.libEvent&&(a.libEvent=0,a!=g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(c){if("libEvent"==c.propertyName&&a.__events[b].handle.event&&a==a.__events[b].handle.event.currentTarget&&!1===a.__events[b].handle.dispatched)return a.__events[b].handle.dispatched=!0,d.bind(a.__events[b].handle,a.__events[b].handle)(c)})))},initEventProperty:function(a,b){"undefined"==
typeof a.__events&&(a.__events={});"undefined"==typeof a.__events[b]&&(a.__events[b]={});"undefined"==typeof a.__events[b].callbacks&&(a.__events[b].callbacks={})},addIEAttributeEvent:function(a,b){this.initEventProperty(a,b);a.__events[b].hasAttribute=!0;var c=b.toLowerCase(),d=a["on"+c];a["on"+c]=null;d.attributeEvent=!0;this.add(a,b,d)},remove:function(a,b,c){if("undefined"==typeof b)for(b in a.__events)this.remove(a,b);if("object"==typeof a.__events&&"object"==typeof a.__events[b])if("function"==
typeof c)this.w3c?a.removeEventListener(b,c,!1):this.ie&&a.__events[b].supported&&(a.detachEvent("on"+b,a.__events[b].IECallbacks[c.__guid]),delete a.__events[b].IECallbacks[c.__guid]),delete a.__events[b].callbacks[c.__guid];else for(i in a.__events[b].callbacks)this.remove(a,b,a.__events[b].callbacks[i])},dispatch:function(a,b,c){if(this.w3c)switch(this.events[b]){case this.types.mouse:return this.dispatchMouseEvent(a,b,c);case this.types.keyboard:return this.dispatchKeyboardEvent(a,b,c);case this.types.html:return this.dispatchHTMLEvent(a,
b,c);default:return this.dispatchUIEvent(a,b,c)}else if(this.ie)return this.dispatchIEEvent(a,b,c)},dispatchMouseEvent:function(a,b,c){"undefined"==typeof c&&(c={});var f={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},j=d.object.subtract(c,f);d.extend(f,c||{});c=document.createEvent("MouseEvents");c.initMouseEvent(b,f.bubbles,f.cancelable,d.window,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,
f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);d.extend(c,j);return a.dispatchEvent(c)},dispatchKeyboardEvent:function(a,b,c){"undefined"==typeof c&&(c={});var f={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},j=d.object.subtract(c,f);d.extend(f,c||{});c=document.createEvent("KeyboardEvent");"undefined"==typeof c.initKeyboardEvent&&c.initKeyEvent&&(c.initKeyboardEvent=c.initKeyEvent);c.initKeyboardEvent(b,f.bubbles,f.cancelable,d.window,f.ctrlKey,
f.altKey,f.shiftKey,f.metaKey,f.keyCode,f.charCode);d.extend(c,j);return a.dispatchEvent(c)},dispatchHTMLEvent:function(a,b,c){"undefined"==typeof c&&(c={});var f={bubbles:!0,cancelable:!0},j=d.object.subtract(c,f);d.extend(f,c||{});c=document.createEvent("HTMLEvents");c.initEvent(b,f.bubbles,f.cancelable);d.extend(c,j);return a.dispatchEvent(c)},dispatchUIEvent:function(a,b,c){"undefined"==typeof c&&(c={});var f={bubbles:!0,cancelable:!0,detail:null},j=d.object.subtract(c,f);d.extend(f,c||{});c=
document.createEvent("UIEvents");c.initUIEvent(b,f.bubbles,f.cancelable,d.window,f.detail);d.extend(c,j);return a.dispatchEvent(c)},dispatchIEEvent:function(a,b,f){var g=b.toLowerCase();if("undefined"==typeof a.__events)if("object"==typeof a["on"+g]||"function"==typeof a["on"+g])this.addIEAttributeEvent(a,b);else return;if("undefined"!=typeof a.__events[b]){f=f||{};if(a.__events[b].supported)return g=document.createEventObject(),d.extend(g,f),a.fireEvent("on"+b,g);for(g=d.extend(f,{target:a,type:b,
currentTarget:a});a;){if(a.__events&&a.__events[b])for(var j in a.__events[b].callbacks)"boolean"==typeof f.safe&&!0===f.safe?(a.__events[b].handle.callback=a.__events[b].callbacks[j],a.__events[b].handle.event=g,a.__events[b].handle.dispatched=!1,g.currentTarget==document?document.documentElement.libEvent++:g.currentTarget.libEvent++):!1===a.__events[b].callbacks[j].call(a,c(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},
w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};b.events={click:b.types.mouse,dblclick:b.types.mouse,mousedown:b.types.mouse,mouseenter:b.types.mouse,mouseleave:b.types.mouse,mouseup:b.types.mouse,mouseover:b.types.mouse,mousemove:b.types.mouse,mouseout:b.types.mouse,keypress:b.types.keyboard,keydown:b.types.keyboard,keyup:b.types.keyboard,load:b.types.html,unload:b.types.html,abort:b.types.html,error:b.types.html,
resize:b.types.html,scroll:b.types.html,select:b.types.html,change:b.types.html,submit:b.types.html,reset:b.types.html,focus:b.types.html,blur:b.types.html,DOMFocusIn:b.types.dom,DOMFocusOut:b.types.dom,DOMActivate:b.types.dom,DOMSubtreeModified:b.types.dom,DOMNodeInserted:b.types.dom,DOMNodeRemoved:b.types.dom,DOMNodeRemovedFromDocument:b.types.dom,DOMNodeInsertedIntoDocument:b.types.dom,DOMAttrModified:b.types.dom,DOMCharacterDataModified:b.types.dom,mousewheel:b.types.wheel,DOMMouseScroll:b.types.wheel};
d.event={add:d.bind(b.add,b),remove:d.bind(b.remove,b),dispatch:d.bind(b.dispatch,b),support:function(b){if("string"!=typeof b)return null;switch(b){case "DOMAttrModified":return a();default:return null}},compat:{DOMAttrModified:function(a,c){function f(){for(var b=a[g[0]],c=1;c<g.length;c++)b=b[g[c]];return b}if(b.w3c){b.initEventProperty(a,"DOMAttrModified");"undefined"==typeof a.__events.DOMAttrModified.oldProperties&&(a.__events.DOMAttrModified.oldProperties={});var g=c.split("."),j=d.guid(),
l=a.__events.DOMAttrModified.oldProperties[j]=f(),m=d.window.setInterval(function(){var g=f();l!==g&&(b.dispatch(a,"DOMAttrModified",{MODIFICATION:1,ADDITION:2,REMOVAL:3,attrChange:1,attrName:c,newValue:g,prevValue:l,compat:{stop:function(){d.window.clearInterval(m);delete a.__events.DOMAttrModified.oldProperties[j]}}}),l=g)},15)}}}}})(lib);
(function(d){d.dimensions={CONTENT:1,BORDER:2,get:function(){return{innerWidth:d.window.innerWidth||d.document.documentElement.offsetWidth,innerHeight:d.window.innerHeight||d.document.documentElement.offsetHeight,scrollWidth:null,scrollHeight:null,scrollX:d.window.scrollX||d.document.documentElement.scrollLeft,scrollY:d.window.scrollY||d.document.documentElement.scrollTop}},center:function(){},centerVertical:function(){},centerHorizontal:function(){}}})(lib);
(function(d){d.tween={Bezier:function(c,d,a,b){var e=3*c,h=3*(a-c)-e,k=1-e-h,g=3*d,j=3*(b-d)-g,l=1-g-j;return function(a){for(var b=a,c=0,d;5>c;){d=b*(e+b*(h+b*k))-a;if(0.0010>Math.abs(d))break;b-=d/(e+b*(2*h+3*k*b));c++}a=b;return a*(g+a*(j+a*l))}},bezier:function(c,d,a,b){return new this.Bezier(c,d,a,b)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){return d.window.requestAnimationFrame||d.window.mozRequestAnimationFrame||
d.window.webkitRequestAnimationFrame||d.window.msRequestAnimationFrame||d.window.oRequestAnimationFrame},run:function(c,f,a,b,e,h){function k(){if(g){var b=+new Date-g,n=l(b/a),b=13>a-b?!0:!1,n=(f-c)*n,n=c+n,n=b?f:n;m&&e.call(this,n);b?(p&&h.call(this,n),o||d.window.clearInterval(j)):o&&o(k)}else g=+new Date,o&&o(k)}var g,j,l,m=d.util.isFunction(e),p=d.util.isFunction(h),o=this.getRequestAnimationFrame();l="string"==typeof b&&this.easing[b]?this.bezier.apply(this,this.easing[b]):d.util.isArray(b)&&
4==b.length?this.bezier.apply(this,b):this.bezier.apply(this,this.easing.ease);o?o(k):j=d.window.setInterval(k,13)}}})(lib);
(function(d){function c(a){this.__bound={};d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&(this.element=a,this.element.__widgets={},this.element.__widgets[d.util.getType(this)]=this)}function f(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=d.util.getFunctionName(this.widgetConstructor)}d.extend(c.prototype,{bind:function(a){this.__bound[a]=this[a]}});d.extend(f.prototype,{run:function(a){a=d.util.isArray(a)?d.array.toArray(a):[a];d.array.forEach(a,d.bind(function(a){this.items.push(new this.widgetConstructor(a));
this.length++},this))},item:function(a){return this.items[a]||null},call:function(a,b){var c=d.array.toArray(arguments);c.shift();c.shift();return this.apply(a,b,c)},apply:function(a,b,c){a=d.widget.get(a,this.name);b=a.__bound[b];if(d.util.isFunction(b))return b.apply(a,c)}});d.widget={Widget:c,create:function(a,b){d.util.inherits(a,c);d.extend(a.prototype,b);return new f(a)},get:function(a,b){return d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&a.__widgets?(b=b instanceof f?b.name:b,a.__widgets[b]||null):
null}}})(lib);
(function(d){function c(f,a){if(this==d.widget)return new c(f,a);if(d.util.isObject(f)){this.__guid=d.guid();a&&d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&(this._element=a,this._eventName="__widgetModelPropertyChange"+this.__guid,this._callbacks={original:[],bound:[]});for(var b in f){var e=this,h=this[b]=d.util.Bindable(f[b]);h.name=b;this._element&&h.addListener(d.bind(function(a,b){var c=this.name;d.event.dispatch(e._element,e._eventName+c,{property:c,value:a,oldValue:b})},h))}}}d.extend(c.prototype,{addListener:function(c,
a){if(d.util.isFunction(a))if(this._element){var b=this._eventName+c,e=function(b){a(b.value,b.oldValue)};this._callbacks.original.push(a);this._callbacks.bound.push(e);d.event.add(this._element,b,e)}else this[c].addListener(a)},removeListener:function(c,a){if(this._element)for(var b=this._eventName+c,e=this._callbacks,h=0,k=e.original.length;h<k;h++){if(e.original[h]===a){d.event.remove(this._element,b,e.bound[h]);e.original.splice(h,1);e.bound.splice(h,1);break}}else this[c].removeListener(a)}});
d.widget.Model=c})(lib);if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){};
