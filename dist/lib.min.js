/*
Copyright (c) 2012 https://github.com/monai/

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(c,e){var d=function f(){c.console&&c.console.log&&c.console.log.apply?c.console.log.apply(c.console,arguments):(f.output.push(a.array.toArray(arguments).join(", ")),c.clearTimeout(f.time),f.time=c.setTimeout(function(){var a=f.output.join("\r\n");f.output=[];alert(a)},1E3));return arguments[0]},a={log:d,inspect:function(f){var a=[],d;for(d in f)a.push(d+": "+f[d]);return a.join("\r\n")},window:c,document:c&&c.document,isReady:!1,isDOMReady:!1,ready:function(f,d){f===e?(a.isReady=!0,a.event.dispatch(a.document,
"libReady"),a.event.remove(a.document,"libReady")):"function"==typeof f&&(!a.isReady&&!d?a.event.add(a.document,"libReady",a.bind(f,a.window)):!a.isDOMReady&&d?a.event.add(a.document,"DOMReady",a.bind(f,a.window)):f())},extend:function(f){for(var a,d=0,c=arguments.length;++d<c;)for(a in arguments[d])f[a]=arguments[d][a];return f},bind:function(f,a){return"bind"in f?f.bind(a):function(){return f.apply(a,arguments)}},guid:function(f){if(!f)return++a.guid.id;f.__guid||(f.__guid=a.guid.id++);return f.__guid}};
a.log.output=[];a.guid.id=1;c.lib||(c.lib=a);c.log||(c.log=d)})(window);
(function(c,e){c.util={getType:function(d){var a=Object.prototype,b=a.toString.call(d);if(null===d)return"null";if(d===e)return"undefined";if(!0===d||!1===d)return"boolean";if("[object Array]"==b)return"Array";if("[object Arguments]"==b||a.hasOwnProperty.call(d,"callee"))return"Arguments";if("[object Function]"==b)return"Function";if("[object String]"==b)return"String";if("[object Number]"==b)return"Number";if("[object Date]"==b)return"Date";if("[object RegExp]"==b)return"RegExp";if("object"==typeof d)return this.getFunctionName(d.constructor)},
isObject:function(d){return d===Object(d)},isArray:function(d){return"Array"==this.getType(d)},isArguments:function(d){return"Arguments"==this.getType(d)},isFunction:function(d){return"Function"==this.getType(d)},isString:function(d){return"String"==this.getType(d)},isNumber:function(d){return"Number"==this.getType(d)},isDate:function(d){return"Date"==this.getType(d)},isRegExp:function(d){return"RegExp"==this.getType(d)},getFunctionName:function(d){if(this.isFunction(d)){if(/^function (\S+?)\(/.test(d.toString()))return RegExp.$1}else return null},
inherits:function(d,a){d.superConstructor=a;if(Object.create)d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});else{var b=function(){};b.prototype=a.prototype;d.prototype=new b}}}})(lib);
(function(c){function e(d,a){if(this==c.util)return new e(d,a);this.name=d;this.endTime=this.startTime=null;(a||"undefined"==typeof a)&&this.start()}c.extend(e.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var d=this.stop();c.log(this.name+": "+d+"ms")}});c.util.Benchmark=e})(lib);
(function(c,e){function d(f,a){if(this==c.util)return new d(f,a);this.__guid=c.guid();this._bound={};1==arguments.length&&c.dom.isTypeOf(a,c.dom.ELEMENT_NODE)&&(a=f,f=e);this.value=f;a&&(this._element=a,this._eventName="__bindableChange"+this.__guid)}function a(f,a){for(var d in this._bound)b.call(this,d,f,a)}function b(f,a,b){f=this._bound[f];c.util.isArray(f.target)?f.target[0][f.target[1]]=a:f.target.call(this,a,b)}c.extend(d.prototype,{dispose:function(){this.unbind()},toString:function(){return"[object Bindable]"},
valueOf:function(){return this.get()},get:function(){return this.value},set:function(f){var b=this.value;this.value=f;this._element?c.event.dispatch(this._element,this._eventName,{value:this.value,oldValue:b}):c.bind(a,this)(this.value,b);return this},bind:function(f,a){var d=c.guid(),e={id:d,target:null,proxy:null};f&&"string"==typeof a?e.target=[f,a]:c.util.isFunction(f)&&(e.target=f);this._bound[d]=e;this._element&&(e.proxy=c.bind(function(f){c.bind(b,this)(d,f.value,f.oldValue)},this),c.event.add(this._element,
this._eventName,e.proxy))},unbind:function(f,a){var b=this._bound,d;for(d in b){var e=b[d].target;if((e=e===f||c.util.isArray(e)&&e[0]===f&&e[1]===a)||!f)this._element&&c.event.remove(this._element,this._eventName,this._bound[d].proxy),delete b[d];if(e)break}}});c.util.Bindable=d})(lib);
(function(c){c.object={keys:function(c){if("keys"in Object)return Object.keys(c);var d=[],a;for(a in c)d.push(a);return d},createFromTemplate:function(c,d){var d=d?d:{},a=c.split(".");(function f(a,d){a[d[0]]||(a[d[0]]={});1<d.length&&f(a[d[0]],d.splice(1))})(d,a);return d},subtract:function(c,d){var a={},b;for(b in c)"undefined"==typeof d[b]&&(a[b]=c[b]);return a}}})(lib);
(function(c){c.array={toArray:function(c){var d=[];try{d=Array.prototype.slice.call(c,0)}catch(a){for(var b=0,f=c.length;b<f;b++)d[b]=c[b]}return d},indexOf:function(e,d){for(var a=0,b=e.length;a<b;a++)if(c.util.isArray(d)?this.isEqual(e[a],d):e[a]===d)return a;return-1},lastIndexOf:function(e,d){for(var a=e.length-1;0<=a;a--)if(c.util.isArray(d)?this.isEqual(e[a],d):e[a]===d)return a;return-1},inArray:function(c,d){return-1<this.indexOf(c,d)?!0:!1},forEach:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+
" is not a function");if("forEach"in e)e.forEach(d,a||c.window);else for(var b=0,f=e.length;b<f;b++)d.call(a||c.window,e[b],b,e)},every:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("every"in e)return e.every(d,a||c.window);for(var b=0,f=e.length;b<f;b++)if(b in e&&!d.call(a||c.window,e[b],b,e))return!1;return!0},some:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("some"in e)return e.some(d,a||c.window);for(var b=0,f=
e.length;b<f;b++)if(b in e&&d.call(a||c.window,e[b],b,e))return!0;return!1},filter:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("filter"in e)return e.filter(d,a||c.window);for(var b=[],f=0,h=e.length;f<h;f++)f in e&&d.call(a||c.window,e[f],f,e)&&b.push(e[f]);return b},map:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("map"in e)return e.map(d,a||c.window);for(var b=e.length,f=Array(b),h=0;h<b;h++)h in e&&(f[h]=d.call(a||
c.window,e[h],h,e));return f},reduce:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduce"in e)return Array.prototype.reduce.apply(e,a?[d,a]:[d]);var b=e.length,f="undefined"==typeof a;if(0==b&&f)throw new TypeError("Reduce of empty array with no initial value");for(var h=0,a=f?a:e[h++];h<b;h++)h in e&&(a=d.call(c.window,a,e[h],h,e));return a},reduceRight:function(e,d,a){if("function"!=typeof d)throw new TypeError(d+" is not a function");if("reduceRight"in
e)return Array.prototype.reduceRight.apply(e,a?[d,a]:[d]);var b=e.length,f="undefined"==typeof a;if(0==b&&f)throw new TypeError("Reduce of empty array with no initial value");b-=1;for(a=f?a:e[b--];0<=b;b--)b in e&&(a=d.call(c.window,a,e[b],b,e));return a},isEqual:function(c){for(var d=!0,a=c.length,b=1,f=arguments.length;b<f;b++){if(a!=arguments[b].length)return!1;for(var h=0;h<a;h++)if(c[h]instanceof Array||arguments[b][h]instanceof Array)if(c[h]instanceof Array&&arguments[b][h]instanceof Array){if(d=
this.isEqual(c[h],arguments[b][h]),!d)break}else return!1;else if(d=c[h]==arguments[b][h],!d)break;if(!d)break}return d},flatten:function(c){return this.reduce(c,function(d,a){return d.concat(a)})},unique:function(e){return c.array.reduce(e,c.bind(function(d,a){this.inArray(d,a)||d.push(a);return d},this),[])},union:function(){return this.unique(this.flatten(this.toArray(arguments)))},difference:function(e){var d=this.unique(this.flatten(this.toArray(arguments).slice(1)));return this.filter(e,c.bind(function(a){return!this.inArray(d,
a)},this))},intersection:function(e){var d=this.toArray(arguments).slice(1);return this.filter(this.unique(e),c.bind(function(a){return this.every(d,c.bind(function(b){return 0<=this.indexOf(b,a)},this))},this))}}})(lib);
(function(c){c.string={trim:function(c){if("trim"in String)return String.trim(c);for(var c=c.replace(/^\s\s*/,""),d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},trimLeft:function(c){return"trimLeft"in String?String.trimLeft(c):c.replace(/^\s\s*/,"")},trimRight:function(c){if("trimRight"in String)return String.trimRight(c);for(var d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},padding:function(c,d,a){"string"!=typeof c&&(c=c.toString());var b=Math.abs(a);if(c.length>=b)return c;
for(var f=Array(b-c.length),h=0,i=f.length;h<i;h++)f[h]=d;b==a?f.push(c):f.unshift(c);return f.join("")},format:function(c,d){return c.replace(/\{(\d+)\}/g,function(a,b){return d[parseInt(b)]})},camelToDash:function(c){return c.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()})}}})(lib);
(function(c){c.date={parseISOString:function(c){var d=Date.parse(c);if(!isNaN(d))return new Date(d);var c=c.match(/\d+/g),c=new Date(c[0],parseInt(c[1],10)-1,c[2],c[3],c[4],c[5],c[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d==a?-1:1,b=(d-d%60)/60,d=d-60*b;c.setHours(c.getHours()+b*a);c.setMinutes(c.getMinutes()+d*a);return c},toISOString:function(e){return"toISOString"in e?e.toISOString():e.getUTCFullYear()+"-"+c.util.padding(e.getUTCMonth()+1,0,2)+"-"+c.util.padding(e.getUTCDate(),0,2)+
"T"+c.util.padding(e.getUTCHours(),0,2)+":"+c.util.padding(e.getUTCMinutes(),0,2)+":"+c.util.padding(e.getUTCSeconds(),0,2)+"."+c.util.padding(e.getUTCMilliseconds(),0,3)+"Z"}}})(lib);
(function(c){c.JSON={parse:function(c){if(JSON&&"parse"in JSON)return JSON.parse(c);if("string"!=typeof c&&"undefined"!=typeof c)return c;if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/\"[^\"\\\n\r]*\"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return ("+c+")"))();throw new SyntaxError("Invalid JSON");},stringify:function(e){function d(a){var f,h,e;"array"==c.util.getType(a)?(f="[",h="]",
e=!1):(f="{",h="}",e=!0);f=[f];var g=1,j,l=!1,k;for(k in a)if(j=c.util.getType(a[k]),"undefined"!=j)switch(l&&(f[g++]=","),l=!0,e&&(f[g++]='"',f[g++]=k,f[g++]='"',f[g++]=":"),j){case "Function":throw new TypeError("Cannot stringify function to JSON");default:f[g++]='"';f[g++]=a[k];f[g++]='"';break;case "Number":case "Boolean":f[g++]=a[k];break;case "Object":case "Array":f[g++]=d(a[k]);break;case "null":f[g++]=null}f[g++]=h;return f.join("")}var a=c.util.getType(e);if("Object"==a||"Array"==a)return d(e);
throw new TypeError("Cannot stringify function to JSON");}}})(lib);
(function(c,e){c.dom={byId:function(a){return c.document.getElementById(a)},byTag:function(a,b){return(b||c.document).getElementsByTagName(a)},byQuery:function(a,b){return(b||c.document).querySelector(name)},byQueryAll:function(a,b){return(b||c.document).querySelectorAll(name)},byClass:function(a,b,f){"object"==typeof b&&"undefined"==typeof f&&(f=b,b=e);if(c.document.getElementsByClassName)for(var d=(f||c.document).getElementsByClassName(a),i=b?RegExp("\\b"+b+"\\b","i"):null,a=[],g=0;g<d.length;g++)(!i||
i.test(d[g].nodeName))&&a.push(d[g]);else if(b=b||"*",f=f||c.document,c.document.evaluate){for(var j=a.split(" "),i="",l="http://www.w3.org/1999/xhtml"===c.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,a=[],g=0;g<j.length;g++)i+="[contains(concat(' ', @class, ' '), ' "+j[g]+" ')]";try{d=c.document.evaluate(".//"+b+i,f,l,0,null)}catch(k){d=c.document.evaluate(".//"+b+i,f,null,0,null)}for(;g=d.iterateNext();)a.push(g)}else{j=a.split(" ");i=[];d="*"===b&&f.all?f.all:f.getElementsByTagName(b);
a=[];for(g=0;g<j.length;g++)i.push(RegExp("(^|\\s)"+j[g]+"(\\s|$)"));for(g=0;g<d.length;g++){b=!1;for(f=0;f<i.length&&!(b=i[f].test(d[g].className),!b);f++);b&&a.push(d[g])}}return a},parent:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.parentNode)&&(b&&!b.test(a.className)||f&&f!=a.nodeName););return a},isChild:function(a,b){for(;a=a.parentNode;)if(a===b)return!0;return!1},prev:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.previousSibling)&&
(1!=a.nodeType||b&&!b.test(a.className)||f&&f!=a.nodeName););return a},next:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.nextSibling)&&(1!=a.nodeType||b&&!b.test(a.className)||f&&f!=a.nodeName););return a},create:function(a){var b=c.document.createElement("div");b.innerHTML=a;return this.remove(b.firstChild)},remove:function(a){var b=this.parent(a);return b&&b.removeChild(a)},before:function(a,b){var f=this.parent(b);return f&&f.insertBefore(a,b)},after:function(a,
b){var f=this.parent(b);return f&&f.insertBefore(a,b.nextSibling)},hasClass:function(a,b){return a.classList&&a.classList.contains?a.classList.contains(b):RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){this.hasClass(a,b)||(a.classList&&a.classList.add?a.classList.add(b):a.className+=(a.className?" ":"")+b);return a},removeClass:function(a,b){a.classList&&a.classList.remove?a.classList.remove(b):a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)"),"$2");return a},
toggleClass:function(a,b){if(a.classList&&a.classList.toggle)a.classList.toggle(b);else return this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)},getStyle:function(a,b,f){var d=null,e=!1;c.window&&c.window.getComputedStyle?d=c.window.getComputedStyle(a,f||null)[b]:a.currentStyle?d=a.currentStyle[b]:(d=a.style[b],e=!0);return!d&&!e?a.style[b]:d},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,
DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return!c.util.isObject(a)||!("nodeType"in a||"number"==typeof a.nodeType)?!1:0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,b){if(this.isDOMNode(a)){for(var f=0,c=d.length;f<c;f++)if(a.nodeType==d[f][0]&&(b|d[f][1])==b)return!0;return!1}},dataset:{get:function(a,b){if(c.util.isArray(b)){var f={};c.array.forEach(b,function(b){f[b]=c.dom.dataset.get(a,b)});return f}if(a.dataset)return a.dataset[b];
b=c.string.camelToDash(b);return a.getAttribute("data-"+b)},set:function(a,b,f){a.dataset?a.dataset[b]=f:(b=c.string.camelToDash(b),a.setAttribute("data-"+b,f||""))},remove:function(a,b){a.dataset?delete a.dataset[b]:(b=c.string.camelToDash(b),a.removeAttribute("data-"+b))}}};var d=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(c){function e(d){if(this==c.dom)return new e(d);this.items=[];this.length=0;if(d)for(var d=c.array.toArray(d),a=0;a<d.length;a++)d[a].nodeType&&c.array.inArray([1,9],d[a].nodeType)&&(this.length=this.push(d[a]))}c.extend(e.prototype,{toString:function(){return this.items.join(", ")},valueOf:function(){return this},length:0,item:function(c){return this.items[c]},push:function(c){return this.length=this.items.push(c)},pop:function(){var c=this.items.pop();this.length=this.items.length;return c},
unshift:function(c){return this.length=this.items.unshift(c)},shift:function(){var c=this.items.shift();this.length=this.items.length;return c},reverse:function(){this.items.reverse();return this},sort:function(c){this.items.sort(c);return this},splice:function(){for(var d=Array.prototype.splice.apply(this.items,arguments),a=[],b=0;b<this.items.length;b++)this.items[b].nodeType&&c.array.inArray([1,9],this.items[b].nodeType)&&a.push(this.items[b]);this.items=a;this.length=this.items.length;return new e(d)},
concat:function(){for(var c=this.items,a=0;a<arguments.length;a++)if(arguments[a]instanceof e)for(var b=0;b<arguments[a].length;b++)c.push(arguments[a].item(b));return new e(c)},subtract:function(){for(var c=this.items,a=[],b=0;b<arguments.length;b++)if(arguments[b]instanceof e){for(var f=0;f<c.length;f++){for(var h=!1,i=0;i<arguments[b].length;i++)c[f]==arguments[b].item(i)&&(h=!0);h||a.push(c[f])}c=a;a=[]}return new e(c)},slice:function(c,a){var b=this.items.slice(c,a);return new e(b)},toArray:function(){for(var c=
Array(this.items.length),a=0;a<this.items.length;a++)c[a]=this.items[a];return c},forEach:function(d,a){c.array.forEach(this.items,d,a)},every:function(d,a){return c.array.every(this.items,d,a)},some:function(d,a){return c.array.some(this.items,d,a)},filter:function(d,a){return c.array.filter(this.items,d,a)},map:function(d,a){return c.array.map(this.items,d,a)},byTag:function(d){for(var a=[],b=0;b<this.items.length;b++)for(var f=c.dom.byTag(d,this.items[b]),h=0;h<f.length;h++)a.push(f[h]);return new e(a)},
byClass:function(d,a){for(var b=[],f=0;f<this.items.length;f++)for(var h=c.dom.byClass(d,a,this.items[f]),i=0;i<h.length;i++)b.push(h[i]);return new e(b)}});c.dom.NodeList=e})(lib);
(function(c){function e(a,c){a.target=a.target||a.srcElement;a.currentTarget=c&&c.nodeName?c:null===c?null:a.currentTarget;c&&c.nodeName&&a.toElement&&a.toElement.nodeName&&(a.relatedTarget=a.toElement==a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function d(a){for(var c="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
b,d=0;++d<arguments.length;)for(b in c)"undefined"!=typeof arguments[d][c[b]]&&(a[c[b]]=arguments[d][c[b]]);a.originalEvent=arguments[1];return a}function a(){if(b.w3c){var a=!1,c=document.createElement("div");c.addEventListener("DOMAttrModified",function(b){b&&b.target&&b.target===c&&(a=!0)},!1);c.style.display="none";return a}return!0}var b={add:function(a,b,i){var g=b.toLowerCase();this.initEventProperty(a,b);a.__events[b].callbacks[c.guid(i)]=i;this.w3c?a.addEventListener(b,i,!1):this.ie&&(a.__events[b].handle=
null,a.__events[b].IECallbacks=a.__events[b].IECallbacks||{keys:[],callbacks:[]},a.__events[b].hasAttribute=!1,a.__events[b].supported="object"==typeof a["on"+g]||"function"==typeof a["on"+g],a.__events[b].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,b),g=c.bind(function(){var b="undefined"==typeof i.attributeEvent?e(c.window.event,a):e(c.window.event,null);return i.apply(a,[b])},this),a.__events[b].IECallbacks.keys.push(i.__guid),a.__events[b].IECallbacks.callbacks.push(g),a.attachEvent("on"+
b,g)):(a.__events[b].handle=function(a){this.event=d(this.event,a);this.event=e(this.event);return this.callback.apply(this.event.currentTarget,[this.event])},g=a==c.document?c.document.documentElement:a,"undefined"==typeof a.libEvent&&(a.libEvent=0,a!=g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(d){if("libEvent"==d.propertyName&&a.__events[b].handle.event&&a==a.__events[b].handle.event.currentTarget&&!1===a.__events[b].handle.dispatched)return a.__events[b].handle.dispatched=!0,c.bind(a.__events[b].handle,
a.__events[b].handle)(d)})))},initEventProperty:function(a,c){"undefined"==typeof a.__events&&(a.__events={});"undefined"==typeof a.__events[c]&&(a.__events[c]={});"undefined"==typeof a.__events[c].callbacks&&(a.__events[c].callbacks={})},addIEAttributeEvent:function(a,c){this.initEventProperty(a,c);a.__events[c].hasAttribute=!0;var b=c.toLowerCase(),d=a["on"+b];a["on"+b]=null;d.attributeEvent=!0;this.add(a,c,d)},remove:function(a,c,b){if("undefined"==typeof c)for(c in a.__events)this.remove(a,c);
if("object"==typeof a.__events&&"object"==typeof a.__events[c])if("function"==typeof b){if(this.w3c)a.removeEventListener(c,b,!1);else if(this.ie&&a.__events[c].supported){for(var d,e=a.__events[c].IECallbacks,l=b.__guid,k=0,o=e.keys.length;k<o;k++)if(e.keys[k]==l){d=e.callbacks[k];e.keys.splice(k,0);e.callbacks.splice(k,0);break}a.detachEvent("on"+c,d)}delete a.__events[c].callbacks[b.__guid]}else for(k in a.__events[c].callbacks)this.remove(a,c,a.__events[c].callbacks[k])},dispatch:function(a,c,
b){if(this.w3c)switch(this.events[c]){case this.types.mouse:return this.dispatchMouseEvent(a,c,b);case this.types.keyboard:return this.dispatchKeyboardEvent(a,c,b);case this.types.html:return this.dispatchHTMLEvent(a,c,b);default:return this.dispatchUIEvent(a,c,b)}else if(this.ie)return this.dispatchIEEvent(a,c,b)},dispatchMouseEvent:function(a,b,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,
button:0,relatedTarget:null},j=c.object.subtract(d,e);c.extend(e,d||{});d=document.createEvent("MouseEvents");d.initMouseEvent(b,e.bubbles,e.cancelable,c.window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);c.extend(d,j);return a.dispatchEvent(d)},dispatchKeyboardEvent:function(a,b,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},j=c.object.subtract(d,
e);c.extend(e,d||{});d=document.createEvent("KeyboardEvent");"undefined"==typeof d.initKeyboardEvent&&d.initKeyEvent&&(d.initKeyboardEvent=d.initKeyEvent);d.initKeyboardEvent(b,e.bubbles,e.cancelable,c.window,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);c.extend(d,j);return a.dispatchEvent(d)},dispatchHTMLEvent:function(a,b,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0},j=c.object.subtract(d,e);c.extend(e,d||{});d=document.createEvent("HTMLEvents");d.initEvent(b,
e.bubbles,e.cancelable);c.extend(d,j);return a.dispatchEvent(d)},dispatchUIEvent:function(a,b,d){"undefined"==typeof d&&(d={});var e={bubbles:!0,cancelable:!0,detail:null},j=c.object.subtract(d,e);c.extend(e,d||{});d=document.createEvent("UIEvents");d.initUIEvent(b,e.bubbles,e.cancelable,c.window,e.detail);c.extend(d,j);return a.dispatchEvent(d)},dispatchIEEvent:function(a,b,d){var g=b.toLowerCase();if("undefined"==typeof a.__events)if("object"==typeof a["on"+g]||"function"==typeof a["on"+g])this.addIEAttributeEvent(a,
b);else return;if("undefined"!=typeof a.__events[b]){d=d||{};if(a.__events[b].supported)return g=document.createEventObject(),c.extend(g,d),a.fireEvent("on"+b,g);for(g=c.extend(d,{target:a,type:b,currentTarget:a});a;){if(a.__events&&a.__events[b])for(var j in a.__events[b].callbacks)"boolean"==typeof d.safe&&!0===d.safe?(a.__events[b].handle.callback=a.__events[b].callbacks[j],a.__events[b].handle.event=g,a.__events[b].handle.dispatched=!1,g.currentTarget==document?document.documentElement.libEvent++:
g.currentTarget.libEvent++):!1===a.__events[b].callbacks[j].call(a,e(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};b.events={click:b.types.mouse,dblclick:b.types.mouse,mousedown:b.types.mouse,mouseenter:b.types.mouse,mouseleave:b.types.mouse,mouseup:b.types.mouse,mouseover:b.types.mouse,
mousemove:b.types.mouse,mouseout:b.types.mouse,keypress:b.types.keyboard,keydown:b.types.keyboard,keyup:b.types.keyboard,load:b.types.html,unload:b.types.html,abort:b.types.html,error:b.types.html,resize:b.types.html,scroll:b.types.html,select:b.types.html,change:b.types.html,submit:b.types.html,reset:b.types.html,focus:b.types.html,blur:b.types.html,DOMFocusIn:b.types.dom,DOMFocusOut:b.types.dom,DOMActivate:b.types.dom,DOMSubtreeModified:b.types.dom,DOMNodeInserted:b.types.dom,DOMNodeRemoved:b.types.dom,
DOMNodeRemovedFromDocument:b.types.dom,DOMNodeInsertedIntoDocument:b.types.dom,DOMAttrModified:b.types.dom,DOMCharacterDataModified:b.types.dom,mousewheel:b.types.wheel,DOMMouseScroll:b.types.wheel};c.event={add:c.bind(b.add,b),remove:c.bind(b.remove,b),dispatch:c.bind(b.dispatch,b),support:function(b){if("string"!=typeof b)return null;switch(b){case "DOMAttrModified":return a();default:return null}},compat:{DOMAttrModified:function(a,d){function e(){for(var b=a[g[0]],c=1;c<g.length;c++)b=b[g[c]];
return b}if(b.w3c){b.initEventProperty(a,"DOMAttrModified");"undefined"==typeof a.__events.DOMAttrModified.oldProperties&&(a.__events.DOMAttrModified.oldProperties={});var g=d.split("."),j=c.guid(),l=a.__events.DOMAttrModified.oldProperties[j]=e(),k=c.window.setInterval(function(){var g=e();l!==g&&(b.dispatch(a,"DOMAttrModified",{MODIFICATION:1,ADDITION:2,REMOVAL:3,attrChange:1,attrName:d,newValue:g,prevValue:l,compat:{stop:function(){c.window.clearInterval(k);delete a.__events.DOMAttrModified.oldProperties[j]}}}),
l=g)},15)}}}}})(lib);
(function(c){function e(){c.isDOMReady||(c.isDOMReady=!0,c.event.dispatch(document,"DOMReady",{safe:!0}),c.event.remove(c.document,"libReady"))}if(!c.isDOMReady)if("complete"==document.readyState)e();else if(!window.opera&&document.attachEvent)document.documentElement.doScroll&&window==top?function(){try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}e()}():document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",
arguments.callee),e())});else if(document.readyState)(function(){/loaded|complete/.test(document.readyState)?e():setTimeout(arguments.callee,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);e()},!1);else throw Error("Unable to bind lib ready listener to document.");})(lib);
(function(c){c.dimensions={CONTENT:1,BORDER:2,get:function(){return{innerWidth:c.window.innerWidth||c.document.documentElement.offsetWidth,innerHeight:c.window.innerHeight||c.document.documentElement.offsetHeight,scrollWidth:null,scrollHeight:null,scrollX:c.window.scrollX||c.document.documentElement.scrollLeft,scrollY:c.window.scrollY||c.document.documentElement.scrollTop}},center:function(){},centerVertical:function(){},centerHorizontal:function(){}}})(lib);
if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){}
(function(c){c.tween={Bezier:function(c,d,a,b){var f=3*c,h=3*(a-c)-f,i=1-f-h,g=3*d,j=3*(b-d)-g,l=1-g-j;return function(a){for(var b=a,c=0,d;5>c;){d=b*(f+b*(h+b*i))-a;if(0.0010>Math.abs(d))break;b-=d/(f+b*(2*h+3*i*b));c++}a=b;return a*(g+a*(j+a*l))}},bezier:function(c,d,a,b){return new this.Bezier(c,d,a,b)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){return c.window.requestAnimationFrame||c.window.mozRequestAnimationFrame||
c.window.webkitRequestAnimationFrame||c.window.msRequestAnimationFrame||c.window.oRequestAnimationFrame},run:function(e,d,a,b,f,h){function i(){if(g){var b=+new Date-g,m=l(b/a),b=13>a-b?!0:!1,m=(d-e)*m,m=e+m,m=b?d:m;k&&f.call(this,m);b?(o&&h.call(this,m),n||c.window.clearInterval(j)):n&&n(i)}else g=+new Date,n&&n(i)}var g,j,l,k=c.util.isFunction(f),o=c.util.isFunction(h),n=this.getRequestAnimationFrame();l="string"==typeof b&&this.easing[b]?this.bezier.apply(this,this.easing[b]):c.util.isArray(b)&&
4==b.length?this.bezier.apply(this,b):this.bezier.apply(this,this.easing.ease);n?n(i):j=c.window.setInterval(i,13)}}})(lib);
(function(c){function e(a){this.__guid=c.guid();this.__bound={};if(c.dom.isTypeOf(a,c.dom.ELEMENT_NODE|c.dom.DOCUMENT_NODE)||a==c.window)this.element=a}function d(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=c.util.getFunctionName(this.widgetConstructor)}c.extend(e.prototype,{_bind:function(a){this.__bound[a]=this[a]},dispose:function(){},call:function(a){var b=c.array.toArray(arguments);b.shift();b.shift();return this.apply(a,b)},apply:function(a,b){var c;try{return c=this.__bound[a],
c.apply(this,b)}catch(d){throw Error("method "+a+" isn't bound");}}});c.extend(d.prototype,{run:function(a,b){var d,a=c.util.isArray(a)?c.array.toArray(a):[a];c.array.forEach(a,c.bind(function(a){d=new this.widgetConstructor(a,b);d.element&&(d.element.__widgets={},d.element.__widgets[this.name]=d);this.items.push(d);this.length++},this));return d},create:function(a,b){!0!==a&&!1!=!!a&&1==arguments.length&&(b=a,a=!1);return a?new this.widgetConstructor(c.dom.create("<div>"),b):new this.widgetConstructor(null,
b)},destroy:function(a){for(var b=0,d=this.items.length;b<d;b++)if(!(a&&a!=this.items[b])){a.dispose();var e=c.util.getType(a);delete a.element.__widgets[e];this.items.splice(b,1);this.length--}},item:function(a){return this.items[a]||null},call:function(a,b){var d=c.array.toArray(arguments);d.shift();d.shift();return this.apply(a,b,d)},apply:function(a,b,d){return c.widget.get(a,this.name).apply(b,d)}});c.widget={Widget:e,create:function(a,b){c.util.inherits(a,e);c.extend(a.prototype,c.widget.helpers);
c.extend(a.prototype,b);return new d(a)},get:function(a,b){return c.dom.isTypeOf(a,c.dom.ELEMENT_NODE)&&a.__widgets?(b=b instanceof d?b.name:b,a.__widgets[b]||null):null}}})(lib);
(function(c){c.widget.helpers={};c.extend(c.widget.helpers,{_addEvent:function(e,d,a){var b=c.bind(a,this);this.__events||(this.__events=[]);this.__events.push([e,d,a,b]);c.event.add(e,d,b)},_removeEvent:function(e,d,a){c.array.forEach(this.__events,function(b,f,h){var i=!0;e&&(i=i&&e==b[0]);d&&(i=i&&d==b[1]);a&&(i=i&&a==b[2]);i&&(c.event.remove(b[0],b[1],b[3]),h.splice(f,0))})},_dispatchEvent:function(e,d){c.event.dispatch(this.element,e,d)}})})(lib);
(function(c){function e(a,b){if(this==c.widget)return new e(a,b);if(c.util.isObject(a)){this.__guid=c.guid();this._bound={};b&&c.dom.isTypeOf(b,c.dom.ELEMENT_NODE)&&(this._element=b,this._eventName="__modelChange"+this.__guid);for(var i in a){var g=this[i]=this._element?c.util.Bindable(a[i],this._element):c.util.Bindable(a[i]);g.name=i;g.model=this;g.bind(d)}}}function d(b,d){var e=this.model;e._element?c.event.dispatch(e._element,e._eventName,{value:b,oldValue:d,property:this.name}):a.call(e,b,d,
this.name)}function a(a,c,d){for(var e in this._bound)b.call(this,e,a,c,d)}function b(a,b,c,d){this._bound[a].target.call(this,b,c,d)}c.extend(e.prototype,{dispose:function(){this.unbind();for(var a in this)this[a]instanceof c.util.Bindable&&this[a].dispose()},bind:function(a){if(c.util.isFunction(a)){var d=c.guid(),a={id:d,target:a,proxy:null};this._bound[d]=a;this._element&&(a.proxy=c.bind(function(a){c.bind(b,this)(d,a.value,a.oldValue,a.property)},this),c.event.add(this._element,this._eventName,
a.proxy))}},unbind:function(a){var b=this._bound,d;for(d in b){var e=b[d].target==a;if(e||!a)this._element&&c.event.remove(this._element,this._eventName,this._bound[d].proxy),delete b[d];if(e)break}}});c.widget.Model=e})(lib);
