/*
Copyright (c) 2012 https://github.com/monai/

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(d,c){var e=function f(){d.console&&d.console.log&&d.console.log.apply?d.console.log.apply(d.console,arguments):(f.output.push(a.array.toArray(arguments).join(", ")),d.clearTimeout(f.time),f.time=d.setTimeout(function(){var a=f.output.join("\r\n");f.output=[];alert(a)},1E3));return arguments[0]},a={log:e,inspect:function(f){var a=[],c;for(c in f)a.push(c+": "+f[c]);return a.join("\r\n")},window:d,document:d&&d.document,isReady:!1,isDOMReady:!1,ready:function(f,e){f===c?(a.isReady=!0,a.event.dispatch(a.document,
"libReady"),a.event.remove(a.document,"libReady")):"function"==typeof f&&(!a.isReady&&!e?a.event.add(a.document,"libReady",a.bind(f,a.window)):!a.isDOMReady&&e?a.event.add(a.document,"DOMReady",a.bind(f,a.window)):f())},extend:function(a){for(var c,e=0,d=arguments.length;++e<d;)for(c in arguments[e])a[c]=arguments[e][c];return a},bind:function(a,c){return"bind"in a?a.bind(c):function(){return a.apply(c,arguments)}},guid:function(f){if(!f)return++a.guid.id;f.__guid||(f.__guid=a.guid.id++);return f.__guid}};
a.log.output=[];a.guid.id=1;d.lib||(d.lib=a);d.log||(d.log=e)})(window);
(function(d){d.util={getType:function(c){var e=Object.prototype,a=e.toString.call(c);if(null===c)return"null";if(!0===c||!1===c)return"boolean";if("[object Array]"==a)return"Array";if("[object Arguments]"==a||e.hasOwnProperty.call(c,"callee"))return"Arguments";if("[object Function]"==a)return"Function";if("[object String]"==a)return"String";if("[object Number]"==a)return"Number";if("[object Date]"==a)return"Date";if("[object RegExp]"==a)return"RegExp";if("object"==typeof c)return this.getFunctionName(c.constructor)},
isObject:function(c){return c===Object(c)},isArray:function(c){return"Array"==this.getType(c)},isArguments:function(c){return"Arguments"==this.getType(c)},isFunction:function(c){return"Function"==this.getType(c)},isString:function(c){return"String"==this.getType(c)},isNumber:function(c){return"Number"==this.getType(c)},isDate:function(c){return"Date"==this.getType(c)},isRegExp:function(c){return"RegExp"==this.getType(c)},getFunctionName:function(c){if(this.isFunction(c)){if(/^function (\S+?)\(/.test(c.toString()))return RegExp.$1}else return null},
inherits:function(c,e){c.superConstructor=e;if(Object.create)c.prototype=Object.create(e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});else{var a=function(){};a.prototype=e.prototype;c.prototype=new a}}}})(lib);
(function(d){function c(e,a){if(this==d.util)return new c(e,a);this.name=e;this.endTime=this.startTime=null;(a||"undefined"==typeof a)&&this.start()}d.extend(c.prototype,{start:function(){this.startTime=(new Date).getTime()},stop:function(){this.endTime=(new Date).getTime();return this.endTime-this.startTime},log:function(){var c=this.stop();d.log(this.name+": "+c+"ms")}});d.util.Benchmark=c})(lib);
(function(d){function c(e){if(this==d.util)return new c(e);this.__guid=d.guid();this._bound=[];this.value=e}d.extend(c.prototype,{toString:function(){return"[object Bindable]"},valueOf:function(){return this.get()},get:function(){return this.value},set:function(c){var a=this.value;this.value=c;d.array.forEach(this._bound,d.bind(function(b){d.util.isArray(b)?b[0][b[1]]=this.value:b.call(this,this.value,a)},this));return this},bind:function(c,a){c&&"string"==typeof a?this._bound.push([c,a]):d.util.isFunction(c)&&
this._bound.push(c)},unbind:function(c,a){if(c)for(var b=this._bound,f=0,d=b.length;f<d;f++){if(b[f]===c||b[f][0]===c&&b[f][1]===a){b.splice(f,1);break}}else this._bound=[]}});d.util.Bindable=c})(lib);
(function(d){d.object={keys:function(c){if("keys"in Object)return Object.keys(c);var e=[],a;for(a in c)e.push(a);return e},createFromTemplate:function(c,e){var e=e?e:{},a=c.split(".");(function f(a,c){a[c[0]]||(a[c[0]]={});1<c.length&&f(a[c[0]],c.splice(1))})(e,a);return e},subtract:function(c,e){var a={},b;for(b in c)"undefined"==typeof e[b]&&(a[b]=c[b]);return a}}})(lib);
(function(d){d.array={toArray:function(c){var e=[];try{e=Array.prototype.slice.call(c,0)}catch(a){for(var b=0,f=c.length;b<f;b++)e[b]=c[b]}return e},indexOf:function(c,e){for(var a=0,b=c.length;a<b;a++)if(c[a]===e)return a;return-1},lastIndexOf:function(c,e){for(var a=c.length-1;0<=a;a--)if(c[a]===e)return a;return-1},inArray:function(c,e){return-1<this.indexOf(c,e)?!0:!1},forEach:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("forEach"in c)c.forEach(e,a||d.window);
else for(var b=0,f=c.length;b<f;b++)e.call(a||d.window,c[b],b,c)},every:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("every"in c)return c.every(e,a||d.window);for(var b=0,f=c.length;b<f;b++)if(b in c&&!e.call(a||d.window,c[b],b,c))return!1;return!0},some:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("some"in c)return c.some(e,a||d.window);for(var b=0,f=c.length;b<f;b++)if(b in c&&e.call(a||d.window,c[b],b,c))return!0;
return!1},filter:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("filter"in c)return c.filter(e,a||d.window);for(var b=[],f=0,j=c.length;f<j;f++)f in c&&e.call(a||d.window,c[f],f,c)&&b.push(c[f]);return b},map:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("map"in c)return c.map(e,a||d.window);for(var b=c.length,f=Array(b),j=0;j<b;j++)j in c&&(f[j]=e.call(a||d.window,c[j],j,c));return f},reduce:function(c,e,a){if("function"!=
typeof e)throw new TypeError(e+" is not a function");if("reduce"in c)return c.reduce(e,a);var b=c.length,f="undefined"==typeof a;if(0==b&&f)throw new TypeError("Reduce of empty array with no initial value");for(var j=0,a=f?a:c[j++];j<b;j++)j in c&&(a=e.call(d.window,a,c[j],j,c));return a},reduceRight:function(c,e,a){if("function"!=typeof e)throw new TypeError(e+" is not a function");if("reduceRight"in c)return c.reduceRight(e,a);var b=c.length,f="undefined"==typeof a;if(0==b&&f)throw new TypeError("Reduce of empty array with no initial value");
b-=1;for(a=f?a:c[b--];0<=b;b--)b in c&&(a=e.call(d.window,a,c[b],b,c));return a},equal:function(c){for(var e=!0,a=c.length,b=1,f=arguments.length;b<f;b++){if(a!=arguments[b].length)return!1;for(var d=0;d<a;d++)if(c[d]instanceof Array||arguments[b][d]instanceof Array)if(c[d]instanceof Array&&arguments[b][d]instanceof Array){if(e=this.equal(c[d],arguments[b][d]),!e)break}else return!1;else if(e=c[d]==arguments[b][d],!e)break;if(!e)break}return e},subtract:function(c){for(var d=c,a=[],b=[],f=1,j=arguments.length;f<
j;f++)if(arguments[f]instanceof Array)for(var h=0,g=arguments[f].length;h<g;h++)b.push(arguments[f][h]);else b.push(arguments[f]);f=0;for(g=b.length;f<g;f++){h=0;for(j=d.length;h<j;h++)b[f]instanceof Array?this.equal(d[h],b[f])||a.push(d[h]):d[h]!=b[f]&&a.push(d[h]);d=a;a=[]}return d},intersect:function(c){for(var d=c,a=1,b=arguments.length;a<b;a++)var f=this.subtract(c,arguments[a]),d=this.subtract(d,f);return d}}})(lib);
(function(d){d.string={trim:function(c){if("trim"in String)return String.trim(c);for(var c=c.replace(/^\s\s*/,""),d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},trimLeft:function(c){return"trimLeft"in String?String.trimLeft(c):c.replace(/^\s\s*/,"")},trimRight:function(c){if("trimRight"in String)return String.trimRight(c);for(var d=c.length;/\s/.test(c.charAt(--d)););return c.slice(0,d+1)},padding:function(c,d,a){"string"!=typeof c&&(c=c.toString());var b=Math.abs(a);if(c.length>=b)return c;
for(var f=Array(b-c.length),j=0,h=f.length;j<h;j++)f[j]=d;b==a?f.push(c):f.unshift(c);return f.join("")},format:function(c,d){return c.replace(/\{(\d+)\}/g,function(a,b){return d[parseInt(b)]})}}})(lib);
(function(d){d.date={parseISOString:function(c){var d=Date.parse(c);if(!isNaN(d))return new Date(d);var c=c.match(/\d+/g),c=new Date(c[0],parseInt(c[1],10)-1,c[2],c[3],c[4],c[5],c[6]),a=(new Date).getTimezoneOffset(),d=Math.abs(a),a=d==a?-1:1,b=(d-d%60)/60,d=d-60*b;c.setHours(c.getHours()+b*a);c.setMinutes(c.getMinutes()+d*a);return c},toISOString:function(c){return"toISOString"in c?c.toISOString():c.getUTCFullYear()+"-"+d.util.padding(c.getUTCMonth()+1,0,2)+"-"+d.util.padding(c.getUTCDate(),0,2)+
"T"+d.util.padding(c.getUTCHours(),0,2)+":"+d.util.padding(c.getUTCMinutes(),0,2)+":"+d.util.padding(c.getUTCSeconds(),0,2)+"."+d.util.padding(c.getUTCMilliseconds(),0,3)+"Z"}}})(lib);
(function(d){d.JSON={parse:function(c){if(JSON&&"parse"in JSON)return JSON.parse(c);if("string"!=typeof c&&"undefined"!=typeof c)return c;if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/\"[^\"\\\n\r]*\"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return ("+c+")"))();throw new SyntaxError("Invalid JSON");},stringify:function(c){function e(a){var f,c,h;"array"==d.util.getType(a)?(f="[",c="]",
h=!1):(f="{",c="}",h=!0);f=[f];var g=1,k,l=!1,m;for(m in a)if(k=d.util.getType(a[m]),"undefined"!=k)switch(l&&(f[g++]=","),l=!0,h&&(f[g++]='"',f[g++]=m,f[g++]='"',f[g++]=":"),k){case "Function":throw new TypeError("Cannot stringify function to JSON");default:f[g++]='"';f[g++]=a[m];f[g++]='"';break;case "Number":case "Boolean":f[g++]=a[m];break;case "Object":case "Array":f[g++]=e(a[m]);break;case "null":f[g++]=null}f[g++]=c;return f.join("")}var a=d.util.getType(c);if("Object"==a||"Array"==a)return e(c);
throw new TypeError("Cannot stringify function to JSON");}}})(lib);
(function(d,c){d.dom={byId:function(a){return d.document.getElementById(a)},byTag:function(a,b){return(b||d.document).getElementsByTagName(a)},byClass:function(a,b,f){"object"==typeof b&&"undefined"==typeof f&&(f=b,b=c);if(d.document.getElementsByClassName)for(var e=(f||d.document).getElementsByClassName(a),h=b?RegExp("\\b"+b+"\\b","i"):null,a=[],g=0;g<e.length;g++)(!h||h.test(e[g].nodeName))&&a.push(e[g]);else if(b=b||"*",f=f||d.document,d.document.evaluate){for(var k=a.split(" "),h="",l="http://www.w3.org/1999/xhtml"===
d.document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,a=[],g=0;g<k.length;g++)h+="[contains(concat(' ', @class, ' '), ' "+k[g]+" ')]";try{e=d.document.evaluate(".//"+b+h,f,l,0,null)}catch(m){e=d.document.evaluate(".//"+b+h,f,null,0,null)}for(;g=e.iterateNext();)a.push(g)}else{k=a.split(" ");h=[];e="*"===b&&f.all?f.all:f.getElementsByTagName(b);a=[];for(g=0;g<k.length;g++)h.push(RegExp("(^|\\s)"+k[g]+"(\\s|$)"));for(g=0;g<e.length;g++){b=!1;for(f=0;f<h.length&&!(b=h[f].test(e[g].className),
!b);f++);b&&a.push(e[g])}}return a},parent:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.parentNode)&&(b&&!b.test(a.className)||f&&f!=a.nodeName););return a},isChild:function(a,b){for(;a=a.parentNode;)if(a===b)return!0;return!1},prev:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=f&&f.toUpperCase();(a=a.previousSibling)&&(1!=a.nodeType||b&&!b.test(a.className)||f&&f!=a.nodeName););return a},next:function(a,b,f){b=b&&RegExp("(^|\\s)"+b+"(\\s|$)");for(f=
f&&f.toUpperCase();(a=a.nextSibling)&&(1!=a.nodeType||b&&!b.test(a.className)||f&&f!=a.nodeName););return a},create:function(a){var b=d.document.createElement("div");b.innerHTML=a;return this.remove(b.firstChild)},remove:function(a){var b=this.parent(a);return b&&b.removeChild(a)},before:function(a,b){var f=this.parent(b);return f&&f.insertBefore(a,b)},after:function(a,b){var f=this.parent(b);return f&&f.insertBefore(a,b.nextSibling)},hasClass:function(a,b){return a.classList&&a.classList.contains?
a.classList.contains(b):RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){this.hasClass(a,b)||(a.classList&&a.classList.add?a.classList.add(b):a.className+=(a.className?" ":"")+b);return a},removeClass:function(a,b){a.classList&&a.classList.remove?a.classList.remove(b):a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)"),"$2");return a},toggleClass:function(a,b){if(a.classList&&a.classList.toggle)a.classList.toggle(b);else return this.hasClass(a,b)?this.removeClass(a,
b):this.addClass(a,b)},getStyle:function(a,b,f){var c=null,e=!1;d.window&&d.window.getComputedStyle?c=d.window.getComputedStyle(a,f||null)[b]:a.currentStyle?c=a.currentStyle[b]:(c=a.style[b],e=!0);return!c&&!e?a.style[b]:c},ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:4,CDATA_SECTION_NODE:8,ENTITY_REFERENCE_NODE:16,ENTITY_NODE:32,PROCESSING_INSTRUCTION_NODE:64,COMMENT_NODE:128,DOCUMENT_NODE:256,DOCUMENT_TYPE_NODE:512,DOCUMENT_FRAGMENT_NODE:1024,NOTATION_NODE:2048,isDOMNode:function(a){return!a&&!("nodeType"in
a||"number"==typeof a.nodeType)?!1:0<a.nodeType&&13>a.nodeType},isTypeOf:function(a,b){if(this.isDOMNode(a)){for(var f=0,c=e.length;f<c;f++)if(a.nodeType==e[f][0]&&(b|e[f][1])==b)return!0;return!1}},dataset:{get:function(a,b){if(d.util.isArray(b)){var f={};d.array.forEach(b,function(b){f[b]=d.dom.dataset.get(a,b)});return f}return a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},set:function(a,b,f){a.dataset?a.dataset[b]=f:a.setAttribute("data-"+b,f||"")},remove:function(a,b){a.dataset?delete a.dataset[b]:
a.removeAttribute("data-"+b)}}};var e=[[1,1],[2,2],[3,4],[4,8],[5,16],[6,32],[7,64],[8,128],[9,256],[10,512],[11,1024],[12,2048]]})(lib);
(function(d){function c(e){if(this==d.dom)return new c(e);this.items=[];this.length=0;if(e)for(var e=d.array.toArray(e),a=0;a<e.length;a++)e[a].nodeType&&d.array.inArray([1,9],e[a].nodeType)&&(this.length=this.push(e[a]))}d.extend(c.prototype,{toString:function(){return this.items.join(", ")},valueOf:function(){return this},length:0,item:function(c){return this.items[c]},push:function(c){return this.length=this.items.push(c)},pop:function(){var c=this.items.pop();this.length=this.items.length;return c},
unshift:function(c){return this.length=this.items.unshift(c)},shift:function(){var c=this.items.shift();this.length=this.items.length;return c},reverse:function(){this.items.reverse();return this},sort:function(c){this.items.sort(c);return this},splice:function(){for(var e=Array.prototype.splice.apply(this.items,arguments),a=[],b=0;b<this.items.length;b++)this.items[b].nodeType&&d.array.inArray([1,9],this.items[b].nodeType)&&a.push(this.items[b]);this.items=a;this.length=this.items.length;return new c(e)},
concat:function(){for(var d=this.items,a=0;a<arguments.length;a++)if(arguments[a]instanceof c)for(var b=0;b<arguments[a].length;b++)d.push(arguments[a].item(b));return new c(d)},subtract:function(){for(var d=this.items,a=[],b=0;b<arguments.length;b++)if(arguments[b]instanceof c){for(var f=0;f<d.length;f++){for(var j=!1,h=0;h<arguments[b].length;h++)d[f]==arguments[b].item(h)&&(j=!0);j||a.push(d[f])}d=a;a=[]}return new c(d)},slice:function(d,a){var b=this.items.slice(d,a);return new c(b)},toArray:function(){for(var c=
Array(this.items.length),a=0;a<this.items.length;a++)c[a]=this.items[a];return c},forEach:function(c,a){d.array.forEach(this.items,c,a)},every:function(c,a){return d.array.every(this.items,c,a)},some:function(c,a){return d.array.some(this.items,c,a)},filter:function(c,a){return d.array.filter(this.items,c,a)},map:function(c,a){return d.array.map(this.items,c,a)},byTag:function(e){for(var a=[],b=0;b<this.items.length;b++)for(var f=d.dom.byTag(e,this.items[b]),j=0;j<f.length;j++)a.push(f[j]);return new c(a)},
byClass:function(e,a){for(var b=[],f=0;f<this.items.length;f++)for(var j=d.dom.byClass(e,a,this.items[f]),h=0;h<j.length;h++)b.push(j[h]);return new c(b)}});d.dom.NodeList=c})(lib);
(function(d){function c(a,c){a.target=a.target||a.srcElement;a.currentTarget=c&&c.nodeName?c:null===c?null:a.currentTarget;c&&c.nodeName&&a.toElement&&a.toElement.nodeName&&(a.relatedTarget=a.toElement==a.target?a.fromElement:a.toElement);a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};return a}function e(a){for(var c="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
b,d=0;++d<arguments.length;)for(b in c)"undefined"!=typeof arguments[d][c[b]]&&(a[c[b]]=arguments[d][c[b]]);a.originalEvent=arguments[1];return a}function a(){if(b.w3c){var a=!1,c=document.createElement("div");c.addEventListener("DOMAttrModified",function(b){b&&b.target&&b.target===c&&(a=!0)},!1);c.style.display="none";return a}return!0}var b={add:function(a,b,h){var g=b.toLowerCase();this.initEventProperty(a,b);a.__events[b].callbacks[d.guid(h)]=h;this.w3c?a.addEventListener(b,h,!1):this.ie&&(a.__events[b].handle=
null,a.__events[b].IECallbacks={},a.__events[b].hasAttribute=!1,a.__events[b].supported="object"==typeof a["on"+g]||"function"==typeof a["on"+g],a.__events[b].supported?(null!==a["on"+g]&&this.addIEAttributeEvent(a,b),g=d.bind(function(){var b="undefined"==typeof h.attributeEvent?c(d.window.event,a):c(d.window.event,null);return h.apply(a,[b])},this),a.__events[b].IECallbacks[h._guid]=g,a.attachEvent("on"+b,g)):(a.__events[b].handle=function(a){this.event=e(this.event,a);this.event=c(this.event);
return this.callback.apply(this.event.currentTarget,[this.event])},g=a==d.document?d.document.documentElement:a,"undefined"==typeof a.libEvent&&(a.libEvent=0,a!=g&&(g.libEvent=0)),g.attachEvent("onpropertychange",function(c){if("libEvent"==c.propertyName&&a.__events[b].handle.event&&a==a.__events[b].handle.event.currentTarget&&!1===a.__events[b].handle.dispatched)return a.__events[b].handle.dispatched=!0,d.bind(a.__events[b].handle,a.__events[b].handle)(c)})))},initEventProperty:function(a,c){"undefined"==
typeof a.__events&&(a.__events={});"undefined"==typeof a.__events[c]&&(a.__events[c]={});"undefined"==typeof a.__events[c].callbacks&&(a.__events[c].callbacks={})},addIEAttributeEvent:function(a,c){this.initEventProperty(a,c);a.__events[c].hasAttribute=!0;var b=c.toLowerCase(),d=a["on"+b];a["on"+b]=null;d.attributeEvent=!0;this.add(a,c,d)},remove:function(a,c,b){if("undefined"==typeof c)for(c in a.__events)this.remove(a,c);if("object"==typeof a.__events&&"object"==typeof a.__events[c])if("function"==
typeof b)this.w3c?a.removeEventListener(c,b,!1):this.ie&&a.__events[c].supported&&(a.detachEvent("on"+c,a.__events[c].IECallbacks[b.__guid]),delete a.__events[c].IECallbacks[b.__guid]),delete a.__events[c].callbacks[b.__guid];else for(i in a.__events[c].callbacks)this.remove(a,c,a.__events[c].callbacks[i])},dispatch:function(a,c,b){if(this.w3c)switch(this.events[c]){case this.types.mouse:return this.dispatchMouseEvent(a,c,b);case this.types.keyboard:return this.dispatchKeyboardEvent(a,c,b);case this.types.html:return this.dispatchHTMLEvent(a,
c,b);default:return this.dispatchUIEvent(a,c,b)}else if(this.ie)return this.dispatchIEEvent(a,c,b)},dispatchMouseEvent:function(a,c,b){"undefined"==typeof b&&(b={});var e={bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},k=d.object.subtract(b,e);d.extend(e,b||{});b=document.createEvent("MouseEvents");b.initMouseEvent(c,e.bubbles,e.cancelable,d.window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,
e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);d.extend(b,k);return a.dispatchEvent(b)},dispatchKeyboardEvent:function(a,c,b){"undefined"==typeof b&&(b={});var e={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:9,charCode:0},k=d.object.subtract(b,e);d.extend(e,b||{});b=document.createEvent("KeyboardEvent");"undefined"==typeof b.initKeyboardEvent&&b.initKeyEvent&&(b.initKeyboardEvent=b.initKeyEvent);b.initKeyboardEvent(c,e.bubbles,e.cancelable,d.window,e.ctrlKey,
e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);d.extend(b,k);return a.dispatchEvent(b)},dispatchHTMLEvent:function(a,c,b){"undefined"==typeof b&&(b={});var e={bubbles:!0,cancelable:!0},k=d.object.subtract(b,e);d.extend(e,b||{});b=document.createEvent("HTMLEvents");b.initEvent(c,e.bubbles,e.cancelable);d.extend(b,k);return a.dispatchEvent(b)},dispatchUIEvent:function(a,b,c){"undefined"==typeof c&&(c={});var e={bubbles:!0,cancelable:!0,detail:null},k=d.object.subtract(c,e);d.extend(e,c||{});c=
document.createEvent("UIEvents");c.initUIEvent(b,e.bubbles,e.cancelable,d.window,e.detail);d.extend(c,k);return a.dispatchEvent(c)},dispatchIEEvent:function(a,b,e){var g=b.toLowerCase();if("undefined"==typeof a.__events)if("object"==typeof a["on"+g]||"function"==typeof a["on"+g])this.addIEAttributeEvent(a,b);else return;if("undefined"!=typeof a.__events[b]){e=e||{};if(a.__events[b].supported)return g=document.createEventObject(),d.extend(g,e),a.fireEvent("on"+b,g);for(g=d.extend(e,{target:a,type:b,
currentTarget:a});a;){if(a.__events&&a.__events[b])for(var k in a.__events[b].callbacks)"boolean"==typeof e.safe&&!0===e.safe?(a.__events[b].handle.callback=a.__events[b].callbacks[k],a.__events[b].handle.event=g,a.__events[b].handle.dispatched=!1,g.currentTarget==document?document.documentElement.libEvent++:g.currentTarget.libEvent++):!1===a.__events[b].callbacks[k].call(a,c(g,a))&&(g.preventDefault(),g.stopPropagation());a=g.currentTarget=!g.cancelBubble&&a.parentNode}return!1!==g.returnValue}},
w3c:document.addEventListener?!0:!1,ie:document.attachEvent&&!document.addEventListener?!0:!1,types:{mouse:1,keyboard:2,html:3,dom:4,wheel:5}};b.events={click:b.types.mouse,dblclick:b.types.mouse,mousedown:b.types.mouse,mouseenter:b.types.mouse,mouseleave:b.types.mouse,mouseup:b.types.mouse,mouseover:b.types.mouse,mousemove:b.types.mouse,mouseout:b.types.mouse,keypress:b.types.keyboard,keydown:b.types.keyboard,keyup:b.types.keyboard,load:b.types.html,unload:b.types.html,abort:b.types.html,error:b.types.html,
resize:b.types.html,scroll:b.types.html,select:b.types.html,change:b.types.html,submit:b.types.html,reset:b.types.html,focus:b.types.html,blur:b.types.html,DOMFocusIn:b.types.dom,DOMFocusOut:b.types.dom,DOMActivate:b.types.dom,DOMSubtreeModified:b.types.dom,DOMNodeInserted:b.types.dom,DOMNodeRemoved:b.types.dom,DOMNodeRemovedFromDocument:b.types.dom,DOMNodeInsertedIntoDocument:b.types.dom,DOMAttrModified:b.types.dom,DOMCharacterDataModified:b.types.dom,mousewheel:b.types.wheel,DOMMouseScroll:b.types.wheel};
d.event={add:d.bind(b.add,b),remove:d.bind(b.remove,b),dispatch:d.bind(b.dispatch,b),support:function(b){if("string"!=typeof b)return null;switch(b){case "DOMAttrModified":return a();default:return null}},compat:{DOMAttrModified:function(a,c){function e(){for(var b=a[g[0]],c=1;c<g.length;c++)b=b[g[c]];return b}if(b.w3c){b.initEventProperty(a,"DOMAttrModified");"undefined"==typeof a.__events.DOMAttrModified.oldProperties&&(a.__events.DOMAttrModified.oldProperties={});var g=c.split("."),k=d.guid(),
l=a.__events.DOMAttrModified.oldProperties[k]=e(),m=d.window.setInterval(function(){var g=e();l!==g&&(b.dispatch(a,"DOMAttrModified",{MODIFICATION:1,ADDITION:2,REMOVAL:3,attrChange:1,attrName:c,newValue:g,prevValue:l,compat:{stop:function(){d.window.clearInterval(m);delete a.__events.DOMAttrModified.oldProperties[k]}}}),l=g)},15)}}}}})(lib);
(function(d){function c(){d.isDOMReady||(d.isDOMReady=!0,d.event.dispatch(document,"DOMReady",{safe:!0}),d.event.remove(d.document,"libReady"))}if(!d.isDOMReady)if("complete"==document.readyState)c();else if(!window.opera&&document.attachEvent)document.documentElement.doScroll&&window==top?function(){try{document.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}c()}():document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",
arguments.callee),c())});else if(document.readyState)(function(){/loaded|complete/.test(document.readyState)?c():setTimeout(arguments.callee,0)})();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);c()},!1);else throw Error("Unable to bind lib ready listener to document.");})(lib);
(function(d){d.dimensions={CONTENT:1,BORDER:2,get:function(){return{innerWidth:d.window.innerWidth||d.document.documentElement.offsetWidth,innerHeight:d.window.innerHeight||d.document.documentElement.offsetHeight,scrollWidth:null,scrollHeight:null,scrollX:d.window.scrollX||d.document.documentElement.scrollLeft,scrollY:d.window.scrollY||d.document.documentElement.scrollTop}},center:function(){},centerVertical:function(){},centerHorizontal:function(){}}})(lib);
if(!window.opera)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){}
(function(d){d.tween={Bezier:function(c,d,a,b){var f=3*c,j=3*(a-c)-f,h=1-f-j,g=3*d,k=3*(b-d)-g,l=1-g-k;return function(a){for(var b=a,c=0,d;5>c;){d=b*(f+b*(j+b*h))-a;if(0.0010>Math.abs(d))break;b-=d/(f+b*(2*j+3*h*b));c++}a=b;return a*(g+a*(k+a*l))}},bezier:function(c,d,a,b){return new this.Bezier(c,d,a,b)},easing:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1]},getRequestAnimationFrame:function(){return d.window.requestAnimationFrame||d.window.mozRequestAnimationFrame||
d.window.webkitRequestAnimationFrame||d.window.msRequestAnimationFrame||d.window.oRequestAnimationFrame},run:function(c,e,a,b,f,j){function h(){if(g){var b=+new Date-g,n=l(b/a),b=13>a-b?!0:!1,n=(e-c)*n,n=c+n,n=b?e:n;m&&f.call(this,n);b?(p&&j.call(this,n),o||d.window.clearInterval(k)):o&&o(h)}else g=+new Date,o&&o(h)}var g,k,l,m=d.util.isFunction(f),p=d.util.isFunction(j),o=this.getRequestAnimationFrame();l="string"==typeof b&&this.easing[b]?this.bezier.apply(this,this.easing[b]):d.util.isArray(b)&&
4==b.length?this.bezier.apply(this,b):this.bezier.apply(this,this.easing.ease);o?o(h):k=d.window.setInterval(h,13)}}})(lib);
(function(d){function c(a){this.__bound={};d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&(this.element=a,this.element.__widgets={},this.element.__widgets[d.util.getType(this)]=this)}function e(a){this.widgetConstructor=a;this.items=[];this.length=0;this.name=d.util.getFunctionName(this.widgetConstructor)}d.extend(c.prototype,{bind:function(a){this.__bound[a]=this[a]}});d.extend(e.prototype,{run:function(a){a=d.util.isArray(a)?d.array.toArray(a):[a];d.array.forEach(a,d.bind(function(a){this.items.push(new this.widgetConstructor(a));
this.length++},this))},item:function(a){return this.items[a]||null},call:function(a,b){var c=d.array.toArray(arguments);c.shift();c.shift();return this.apply(a,b,c)},apply:function(a,b,c){a=d.widget.get(a,this.name);b=a.__bound[b];if(d.util.isFunction(b))return b.apply(a,c)}});d.widget={Widget:c,create:function(a,b){d.util.inherits(a,c);d.extend(a.prototype,b);return new e(a)},get:function(a,b){return d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&a.__widgets?(b=b instanceof e?b.name:b,a.__widgets[b]||null):
null}}})(lib);
(function(d){function c(e,a){if(this==d.widget)return new c(e,a);if(d.util.isObject(e)){this.__guid=d.guid();a&&d.dom.isTypeOf(a,d.dom.ELEMENT_NODE)&&(this._element=a,this._eventName="__widgetModelPropertyChange"+this.__guid,this._callbacks={original:[],bound:[]});for(var b in e){var f=this,j=this[b]=d.util.Bindable(e[b]);j.name=b;this._element&&j.addListener(d.bind(function(a,b){var c=this.name;d.event.dispatch(f._element,f._eventName+c,{property:c,value:a,oldValue:b})},j))}}}d.extend(c.prototype,{addListener:function(c,
a){if(d.util.isFunction(a))if(this._element){var b=this._eventName+c,f=function(b){a(b.value,b.oldValue)};this._callbacks.original.push(a);this._callbacks.bound.push(f);d.event.add(this._element,b,f)}else this[c].addListener(a)},removeListener:function(c,a){if(this._element)for(var b=this._eventName+c,f=this._callbacks,j=0,h=f.original.length;j<h;j++){if(f.original[j]===a){d.event.remove(this._element,b,f.bound[j]);f.original.splice(j,1);f.bound.splice(j,1);break}}else this[c].removeListener(a)}});
d.widget.Model=c})(lib);
